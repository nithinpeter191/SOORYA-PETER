!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function i(t,e,i){var n,o=(e=e||at).createElement("script");if(o.text=t,i)for(n in xt)i[n]&&(o[n]=i[n]);e.head.appendChild(o).parentNode.removeChild(o)}function n(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?dt[ft.call(t)]||"object":typeof t}function o(t){var e=!!t&&"length"in t&&t.length,i=n(t);return!yt(t)&&!_t(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function a(t,e,i){return yt(e)?wt.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?wt.grep(t,function(t){return t===e!==i}):"string"!=typeof e?wt.grep(t,function(t){return ut.call(e,t)>-1!==i}):wt.filter(e,t,i)}function s(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function l(t){var e={};return wt.each(t.match(Lt)||[],function(t,i){e[i]=!0}),e}function h(t){return t}function c(t){throw t}function u(t,e,i,n){var o;try{t&&yt(o=t.promise)?o.call(t).done(e).fail(i):t&&yt(o=t.then)?o.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}function d(){at.removeEventListener("DOMContentLoaded",d),t.removeEventListener("load",d),wt.ready()}function f(t,e){return e.toUpperCase()}function p(t){return t.replace(Rt,"ms-").replace(zt,f)}function g(){this.expando=wt.expando+g.uid++}function m(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Wt.test(t)?JSON.parse(t):t)}function v(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Ft,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=m(i)}catch(t){}Vt.set(t,e,i)}else i=void 0;return i}function y(t,e,i,n){var o,r,a=20,s=n?function(){return n.cur()}:function(){return wt.css(t,e,"")},l=s(),h=i&&i[3]||(wt.cssNumber[e]?"":"px"),c=(wt.cssNumber[e]||"px"!==h&&+l)&&Gt.exec(wt.css(t,e));if(c&&c[3]!==h){for(l/=2,h=h||c[3],c=+l||1;a--;)wt.style(t,e,c+h),(1-r)*(1-(r=s()/l||.5))<=0&&(a=0),c/=r;c*=2,wt.style(t,e,c+h),i=i||[]}return i&&(c=+c||+l||0,o=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=c,n.end=o)),o}function _(t){var e,i=t.ownerDocument,n=t.nodeName,o=qt[n];return o||(e=i.body.appendChild(i.createElement(n)),o=wt.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),qt[n]=o,o)}function x(t,e){for(var i,n,o=[],r=0,a=t.length;r<a;r++)(n=t[r]).style&&(i=n.style.display,e?("none"===i&&(o[r]=Ht.get(n,"display")||null,o[r]||(n.style.display="")),""===n.style.display&&Yt(n)&&(o[r]=_(n))):"none"!==i&&(o[r]="none",Ht.set(n,"display",i)));for(r=0;r<a;r++)null!=o[r]&&(t[r].style.display=o[r]);return t}function w(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&r(t,e)?wt.merge([t],i):i}function b(t,e){for(var i=0,n=t.length;i<n;i++)Ht.set(t[i],"globalEval",!e||Ht.get(e[i],"globalEval"))}function S(t,e,i,o,r){for(var a,s,l,h,c,u,d=e.createDocumentFragment(),f=[],p=0,g=t.length;p<g;p++)if((a=t[p])||0===a)if("object"===n(a))wt.merge(f,a.nodeType?[a]:a);else if(Jt.test(a)){for(s=s||d.appendChild(e.createElement("div")),l=(Xt.exec(a)||["",""])[1].toLowerCase(),h=Qt[l]||Qt._default,s.innerHTML=h[1]+wt.htmlPrefilter(a)+h[2],u=h[0];u--;)s=s.lastChild;wt.merge(f,s.childNodes),(s=d.firstChild).textContent=""}else f.push(e.createTextNode(a));for(d.textContent="",p=0;a=f[p++];)if(o&&wt.inArray(a,o)>-1)r&&r.push(a);else if(c=wt.contains(a.ownerDocument,a),s=w(d.appendChild(a),"script"),c&&b(s),i)for(u=0;a=s[u++];)Kt.test(a.type||"")&&i.push(a);return d}function D(){return!0}function M(){return!1}function C(){try{return at.activeElement}catch(t){}}function T(t,e,i,n,o,r){var a,s;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(s in e)T(t,s,i,n,e[s],r);return t}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),!1===o)o=M;else if(!o)return t;return 1===r&&(a=o,(o=function(t){return wt().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=wt.guid++)),t.each(function(){wt.event.add(this,e,o,n,i)})}function I(t,e){return r(t,"table")&&r(11!==e.nodeType?e:e.firstChild,"tr")?wt(t).children("tbody")[0]||t:t}function A(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function k(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function E(t,e){var i,n,o,r,a,s,l,h;if(1===e.nodeType){if(Ht.hasData(t)&&(r=Ht.access(t),a=Ht.set(e,r),h=r.events)){delete a.handle,a.events={};for(o in h)for(i=0,n=h[o].length;i<n;i++)wt.event.add(e,o,h[o][i])}Vt.hasData(t)&&(s=Vt.access(t),l=wt.extend({},s),Vt.set(e,l))}}function L(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Zt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function O(t,e,n,o){e=ht.apply([],e);var r,a,s,l,h,c,u=0,d=t.length,f=d-1,p=e[0],g=yt(p);if(g||d>1&&"string"==typeof p&&!vt.checkClone&&ae.test(p))return t.each(function(i){var r=t.eq(i);g&&(e[0]=p.call(this,i,r.html())),O(r,e,n,o)});if(d&&(r=S(e,t[0].ownerDocument,!1,t,o),a=r.firstChild,1===r.childNodes.length&&(r=a),a||o)){for(l=(s=wt.map(w(r,"script"),A)).length;u<d;u++)h=r,u!==f&&(h=wt.clone(h,!0,!0),l&&wt.merge(s,w(h,"script"))),n.call(t[u],h,u);if(l)for(c=s[s.length-1].ownerDocument,wt.map(s,k),u=0;u<l;u++)h=s[u],Kt.test(h.type||"")&&!Ht.access(h,"globalEval")&&wt.contains(c,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?wt._evalUrl&&wt._evalUrl(h.src):i(h.textContent.replace(se,""),c,h))}return t}function P(t,e,i){for(var n,o=e?wt.filter(e,t):t,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||wt.cleanData(w(n)),n.parentNode&&(i&&wt.contains(n.ownerDocument,n)&&b(w(n,"script")),n.parentNode.removeChild(n));return t}function N(t,e,i){var n,o,r,a,s=t.style;return(i=i||he(t))&&(""!==(a=i.getPropertyValue(e)||i[e])||wt.contains(t.ownerDocument,t)||(a=wt.style(t,e)),!vt.pixelBoxStyles()&&le.test(a)&&ce.test(e)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r)),void 0!==a?a+"":a}function R(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function z(t){if(t in me)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=ge.length;i--;)if((t=ge[i]+e)in me)return t}function B(t){var e=wt.cssProps[t];return e||(e=wt.cssProps[t]=z(t)||t),e}function H(t,e,i){var n=Gt.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function V(t,e,i,n,o,r){var a="width"===e?1:0,s=0,l=0;if(i===(n?"border":"content"))return 0;for(;a<4;a+=2)"margin"===i&&(l+=wt.css(t,i+jt[a],!0,o)),n?("content"===i&&(l-=wt.css(t,"padding"+jt[a],!0,o)),"margin"!==i&&(l-=wt.css(t,"border"+jt[a]+"Width",!0,o))):(l+=wt.css(t,"padding"+jt[a],!0,o),"padding"!==i?l+=wt.css(t,"border"+jt[a]+"Width",!0,o):s+=wt.css(t,"border"+jt[a]+"Width",!0,o));return!n&&r>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-s-.5))),l}function W(t,e,i){var n=he(t),o=N(t,e,n),r="border-box"===wt.css(t,"boxSizing",!1,n),a=r;if(le.test(o)){if(!i)return o;o="auto"}return a=a&&(vt.boxSizingReliable()||o===t.style[e]),("auto"===o||!parseFloat(o)&&"inline"===wt.css(t,"display",!1,n))&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(o=parseFloat(o)||0)+V(t,e,i||(r?"border":"content"),a,n,o)+"px"}function F(t,e,i,n,o){return new F.prototype.init(t,e,i,n,o)}function $(){ye&&(!1===at.hidden&&t.requestAnimationFrame?t.requestAnimationFrame($):t.setTimeout($,wt.fx.interval),wt.fx.tick())}function G(){return t.setTimeout(function(){ve=void 0}),ve=Date.now()}function j(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)o["margin"+(i=jt[n])]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function Y(t,e,i){for(var n,o=(Z.tweeners[e]||[]).concat(Z.tweeners["*"]),r=0,a=o.length;r<a;r++)if(n=o[r].call(i,e,t))return n}function U(t,e,i){var n,o,r,a,s,l,h,c,u="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&Yt(t),m=Ht.get(t,"fxshow");i.queue||(null==(a=wt._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,wt.queue(t,"fx").length||a.empty.fire()})}));for(n in e)if(o=e[n],_e.test(o)){if(delete e[n],r=r||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;g=!0}f[n]=m&&m[n]||wt.style(t,n)}if((l=!wt.isEmptyObject(e))||!wt.isEmptyObject(f)){u&&1===t.nodeType&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],null==(h=m&&m.display)&&(h=Ht.get(t,"display")),"none"===(c=wt.css(t,"display"))&&(h?c=h:(x([t],!0),h=t.style.display||h,c=wt.css(t,"display"),x([t]))),("inline"===c||"inline-block"===c&&null!=h)&&"none"===wt.css(t,"float")&&(l||(d.done(function(){p.display=h}),null==h&&(c=p.display,h="none"===c?"":c)),p.display="inline-block")),i.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),l=!1;for(n in f)l||(m?"hidden"in m&&(g=m.hidden):m=Ht.access(t,"fxshow",{display:h}),r&&(m.hidden=!g),g&&x([t],!0),d.done(function(){g||x([t]),Ht.remove(t,"fxshow");for(n in f)wt.style(t,n,f[n])})),l=Y(g?m[n]:0,n,d),n in m||(m[n]=l.start,g&&(l.end=l.start,l.start=0))}}function q(t,e){var i,n,o,r,a;for(i in t)if(n=p(i),o=e[n],r=t[i],Array.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(a=wt.cssHooks[n])&&"expand"in a){r=a.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function Z(t,e,i){var n,o,r=0,a=Z.prefilters.length,s=wt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=ve||G(),i=Math.max(0,h.startTime+h.duration-e),n=1-(i/h.duration||0),r=0,a=h.tweens.length;r<a;r++)h.tweens[r].run(n);return s.notifyWith(t,[h,n,i]),n<1&&a?i:(a||s.notifyWith(t,[h,1,0]),s.resolveWith(t,[h]),!1)},h=s.promise({elem:t,props:wt.extend({},e),opts:wt.extend(!0,{specialEasing:{},easing:wt.easing._default},i),originalProperties:e,originalOptions:i,startTime:ve||G(),duration:i.duration,tweens:[],createTween:function(e,i){var n=wt.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)h.tweens[i].run(1);return e?(s.notifyWith(t,[h,1,0]),s.resolveWith(t,[h,e])):s.rejectWith(t,[h,e]),this}}),c=h.props;for(q(c,h.opts.specialEasing);r<a;r++)if(n=Z.prefilters[r].call(h,t,c,h.opts))return yt(n.stop)&&(wt._queueHooks(h.elem,h.opts.queue).stop=n.stop.bind(n)),n;return wt.map(c,Y,h),yt(h.opts.start)&&h.opts.start.call(t,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),wt.fx.timer(wt.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h}function X(t){return(t.match(Lt)||[]).join(" ")}function K(t){return t.getAttribute&&t.getAttribute("class")||""}function Q(t){return Array.isArray(t)?t:"string"==typeof t?t.match(Lt)||[]:[]}function J(t,e,i,o){var r;if(Array.isArray(e))wt.each(e,function(e,n){i||Ee.test(t)?o(t,n):J(t+"["+("object"==typeof n&&null!=n?e:"")+"]",n,i,o)});else if(i||"object"!==n(e))o(t,e);else for(r in e)J(t+"["+r+"]",e[r],i,o)}function tt(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(Lt)||[];if(yt(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function et(t,e,i,n){function o(s){var l;return r[s]=!0,wt.each(t[s]||[],function(t,s){var h=s(e,i,n);return"string"!=typeof h||a||r[h]?a?!(l=h):void 0:(e.dataTypes.unshift(h),o(h),!1)}),l}var r={},a=t===$e;return o(e.dataTypes[0])||!r["*"]&&o("*")}function it(t,e){var i,n,o=wt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&wt.extend(!0,t,n),t}function nt(t,e,i){for(var n,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),i[r]}function ot(t,e,i,n){var o,r,a,s,l,h={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)h[a.toLowerCase()]=t.converters[a];for(r=c.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=h[l+" "+r]||h["* "+r]))for(o in h)if((s=o.split(" "))[1]===r&&(a=h[l+" "+s[0]]||h["* "+s[0]])){!0===a?a=h[o]:!0!==h[o]&&(r=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}var rt=[],at=t.document,st=Object.getPrototypeOf,lt=rt.slice,ht=rt.concat,ct=rt.push,ut=rt.indexOf,dt={},ft=dt.toString,pt=dt.hasOwnProperty,gt=pt.toString,mt=gt.call(Object),vt={},yt=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},_t=function(t){return null!=t&&t===t.window},xt={type:!0,src:!0,noModule:!0},wt=function(t,e){return new wt.fn.init(t,e)},bt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;wt.fn=wt.prototype={jquery:"3.3.1",constructor:wt,length:0,toArray:function(){return lt.call(this)},get:function(t){return null==t?lt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=wt.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return wt.each(this,t)},map:function(t){return this.pushStack(wt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:ct,sort:rt.sort,splice:rt.splice},wt.extend=wt.fn.extend=function(){var t,e,i,n,o,r,a=arguments[0]||{},s=1,l=arguments.length,h=!1;for("boolean"==typeof a&&(h=a,a=arguments[s]||{},s++),"object"==typeof a||yt(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=a[e],a!==(n=t[e])&&(h&&n&&(wt.isPlainObject(n)||(o=Array.isArray(n)))?(o?(o=!1,r=i&&Array.isArray(i)?i:[]):r=i&&wt.isPlainObject(i)?i:{},a[e]=wt.extend(h,r,n)):void 0!==n&&(a[e]=n));return a},wt.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==ft.call(t)||(e=st(t))&&("function"!=typeof(i=pt.call(e,"constructor")&&e.constructor)||gt.call(i)!==mt))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){i(t)},each:function(t,e){var i,n=0;if(o(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(bt,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(o(Object(t))?wt.merge(i,"string"==typeof t?[t]:t):ct.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:ut.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,r=t.length,a=!i;o<r;o++)!e(t[o],o)!==a&&n.push(t[o]);return n},map:function(t,e,i){var n,r,a=0,s=[];if(o(t))for(n=t.length;a<n;a++)null!=(r=e(t[a],a,i))&&s.push(r);else for(a in t)null!=(r=e(t[a],a,i))&&s.push(r);return ht.apply([],s)},guid:1,support:vt}),"function"==typeof Symbol&&(wt.fn[Symbol.iterator]=rt[Symbol.iterator]),wt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){dt["[object "+e+"]"]=e.toLowerCase()});var St=function(t){function e(t,e,i,n){var o,r,a,s,l,c,d,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return i;if(!n&&((e?e.ownerDocument||e:H)!==E&&k(e),e=e||E,O)){if(11!==p&&(l=gt.exec(t)))if(o=l[1]){if(9===p){if(!(a=e.getElementById(o)))return i;if(a.id===o)return i.push(a),i}else if(f&&(a=f.getElementById(o))&&z(e,a)&&a.id===o)return i.push(a),i}else{if(l[2])return X.apply(i,e.getElementsByTagName(t)),i;if((o=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return X.apply(i,e.getElementsByClassName(o)),i}if(x.qsa&&!G[t+" "]&&(!P||!P.test(t))){if(1!==p)f=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(_t,xt):e.setAttribute("id",s=B),r=(c=D(t)).length;r--;)c[r]="#"+s+" "+u(c[r]);d=c.join(","),f=mt.test(t)&&h(e.parentNode)||e}if(d)try{return X.apply(i,f.querySelectorAll(d)),i}catch(t){}finally{s===B&&e.removeAttribute("id")}}}return C(t.replace(rt,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function o(t){var e=E.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=i.length;n--;)w.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function s(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&bt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function l(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),a=r.length;a--;)i[o=r[a]]&&(i[o]=!(n[o]=i[o]))})})}function h(t){return t&&void 0!==t.getElementsByTagName&&t}function c(){}function u(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function d(t,e,i){var n=e.dir,o=e.next,r=o||n,a=i&&"parentNode"===r,s=W++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||a)return t(e,i,o);return!1}:function(e,i,l){var h,c,u,d=[V,s];if(l){for(;e=e[n];)if((1===e.nodeType||a)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||a)if(u=e[B]||(e[B]={}),c=u[e.uniqueID]||(u[e.uniqueID]={}),o&&o===e.nodeName.toLowerCase())e=e[n]||e;else{if((h=c[r])&&h[0]===V&&h[1]===s)return d[2]=h[2];if(c[r]=d,d[2]=t(e,i,l))return!0}return!1}}function f(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function p(t,i,n){for(var o=0,r=i.length;o<r;o++)e(t,i[o],n);return n}function g(t,e,i,n,o){for(var r,a=[],s=0,l=t.length,h=null!=e;s<l;s++)(r=t[s])&&(i&&!i(r,n,o)||(a.push(r),h&&e.push(s)));return a}function m(t,e,i,o,r,a){return o&&!o[B]&&(o=m(o)),r&&!r[B]&&(r=m(r,a)),n(function(n,a,s,l){var h,c,u,d=[],f=[],m=a.length,v=n||p(e||"*",s.nodeType?[s]:s,[]),y=!t||!n&&e?v:g(v,d,t,s,l),_=i?r||(n?t:m||o)?[]:a:y;if(i&&i(y,_,s,l),o)for(h=g(_,f),o(h,[],s,l),c=h.length;c--;)(u=h[c])&&(_[f[c]]=!(y[f[c]]=u));if(n){if(r||t){if(r){for(h=[],c=_.length;c--;)(u=_[c])&&h.push(y[c]=u);r(null,_=[],h,l)}for(c=_.length;c--;)(u=_[c])&&(h=r?Q(n,u):d[c])>-1&&(n[h]=!(a[h]=u))}}else _=g(_===a?_.splice(m,_.length):_),r?r(null,a,_,l):X.apply(a,_)})}function v(t){for(var e,i,n,o=t.length,r=w.relative[t[0].type],a=r||w.relative[" "],s=r?1:0,l=d(function(t){return t===e},a,!0),h=d(function(t){return Q(e,t)>-1},a,!0),c=[function(t,i,n){var o=!r&&(n||i!==T)||((e=i).nodeType?l(t,i,n):h(t,i,n));return e=null,o}];s<o;s++)if(i=w.relative[t[s].type])c=[d(f(c),i)];else{if((i=w.filter[t[s].type].apply(null,t[s].matches))[B]){for(n=++s;n<o&&!w.relative[t[n].type];n++);return m(s>1&&f(c),s>1&&u(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(rt,"$1"),i,s<n&&v(t.slice(s,n)),n<o&&v(t=t.slice(n)),n<o&&u(t))}c.push(i)}return f(c)}function y(t,i){var o=i.length>0,r=t.length>0,a=function(n,a,s,l,h){var c,u,d,f=0,p="0",m=n&&[],v=[],y=T,_=n||r&&w.find.TAG("*",h),x=V+=null==y?1:Math.random()||.1,b=_.length;for(h&&(T=a===E||a||h);p!==b&&null!=(c=_[p]);p++){if(r&&c){for(u=0,a||c.ownerDocument===E||(k(c),s=!O);d=t[u++];)if(d(c,a||E,s)){l.push(c);break}h&&(V=x)}o&&((c=!d&&c)&&f--,n&&m.push(c))}if(f+=p,o&&p!==f){for(u=0;d=i[u++];)d(m,v,a,s);if(n){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=q.call(l));v=g(v)}X.apply(l,v),h&&!n&&v.length>0&&f+i.length>1&&e.uniqueSort(l)}return h&&(V=x,T=y),m};return o?n(a):a}var _,x,w,b,S,D,M,C,T,I,A,k,E,L,O,P,N,R,z,B="sizzle"+1*new Date,H=t.document,V=0,W=0,F=i(),$=i(),G=i(),j=function(t,e){return t===e&&(A=!0),0},Y={}.hasOwnProperty,U=[],q=U.pop,Z=U.push,X=U.push,K=U.slice,Q=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",nt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",ot=new RegExp(tt+"+","g"),rt=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),st=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ht=new RegExp(nt),ct=new RegExp("^"+et+"$"),ut={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+nt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,ft=/^h\d$/i,pt=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,vt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),yt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},_t=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},wt=function(){k()},bt=d(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{X.apply(U=K.call(H.childNodes),H.childNodes),U[H.childNodes.length].nodeType}catch(t){X={apply:U.length?function(t,e){Z.apply(t,K.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},k=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:H;return n!==E&&9===n.nodeType&&n.documentElement?(E=n,L=E.documentElement,O=!S(E),H!==E&&(i=E.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",wt,!1):i.attachEvent&&i.attachEvent("onunload",wt)),x.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=o(function(t){return t.appendChild(E.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=pt.test(E.getElementsByClassName),x.getById=o(function(t){return L.appendChild(t).id=B,!E.getElementsByName||!E.getElementsByName(B).length}),x.getById?(w.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){return t.getAttribute("id")===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var i=e.getElementById(t);return i?[i]:[]}}):(w.filter.ID=function(t){var e=t.replace(vt,yt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},w.find.ID=function(t,e){if(void 0!==e.getElementById&&O){var i,n,o,r=e.getElementById(t);if(r){if((i=r.getAttributeNode("id"))&&i.value===t)return[r];for(o=e.getElementsByName(t),n=0;r=o[n++];)if((i=r.getAttributeNode("id"))&&i.value===t)return[r]}return[]}}),w.find.TAG=x.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},w.find.CLASS=x.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&O)return e.getElementsByClassName(t)},N=[],P=[],(x.qsa=pt.test(E.querySelectorAll))&&(o(function(t){L.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+tt+"*(?:value|"+J+")"),t.querySelectorAll("[id~="+B+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||P.push(".#.+[+~]")}),o(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=E.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+tt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),L.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(x.matchesSelector=pt.test(R=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&o(function(t){x.disconnectedMatch=R.call(t,"*"),R.call(t,"[s!='']:x"),N.push("!=",nt)}),P=P.length&&new RegExp(P.join("|")),N=N.length&&new RegExp(N.join("|")),e=pt.test(L.compareDocumentPosition),z=e||pt.test(L.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},j=e?function(t,e){if(t===e)return A=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===E||t.ownerDocument===H&&z(H,t)?-1:e===E||e.ownerDocument===H&&z(H,e)?1:I?Q(I,t)-Q(I,e):0:4&i?-1:1)}:function(t,e){if(t===e)return A=!0,0;var i,n=0,o=t.parentNode,r=e.parentNode,s=[t],l=[e];if(!o||!r)return t===E?-1:e===E?1:o?-1:r?1:I?Q(I,t)-Q(I,e):0;if(o===r)return a(t,e);for(i=t;i=i.parentNode;)s.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++;return n?a(s[n],l[n]):s[n]===H?-1:l[n]===H?1:0},E):E},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==E&&k(t),i=i.replace(lt,"='$1']"),x.matchesSelector&&O&&!G[i+" "]&&(!N||!N.test(i))&&(!P||!P.test(i)))try{var n=R.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,E,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==E&&k(t),z(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==E&&k(t);var i=w.attrHandle[e.toLowerCase()],n=i&&Y.call(w.attrHandle,e.toLowerCase())?i(t,e,!O):void 0;return void 0!==n?n:x.attributes||!O?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.escape=function(t){return(t+"").replace(_t,xt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(A=!x.detectDuplicates,I=!x.sortStable&&t.slice(0),t.sort(j),A){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return I=null,t},b=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=b(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=b(e);return i},(w=e.selectors={cacheLength:50,createPseudo:n,match:ut,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(vt,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(vt,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ut.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=D(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(vt,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=F[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&F(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var r=e.attr(o,t);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(ot," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var h,c,u,d,f,p,g=r!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,_=!1;if(m){if(r){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(_=(f=(h=(c=(u=(d=m)[B]||(d[B]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]||[])[0]===V&&h[1])&&h[2],d=f&&m.childNodes[f];d=++f&&d&&d[g]||(_=f=0)||p.pop();)if(1===d.nodeType&&++_&&d===e){c[t]=[V,f,_];break}}else if(y&&(_=f=(h=(c=(u=(d=e)[B]||(d[B]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]||[])[0]===V&&h[1]),!1===_)for(;(d=++f&&d&&d[g]||(_=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(y&&((c=(u=d[B]||(d[B]={}))[d.uniqueID]||(u[d.uniqueID]={}))[t]=[V,_]),d!==e)););return(_-=o)===n||_%n==0&&_/n>=0}}},PSEUDO:function(t,i){var o,r=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[B]?r(i):r.length>1?(o=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),a=o.length;a--;)t[n=Q(t,o[a])]=!(e[n]=o[a])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=M(t.replace(rt,"$1"));return o[B]?n(function(t,e,i,n){for(var r,a=o(t,null,n,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(vt,yt),function(e){return(e.textContent||e.innerText||b(e)).indexOf(t)>-1}}),lang:n(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(vt,yt).toLowerCase(),function(e){var i;do{if(i=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:s(!1),disabled:s(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){
for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return ft.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[i<0?i+e:i]}),even:l(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:l(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=w.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[_]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(_);for(_ in{submit:!0,reset:!0})w.pseudos[_]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(_);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,D=e.tokenize=function(t,i){var n,o,r,a,s,l,h,c=$[t+" "];if(c)return i?0:c.slice(0);for(s=t,l=[],h=w.preFilter;s;){n&&!(o=at.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=st.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(rt," ")}),s=s.slice(n.length));for(a in w.filter)!(o=ut[a].exec(s))||h[a]&&!(o=h[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return i?s.length:s?e.error(t):$(t,l).slice(0)},M=e.compile=function(t,e){var i,n=[],o=[],r=G[t+" "];if(!r){for(e||(e=D(t)),i=e.length;i--;)(r=v(e[i]))[B]?n.push(r):o.push(r);(r=G(t,y(o,n))).selector=t}return r},C=e.select=function(t,e,i,n){var o,r,a,s,l,c="function"==typeof t&&t,d=!n&&D(t=c.selector||t);if(i=i||[],1===d.length){if((r=d[0]=d[0].slice(0)).length>2&&"ID"===(a=r[0]).type&&9===e.nodeType&&O&&w.relative[r[1].type]){if(!(e=(w.find.ID(a.matches[0].replace(vt,yt),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ut.needsContext.test(t)?0:r.length;o--&&(a=r[o],!w.relative[s=a.type]);)if((l=w.find[s])&&(n=l(a.matches[0].replace(vt,yt),mt.test(r[0].type)&&h(e.parentNode)||e))){if(r.splice(o,1),!(t=n.length&&u(r)))return X.apply(i,n),i;break}}return(c||M(t,d))(n,e,!O,i,!e||mt.test(t)&&h(e.parentNode)||e),i},x.sortStable=B.split("").sort(j).join("")===B,x.detectDuplicates=!!A,k(),x.sortDetached=o(function(t){return 1&t.compareDocumentPosition(E.createElement("fieldset"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(J,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);wt.find=St,wt.expr=St.selectors,wt.expr[":"]=wt.expr.pseudos,wt.uniqueSort=wt.unique=St.uniqueSort,wt.text=St.getText,wt.isXMLDoc=St.isXML,wt.contains=St.contains,wt.escapeSelector=St.escape;var Dt=function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&wt(t).is(i))break;n.push(t)}return n},Mt=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},Ct=wt.expr.match.needsContext,Tt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;wt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?wt.find.matchesSelector(n,t)?[n]:[]:wt.find.matches(t,wt.grep(e,function(t){return 1===t.nodeType}))},wt.fn.extend({find:function(t){var e,i,n=this.length,o=this;if("string"!=typeof t)return this.pushStack(wt(t).filter(function(){for(e=0;e<n;e++)if(wt.contains(o[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)wt.find(t,o[e],i);return n>1?wt.uniqueSort(i):i},filter:function(t){return this.pushStack(a(this,t||[],!1))},not:function(t){return this.pushStack(a(this,t||[],!0))},is:function(t){return!!a(this,"string"==typeof t&&Ct.test(t)?wt(t):t||[],!1).length}});var It,At=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(wt.fn.init=function(t,e,i){var n,o;if(!t)return this;if(i=i||It,"string"==typeof t){if(!(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:At.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof wt?e[0]:e,wt.merge(this,wt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:at,!0)),Tt.test(n[1])&&wt.isPlainObject(e))for(n in e)yt(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return(o=at.getElementById(n[2]))&&(this[0]=o,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):yt(t)?void 0!==i.ready?i.ready(t):t(wt):wt.makeArray(t,this)}).prototype=wt.fn,It=wt(at);var kt=/^(?:parents|prev(?:Until|All))/,Et={children:!0,contents:!0,next:!0,prev:!0};wt.fn.extend({has:function(t){var e=wt(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(wt.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,o=this.length,r=[],a="string"!=typeof t&&wt(t);if(!Ct.test(t))for(;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&wt.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?wt.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?ut.call(wt(t),this[0]):ut.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(wt.uniqueSort(wt.merge(this.get(),wt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),wt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Dt(t,"parentNode")},parentsUntil:function(t,e,i){return Dt(t,"parentNode",i)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return Dt(t,"nextSibling")},prevAll:function(t){return Dt(t,"previousSibling")},nextUntil:function(t,e,i){return Dt(t,"nextSibling",i)},prevUntil:function(t,e,i){return Dt(t,"previousSibling",i)},siblings:function(t){return Mt((t.parentNode||{}).firstChild,t)},children:function(t){return Mt(t.firstChild)},contents:function(t){return r(t,"iframe")?t.contentDocument:(r(t,"template")&&(t=t.content||t),wt.merge([],t.childNodes))}},function(t,e){wt.fn[t]=function(i,n){var o=wt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=wt.filter(n,o)),this.length>1&&(Et[t]||wt.uniqueSort(o),kt.test(t)&&o.reverse()),this.pushStack(o)}});var Lt=/[^\x20\t\r\n\f]+/g;wt.Callbacks=function(t){t="string"==typeof t?l(t):wt.extend({},t);var e,i,o,r,a=[],s=[],h=-1,c=function(){for(r=r||t.once,o=e=!0;s.length;h=-1)for(i=s.shift();++h<a.length;)!1===a[h].apply(i[0],i[1])&&t.stopOnFalse&&(h=a.length,i=!1);t.memory||(i=!1),e=!1,r&&(a=i?[]:"")},u={add:function(){return a&&(i&&!e&&(h=a.length-1,s.push(i)),function e(i){wt.each(i,function(i,o){yt(o)?t.unique&&u.has(o)||a.push(o):o&&o.length&&"string"!==n(o)&&e(o)})}(arguments),i&&!e&&c()),this},remove:function(){return wt.each(arguments,function(t,e){for(var i;(i=wt.inArray(e,a,i))>-1;)a.splice(i,1),i<=h&&h--}),this},has:function(t){return t?wt.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=i="",this},disabled:function(){return!a},lock:function(){return r=s=[],i||e||(a=i=""),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=[t,(i=i||[]).slice?i.slice():i],s.push(i),e||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!o}};return u},wt.extend({Deferred:function(e){var i=[["notify","progress",wt.Callbacks("memory"),wt.Callbacks("memory"),2],["resolve","done",wt.Callbacks("once memory"),wt.Callbacks("once memory"),0,"resolved"],["reject","fail",wt.Callbacks("once memory"),wt.Callbacks("once memory"),1,"rejected"]],n="pending",o={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return o.then(null,t)},pipe:function(){var t=arguments;return wt.Deferred(function(e){wt.each(i,function(i,n){var o=yt(t[n[4]])&&t[n[4]];r[n[1]](function(){var t=o&&o.apply(this,arguments);t&&yt(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,o?[t]:arguments)})}),t=null}).promise()},then:function(e,n,o){function r(e,i,n,o){return function(){var s=this,l=arguments,u=function(){var t,u;if(!(e<a)){if((t=n.apply(s,l))===i.promise())throw new TypeError("Thenable self-resolution");u=t&&("object"==typeof t||"function"==typeof t)&&t.then,yt(u)?o?u.call(t,r(a,i,h,o),r(a,i,c,o)):(a++,u.call(t,r(a,i,h,o),r(a,i,c,o),r(a,i,h,i.notifyWith))):(n!==h&&(s=void 0,l=[t]),(o||i.resolveWith)(s,l))}},d=o?u:function(){try{u()}catch(t){wt.Deferred.exceptionHook&&wt.Deferred.exceptionHook(t,d.stackTrace),e+1>=a&&(n!==c&&(s=void 0,l=[t]),i.rejectWith(s,l))}};e?d():(wt.Deferred.getStackHook&&(d.stackTrace=wt.Deferred.getStackHook()),t.setTimeout(d))}}var a=0;return wt.Deferred(function(t){i[0][3].add(r(0,t,yt(o)?o:h,t.notifyWith)),i[1][3].add(r(0,t,yt(e)?e:h)),i[2][3].add(r(0,t,yt(n)?n:c))}).promise()},promise:function(t){return null!=t?wt.extend(t,o):o}},r={};return wt.each(i,function(t,e){var a=e[2],s=e[5];o[e[1]]=a.add,s&&a.add(function(){n=s},i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),a.add(e[3].fire),r[e[0]]=function(){return r[e[0]+"With"](this===r?void 0:this,arguments),this},r[e[0]+"With"]=a.fireWith}),o.promise(r),e&&e.call(r,r),r},when:function(t){var e=arguments.length,i=e,n=Array(i),o=lt.call(arguments),r=wt.Deferred(),a=function(t){return function(i){n[t]=this,o[t]=arguments.length>1?lt.call(arguments):i,--e||r.resolveWith(n,o)}};if(e<=1&&(u(t,r.done(a(i)).resolve,r.reject,!e),"pending"===r.state()||yt(o[i]&&o[i].then)))return r.then();for(;i--;)u(o[i],a(i),r.reject);return r.promise()}});var Ot=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;wt.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&Ot.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},wt.readyException=function(e){t.setTimeout(function(){throw e})};var Pt=wt.Deferred();wt.fn.ready=function(t){return Pt.then(t).catch(function(t){wt.readyException(t)}),this},wt.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--wt.readyWait:wt.isReady)||(wt.isReady=!0,!0!==t&&--wt.readyWait>0||Pt.resolveWith(at,[wt]))}}),wt.ready.then=Pt.then,"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll?t.setTimeout(wt.ready):(at.addEventListener("DOMContentLoaded",d),t.addEventListener("load",d));var Nt=function(t,e,i,o,r,a,s){var l=0,h=t.length,c=null==i;if("object"===n(i)){r=!0;for(l in i)Nt(t,e,l,i[l],!0,a,s)}else if(void 0!==o&&(r=!0,yt(o)||(s=!0),c&&(s?(e.call(t,o),e=null):(c=e,e=function(t,e,i){return c.call(wt(t),i)})),e))for(;l<h;l++)e(t[l],i,s?o:o.call(t[l],l,e(t[l],i)));return r?t:c?e.call(t):h?e(t[0],i):a},Rt=/^-ms-/,zt=/-([a-z])/g,Bt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};g.uid=1,g.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Bt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,o=this.cache(t);if("string"==typeof e)o[p(e)]=i;else for(n in e)o[p(n)]=e[n];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][p(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(p):(e=p(e))in n?[e]:e.match(Lt)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||wt.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!wt.isEmptyObject(e)}};var Ht=new g,Vt=new g,Wt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ft=/[A-Z]/g;wt.extend({hasData:function(t){return Vt.hasData(t)||Ht.hasData(t)},data:function(t,e,i){return Vt.access(t,e,i)},removeData:function(t,e){Vt.remove(t,e)},_data:function(t,e,i){return Ht.access(t,e,i)},_removeData:function(t,e){Ht.remove(t,e)}}),wt.fn.extend({data:function(t,e){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(o=Vt.get(r),1===r.nodeType&&!Ht.get(r,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=p(n.slice(5)),v(r,n,o[n]));Ht.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){Vt.set(this,t)}):Nt(this,function(e){var i;if(r&&void 0===e){if(void 0!==(i=Vt.get(r,t)))return i;if(void 0!==(i=v(r,t)))return i}else this.each(function(){Vt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Vt.remove(this,t)})}}),wt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=Ht.get(t,e),i&&(!n||Array.isArray(i)?n=Ht.access(t,e,wt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=wt.queue(t,e),n=i.length,o=i.shift(),r=wt._queueHooks(t,e),a=function(){wt.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return Ht.get(t,i)||Ht.access(t,i,{empty:wt.Callbacks("once memory").add(function(){Ht.remove(t,[e+"queue",i])})})}}),wt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?wt.queue(this[0],t):void 0===e?this:this.each(function(){var i=wt.queue(this,t,e);wt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&wt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){wt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=wt.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=Ht.get(r[a],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(e)}});var $t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Gt=new RegExp("^(?:([+-])=|)("+$t+")([a-z%]*)$","i"),jt=["Top","Right","Bottom","Left"],Yt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&wt.contains(t.ownerDocument,t)&&"none"===wt.css(t,"display")},Ut=function(t,e,i,n){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=a[r];return o},qt={};wt.fn.extend({show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Yt(this)?wt(this).show():wt(this).hide()})}});var Zt=/^(?:checkbox|radio)$/i,Xt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Kt=/^$|^module$|\/(?:java|ecma)script/i,Qt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Qt.optgroup=Qt.option,Qt.tbody=Qt.tfoot=Qt.colgroup=Qt.caption=Qt.thead,Qt.th=Qt.td;var Jt=/<|&#?\w+;/;!function(){var t=at.createDocumentFragment().appendChild(at.createElement("div")),e=at.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),vt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",vt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var te=at.documentElement,ee=/^key/,ie=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ne=/^([^.]*)(?:\.(.+)|)/;wt.event={global:{},add:function(t,e,i,n,o){var r,a,s,l,h,c,u,d,f,p,g,m=Ht.get(t);if(m)for(i.handler&&(i=(r=i).handler,o=r.selector),o&&wt.find.matchesSelector(te,o),i.guid||(i.guid=wt.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return void 0!==wt&&wt.event.triggered!==e.type?wt.event.dispatch.apply(t,arguments):void 0}),h=(e=(e||"").match(Lt)||[""]).length;h--;)f=g=(s=ne.exec(e[h])||[])[1],p=(s[2]||"").split(".").sort(),f&&(u=wt.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=wt.event.special[f]||{},c=wt.extend({type:f,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&wt.expr.match.needsContext.test(o),namespace:p.join(".")},r),(d=l[f])||((d=l[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,p,a)||t.addEventListener&&t.addEventListener(f,a)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),o?d.splice(d.delegateCount++,0,c):d.push(c),wt.event.global[f]=!0)},remove:function(t,e,i,n,o){var r,a,s,l,h,c,u,d,f,p,g,m=Ht.hasData(t)&&Ht.get(t);if(m&&(l=m.events)){for(h=(e=(e||"").match(Lt)||[""]).length;h--;)if(s=ne.exec(e[h])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(u=wt.event.special[f]||{},d=l[f=(n?u.delegateType:u.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=d.length;r--;)c=d[r],!o&&g!==c.origType||i&&i.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(r,1),c.selector&&d.delegateCount--,u.remove&&u.remove.call(t,c));a&&!d.length&&(u.teardown&&!1!==u.teardown.call(t,p,m.handle)||wt.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)wt.event.remove(t,f+e[h],i,n,!0);wt.isEmptyObject(l)&&Ht.remove(t,"handle events")}},dispatch:function(t){var e,i,n,o,r,a,s=wt.event.fix(t),l=new Array(arguments.length),h=(Ht.get(this,"events")||{})[s.type]||[],c=wt.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=wt.event.handlers.call(this,s,h),e=0;(o=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(r.namespace)||(s.handleObj=r,s.data=r.data,void 0!==(n=((wt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))&&!1===(s.result=n)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var i,n,o,r,a,s=[],l=e.delegateCount,h=t.target;if(l&&h.nodeType&&!("click"===t.type&&t.button>=1))for(;h!==this;h=h.parentNode||this)if(1===h.nodeType&&("click"!==t.type||!0!==h.disabled)){for(r=[],a={},i=0;i<l;i++)void 0===a[o=(n=e[i]).selector+" "]&&(a[o]=n.needsContext?wt(o,this).index(h)>-1:wt.find(o,this,null,[h]).length),a[o]&&r.push(n);r.length&&s.push({elem:h,handlers:r})}return h=this,l<e.length&&s.push({elem:h,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(wt.Event.prototype,t,{enumerable:!0,configurable:!0,get:yt(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[wt.expando]?t:new wt.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==C()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===C()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&r(this,"input"))return this.click(),!1},_default:function(t){return r(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},wt.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},wt.Event=function(t,e){if(!(this instanceof wt.Event))return new wt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?D:M,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&wt.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[wt.expando]=!0},wt.Event.prototype={constructor:wt.Event,isDefaultPrevented:M,isPropagationStopped:M,isImmediatePropagationStopped:M,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=D,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=D,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=D,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},wt.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&ee.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&ie.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},wt.event.addProp),wt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){wt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===n||wt.contains(n,o))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),wt.fn.extend({on:function(t,e,i,n){return T(this,t,e,i,n)},one:function(t,e,i,n){return T(this,t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,wt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=M),this.each(function(){wt.event.remove(this,t,i,e)})}});var oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,re=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;wt.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,i){var n,o,r,a,s=t.cloneNode(!0),l=wt.contains(t.ownerDocument,t);if(!(vt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||wt.isXMLDoc(t)))for(a=w(s),n=0,o=(r=w(t)).length;n<o;n++)L(r[n],a[n]);if(e)if(i)for(r=r||w(t),a=a||w(s),n=0,o=r.length;n<o;n++)E(r[n],a[n]);else E(t,s);return(a=w(s,"script")).length>0&&b(a,!l&&w(t,"script")),s},cleanData:function(t){for(var e,i,n,o=wt.event.special,r=0;void 0!==(i=t[r]);r++)if(Bt(i)){if(e=i[Ht.expando]){if(e.events)for(n in e.events)o[n]?wt.event.remove(i,n):wt.removeEvent(i,n,e.handle);i[Ht.expando]=void 0}i[Vt.expando]&&(i[Vt.expando]=void 0)}}}),wt.fn.extend({detach:function(t){return P(this,t,!0)},remove:function(t){return P(this,t)},text:function(t){return Nt(this,function(t){return void 0===t?wt.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return O(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||I(this,t).appendChild(t)})},prepend:function(){return O(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=I(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return O(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return O(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(wt.cleanData(w(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return wt.clone(this,t,e)})},html:function(t){return Nt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!re.test(t)&&!Qt[(Xt.exec(t)||["",""])[1].toLowerCase()]){t=wt.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(wt.cleanData(w(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return O(this,arguments,function(e){var i=this.parentNode;wt.inArray(this,t)<0&&(wt.cleanData(w(this)),i&&i.replaceChild(e,this))},t)}}),wt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){wt.fn[t]=function(t){for(var i,n=[],o=wt(t),r=o.length-1,a=0;a<=r;a++)i=a===r?this:this.clone(!0),wt(o[a])[e](i),ct.apply(n,i.get());return this.pushStack(n)}});var le=new RegExp("^("+$t+")(?!px)[a-z%]+$","i"),he=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},ce=new RegExp(jt.join("|"),"i");!function(){function e(){if(h){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",te.appendChild(l).appendChild(h);var e=t.getComputedStyle(h);n="1%"!==e.top,s=12===i(e.marginLeft),h.style.right="60%",a=36===i(e.right),o=36===i(e.width),h.style.position="absolute",r=36===h.offsetWidth||"absolute",te.removeChild(l),h=null}}function i(t){return Math.round(parseFloat(t))}var n,o,r,a,s,l=at.createElement("div"),h=at.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",vt.clearCloneStyle="content-box"===h.style.backgroundClip,wt.extend(vt,{boxSizingReliable:function(){return e(),o},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),r}}))}();var ue=/^(none|table(?!-c[ea]).+)/,de=/^--/,fe={position:"absolute",visibility:"hidden",display:"block"},pe={letterSpacing:"0",fontWeight:"400"},ge=["Webkit","Moz","ms"],me=at.createElement("div").style;wt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=N(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=p(e),l=de.test(e),h=t.style;if(l||(e=B(s)),a=wt.cssHooks[e]||wt.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(o=a.get(t,!1,n))?o:h[e];"string"==(r=typeof i)&&(o=Gt.exec(i))&&o[1]&&(i=y(t,e,o),r="number"),null!=i&&i===i&&("number"===r&&(i+=o&&o[3]||(wt.cssNumber[s]?"":"px")),vt.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),a&&"set"in a&&void 0===(i=a.set(t,i,n))||(l?h.setProperty(e,i):h[e]=i))}},css:function(t,e,i,n){var o,r,a,s=p(e);return de.test(e)||(e=B(s)),(a=wt.cssHooks[e]||wt.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,i)),void 0===o&&(o=N(t,e,n)),"normal"===o&&e in pe&&(o=pe[e]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),wt.each(["height","width"],function(t,e){wt.cssHooks[e]={get:function(t,i,n){if(i)return!ue.test(wt.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?W(t,e,n):Ut(t,fe,function(){return W(t,e,n)})},set:function(t,i,n){var o,r=he(t),a="border-box"===wt.css(t,"boxSizing",!1,r),s=n&&V(t,e,n,a,r);return a&&vt.scrollboxSize()===r.position&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-V(t,e,"border",!1,r)-.5)),s&&(o=Gt.exec(i))&&"px"!==(o[3]||"px")&&(t.style[e]=i,i=wt.css(t,e)),H(t,i,s)}}}),wt.cssHooks.marginLeft=R(vt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(N(t,"marginLeft"))||t.getBoundingClientRect().left-Ut(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),wt.each({margin:"",padding:"",border:"Width"},function(t,e){wt.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];n<4;n++)o[t+jt[n]+e]=r[n]||r[n-2]||r[0];return o}},"margin"!==t&&(wt.cssHooks[t+e].set=H)}),wt.fn.extend({css:function(t,e){return Nt(this,function(t,e,i){var n,o,r={},a=0;if(Array.isArray(e)){for(n=he(t),o=e.length;a<o;a++)r[e[a]]=wt.css(t,e[a],!1,n);return r}return void 0!==i?wt.style(t,e,i):wt.css(t,e)},t,e,arguments.length>1)}}),wt.Tween=F,F.prototype={constructor:F,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||wt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(wt.cssNumber[i]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,i=F.propHooks[this.prop];return this.options.duration?this.pos=e=wt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=wt.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){wt.fx.step[t.prop]?wt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[wt.cssProps[t.prop]]&&!wt.cssHooks[t.prop]?t.elem[t.prop]=t.now:wt.style(t.elem,t.prop,t.now+t.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},wt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},wt.fx=F.prototype.init,wt.fx.step={};var ve,ye,_e=/^(?:toggle|show|hide)$/,xe=/queueHooks$/;wt.Animation=wt.extend(Z,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return y(i.elem,t,Gt.exec(e),i),i}]},tweener:function(t,e){yt(t)?(e=t,t=["*"]):t=t.match(Lt);for(var i,n=0,o=t.length;n<o;n++)i=t[n],Z.tweeners[i]=Z.tweeners[i]||[],Z.tweeners[i].unshift(e)},prefilters:[U],prefilter:function(t,e){e?Z.prefilters.unshift(t):Z.prefilters.push(t)}}),wt.speed=function(t,e,i){var n=t&&"object"==typeof t?wt.extend({},t):{complete:i||!i&&e||yt(t)&&t,duration:t,easing:i&&e||e&&!yt(e)&&e};return wt.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in wt.fx.speeds?n.duration=wt.fx.speeds[n.duration]:n.duration=wt.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){yt(n.old)&&n.old.call(this),n.queue&&wt.dequeue(this,n.queue)},n},wt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Yt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=wt.isEmptyObject(t),r=wt.speed(e,i,n),a=function(){var e=Z(this,wt.extend({},t),r);(o||Ht.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=wt.timers,a=Ht.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&xe.test(o)&&n(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));!e&&i||wt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){
var e,i=Ht.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=wt.timers,a=n?n.length:0;for(i.finish=!0,wt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<a;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),wt.each(["toggle","show","hide"],function(t,e){var i=wt.fn[e];wt.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(j(e,!0),t,n,o)}}),wt.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){wt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),wt.timers=[],wt.fx.tick=function(){var t,e=0,i=wt.timers;for(ve=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||wt.fx.stop(),ve=void 0},wt.fx.timer=function(t){wt.timers.push(t),wt.fx.start()},wt.fx.interval=13,wt.fx.start=function(){ye||(ye=!0,$())},wt.fx.stop=function(){ye=null},wt.fx.speeds={slow:600,fast:200,_default:400},wt.fn.delay=function(e,i){return e=wt.fx?wt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var o=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(o)}})},function(){var t=at.createElement("input"),e=at.createElement("select").appendChild(at.createElement("option"));t.type="checkbox",vt.checkOn=""!==t.value,vt.optSelected=e.selected,(t=at.createElement("input")).value="t",t.type="radio",vt.radioValue="t"===t.value}();var we,be=wt.expr.attrHandle;wt.fn.extend({attr:function(t,e){return Nt(this,wt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){wt.removeAttr(this,t)})}}),wt.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?wt.prop(t,e,i):(1===r&&wt.isXMLDoc(t)||(o=wt.attrHooks[e.toLowerCase()]||(wt.expr.match.bool.test(e)?we:void 0)),void 0!==i?null===i?void wt.removeAttr(t,e):o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(n=o.get(t,e))?n:null==(n=wt.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!vt.radioValue&&"radio"===e&&r(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,o=e&&e.match(Lt);if(o&&1===t.nodeType)for(;i=o[n++];)t.removeAttribute(i)}}),we={set:function(t,e,i){return!1===e?wt.removeAttr(t,i):t.setAttribute(i,i),i}},wt.each(wt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=be[e]||wt.find.attr;be[e]=function(t,e,n){var o,r,a=e.toLowerCase();return n||(r=be[a],be[a]=o,o=null!=i(t,e,n)?a:null,be[a]=r),o}});var Se=/^(?:input|select|textarea|button)$/i,De=/^(?:a|area)$/i;wt.fn.extend({prop:function(t,e){return Nt(this,wt.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[wt.propFix[t]||t]})}}),wt.extend({prop:function(t,e,i){var n,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&wt.isXMLDoc(t)||(e=wt.propFix[e]||e,o=wt.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=wt.find.attr(t,"tabindex");return e?parseInt(e,10):Se.test(t.nodeName)||De.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),vt.optSelected||(wt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),wt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){wt.propFix[this.toLowerCase()]=this}),wt.fn.extend({addClass:function(t){var e,i,n,o,r,a,s,l=0;if(yt(t))return this.each(function(e){wt(this).addClass(t.call(this,e,K(this)))});if((e=Q(t)).length)for(;i=this[l++];)if(o=K(i),n=1===i.nodeType&&" "+X(o)+" "){for(a=0;r=e[a++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o!==(s=X(n))&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,n,o,r,a,s,l=0;if(yt(t))return this.each(function(e){wt(this).removeClass(t.call(this,e,K(this)))});if(!arguments.length)return this.attr("class","");if((e=Q(t)).length)for(;i=this[l++];)if(o=K(i),n=1===i.nodeType&&" "+X(o)+" "){for(a=0;r=e[a++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");o!==(s=X(n))&&i.setAttribute("class",s)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):yt(t)?this.each(function(i){wt(this).toggleClass(t.call(this,i,K(this),e),e)}):this.each(function(){var e,o,r,a;if(n)for(o=0,r=wt(this),a=Q(t);e=a[o++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||((e=K(this))&&Ht.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Ht.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+X(K(i))+" ").indexOf(e)>-1)return!0;return!1}});var Me=/\r/g;wt.fn.extend({val:function(t){var e,i,n,o=this[0];return arguments.length?(n=yt(t),this.each(function(i){var o;1===this.nodeType&&(null==(o=n?t.call(this,i,wt(this).val()):t)?o="":"number"==typeof o?o+="":Array.isArray(o)&&(o=wt.map(o,function(t){return null==t?"":t+""})),(e=wt.valHooks[this.type]||wt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=wt.valHooks[o.type]||wt.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(Me,""):null==i?"":i:void 0}}),wt.extend({valHooks:{option:{get:function(t){var e=wt.find.attr(t,"value");return null!=e?e:X(wt.text(t))}},select:{get:function(t){var e,i,n,o=t.options,a=t.selectedIndex,s="select-one"===t.type,l=s?null:[],h=s?a+1:o.length;for(n=a<0?h:s?a:0;n<h;n++)if(((i=o[n]).selected||n===a)&&!i.disabled&&(!i.parentNode.disabled||!r(i.parentNode,"optgroup"))){if(e=wt(i).val(),s)return e;l.push(e)}return l},set:function(t,e){for(var i,n,o=t.options,r=wt.makeArray(e),a=o.length;a--;)((n=o[a]).selected=wt.inArray(wt.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),wt.each(["radio","checkbox"],function(){wt.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=wt.inArray(wt(t).val(),e)>-1}},vt.checkOn||(wt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),vt.focusin="onfocusin"in t;var Ce=/^(?:focusinfocus|focusoutblur)$/,Te=function(t){t.stopPropagation()};wt.extend(wt.event,{trigger:function(e,i,n,o){var r,a,s,l,h,c,u,d,f=[n||at],p=pt.call(e,"type")?e.type:e,g=pt.call(e,"namespace")?e.namespace.split("."):[];if(a=d=s=n=n||at,3!==n.nodeType&&8!==n.nodeType&&!Ce.test(p+wt.event.triggered)&&(p.indexOf(".")>-1&&(p=(g=p.split(".")).shift(),g.sort()),h=p.indexOf(":")<0&&"on"+p,e=e[wt.expando]?e:new wt.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:wt.makeArray(i,[e]),u=wt.event.special[p]||{},o||!u.trigger||!1!==u.trigger.apply(n,i))){if(!o&&!u.noBubble&&!_t(n)){for(l=u.delegateType||p,Ce.test(l+p)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(n.ownerDocument||at)&&f.push(s.defaultView||s.parentWindow||t)}for(r=0;(a=f[r++])&&!e.isPropagationStopped();)d=a,e.type=r>1?l:u.bindType||p,(c=(Ht.get(a,"events")||{})[e.type]&&Ht.get(a,"handle"))&&c.apply(a,i),(c=h&&a[h])&&c.apply&&Bt(a)&&(e.result=c.apply(a,i),!1===e.result&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(f.pop(),i)||!Bt(n)||h&&yt(n[p])&&!_t(n)&&((s=n[h])&&(n[h]=null),wt.event.triggered=p,e.isPropagationStopped()&&d.addEventListener(p,Te),n[p](),e.isPropagationStopped()&&d.removeEventListener(p,Te),wt.event.triggered=void 0,s&&(n[h]=s)),e.result}},simulate:function(t,e,i){var n=wt.extend(new wt.Event,i,{type:t,isSimulated:!0});wt.event.trigger(n,null,e)}}),wt.fn.extend({trigger:function(t,e){return this.each(function(){wt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return wt.event.trigger(t,e,i,!0)}}),vt.focusin||wt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){wt.event.simulate(e,t.target,wt.event.fix(t))};wt.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=Ht.access(n,e);o||n.addEventListener(t,i,!0),Ht.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=Ht.access(n,e)-1;o?Ht.access(n,e,o):(n.removeEventListener(t,i,!0),Ht.remove(n,e))}}});var Ie=t.location,Ae=Date.now(),ke=/\?/;wt.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||wt.error("Invalid XML: "+e),i};var Ee=/\[\]$/,Le=/\r?\n/g,Oe=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;wt.param=function(t,e){var i,n=[],o=function(t,e){var i=yt(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!wt.isPlainObject(t))wt.each(t,function(){o(this.name,this.value)});else for(i in t)J(i,t[i],e,o);return n.join("&")},wt.fn.extend({serialize:function(){return wt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=wt.prop(this,"elements");return t?wt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!wt(this).is(":disabled")&&Pe.test(this.nodeName)&&!Oe.test(t)&&(this.checked||!Zt.test(t))}).map(function(t,e){var i=wt(this).val();return null==i?null:Array.isArray(i)?wt.map(i,function(t){return{name:e.name,value:t.replace(Le,"\r\n")}}):{name:e.name,value:i.replace(Le,"\r\n")}}).get()}});var Ne=/%20/g,Re=/#.*$/,ze=/([?&])_=[^&]*/,Be=/^(.*?):[ \t]*([^\r\n]*)$/gm,He=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ve=/^(?:GET|HEAD)$/,We=/^\/\//,Fe={},$e={},Ge="*/".concat("*"),je=at.createElement("a");je.href=Ie.href,wt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ie.href,type:"GET",isLocal:He.test(Ie.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":wt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?it(it(t,wt.ajaxSettings),e):it(wt.ajaxSettings,t)},ajaxPrefilter:tt(Fe),ajaxTransport:tt($e),ajax:function(e,i){function n(e,i,n,s){var h,d,f,x,w,b=i;c||(c=!0,l&&t.clearTimeout(l),o=void 0,a=s||"",S.readyState=e>0?4:0,h=e>=200&&e<300||304===e,n&&(x=nt(p,S,n)),x=ot(p,x,S,h),h?(p.ifModified&&((w=S.getResponseHeader("Last-Modified"))&&(wt.lastModified[r]=w),(w=S.getResponseHeader("etag"))&&(wt.etag[r]=w)),204===e||"HEAD"===p.type?b="nocontent":304===e?b="notmodified":(b=x.state,d=x.data,h=!(f=x.error))):(f=b,!e&&b||(b="error",e<0&&(e=0))),S.status=e,S.statusText=(i||b)+"",h?v.resolveWith(g,[d,b,S]):v.rejectWith(g,[S,b,f]),S.statusCode(_),_=void 0,u&&m.trigger(h?"ajaxSuccess":"ajaxError",[S,p,h?d:f]),y.fireWith(g,[S,b]),u&&(m.trigger("ajaxComplete",[S,p]),--wt.active||wt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var o,r,a,s,l,h,c,u,d,f,p=wt.ajaxSetup({},i),g=p.context||p,m=p.context&&(g.nodeType||g.jquery)?wt(g):wt.event,v=wt.Deferred(),y=wt.Callbacks("once memory"),_=p.statusCode||{},x={},w={},b="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Be.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)S.always(t[S.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||b;return o&&o.abort(e),n(0,e),this}};if(v.promise(S),p.url=((e||p.url||Ie.href)+"").replace(We,Ie.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Lt)||[""],null==p.crossDomain){h=at.createElement("a");try{h.href=p.url,h.href=h.href,p.crossDomain=je.protocol+"//"+je.host!=h.protocol+"//"+h.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=wt.param(p.data,p.traditional)),et(Fe,p,i,S),c)return S;(u=wt.event&&p.global)&&0==wt.active++&&wt.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Ve.test(p.type),r=p.url.replace(Re,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ne,"+")):(f=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(ke.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(ze,"$1"),f=(ke.test(r)?"&":"?")+"_="+Ae+++f),p.url=r+f),p.ifModified&&(wt.lastModified[r]&&S.setRequestHeader("If-Modified-Since",wt.lastModified[r]),wt.etag[r]&&S.setRequestHeader("If-None-Match",wt.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ge+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,S,p)||c))return S.abort();if(b="abort",y.add(p.complete),S.done(p.success),S.fail(p.error),o=et($e,p,i,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,p]),c)return S;p.async&&p.timeout>0&&(l=t.setTimeout(function(){S.abort("timeout")},p.timeout));try{c=!1,o.send(x,n)}catch(t){if(c)throw t;n(-1,t)}}else n(-1,"No Transport");return S},getJSON:function(t,e,i){return wt.get(t,e,i,"json")},getScript:function(t,e){return wt.get(t,void 0,e,"script")}}),wt.each(["get","post"],function(t,e){wt[e]=function(t,i,n,o){return yt(i)&&(o=o||n,n=i,i=void 0),wt.ajax(wt.extend({url:t,type:e,dataType:o,data:i,success:n},wt.isPlainObject(t)&&t))}}),wt._evalUrl=function(t){return wt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},wt.fn.extend({wrapAll:function(t){var e;return this[0]&&(yt(t)&&(t=t.call(this[0])),e=wt(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return yt(t)?this.each(function(e){wt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=wt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=yt(t);return this.each(function(i){wt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){wt(this).replaceWith(this.childNodes)}),this}}),wt.expr.pseudos.hidden=function(t){return!wt.expr.pseudos.visible(t)},wt.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},wt.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Ye={0:200,1223:204},Ue=wt.ajaxSettings.xhr();vt.cors=!!Ue&&"withCredentials"in Ue,vt.ajax=Ue=!!Ue,wt.ajaxTransport(function(e){var i,n;if(vt.cors||Ue&&!e.crossDomain)return{send:function(o,r){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);i=function(t){return function(){i&&(i=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(Ye[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=i(),n=s.onerror=s.ontimeout=i("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}}),wt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),wt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return wt.globalEval(t),t}}}),wt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),wt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=wt("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),at.head.appendChild(e[0])},abort:function(){i&&i()}}}});var qe=[],Ze=/(=)\?(?=&|$)|\?\?/;wt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||wt.expando+"_"+Ae++;return this[t]=!0,t}}),wt.ajaxPrefilter("json jsonp",function(e,i,n){var o,r,a,s=!1!==e.jsonp&&(Ze.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ze.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=yt(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ze,"$1"+o):!1!==e.jsonp&&(e.url+=(ke.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||wt.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},n.always(function(){void 0===r?wt(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=i.jsonpCallback,qe.push(o)),a&&yt(r)&&r(a[0]),a=r=void 0}),"script"}),vt.createHTMLDocument=function(){var t=at.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),wt.parseHTML=function(t,e,i){if("string"!=typeof t)return[];"boolean"==typeof e&&(i=e,e=!1);var n,o,r;return e||(vt.createHTMLDocument?((n=(e=at.implementation.createHTMLDocument("")).createElement("base")).href=at.location.href,e.head.appendChild(n)):e=at),o=Tt.exec(t),r=!i&&[],o?[e.createElement(o[1])]:(o=S([t],e,r),r&&r.length&&wt(r).remove(),wt.merge([],o.childNodes))},wt.fn.load=function(t,e,i){var n,o,r,a=this,s=t.indexOf(" ");return s>-1&&(n=X(t.slice(s)),t=t.slice(0,s)),yt(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&wt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(n?wt("<div>").append(wt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){a.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},wt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){wt.fn[e]=function(t){return this.on(e,t)}}),wt.expr.pseudos.animated=function(t){return wt.grep(wt.timers,function(e){return t===e.elem}).length},wt.offset={setOffset:function(t,e,i){var n,o,r,a,s,l,h=wt.css(t,"position"),c=wt(t),u={};"static"===h&&(t.style.position="relative"),s=c.offset(),r=wt.css(t,"top"),l=wt.css(t,"left"),("absolute"===h||"fixed"===h)&&(r+l).indexOf("auto")>-1?(a=(n=c.position()).top,o=n.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),yt(e)&&(e=e.call(t,i,wt.extend({},s))),null!=e.top&&(u.top=e.top-s.top+a),null!=e.left&&(u.left=e.left-s.left+o),"using"in e?e.using.call(t,u):c.css(u)}},wt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){wt.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],o={top:0,left:0};if("fixed"===wt.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===wt.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((o=wt(t).offset()).top+=wt.css(t,"borderTopWidth",!0),o.left+=wt.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-wt.css(n,"marginTop",!0),left:e.left-o.left-wt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===wt.css(t,"position");)t=t.offsetParent;return t||te})}}),wt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;wt.fn[t]=function(n){return Nt(this,function(t,n,o){var r;if(_t(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===o)return r?r[e]:t[n];r?r.scrollTo(i?r.pageXOffset:o,i?o:r.pageYOffset):t[n]=o},t,n,arguments.length)}}),wt.each(["top","left"],function(t,e){wt.cssHooks[e]=R(vt.pixelPosition,function(t,i){if(i)return i=N(t,e),le.test(i)?wt(t).position()[e]+"px":i})}),wt.each({Height:"height",Width:"width"},function(t,e){wt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){wt.fn[n]=function(o,r){var a=arguments.length&&(i||"boolean"!=typeof o),s=i||(!0===o||!0===r?"margin":"border");return Nt(this,function(e,i,o){var r;return _t(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===o?wt.css(e,i,s):wt.style(e,i,o,s)},e,a?o:void 0,a)}})}),wt.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){wt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),wt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),wt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),wt.proxy=function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),yt(t))return n=lt.call(arguments,2),o=function(){return t.apply(e||this,n.concat(lt.call(arguments)))},o.guid=t.guid=t.guid||wt.guid++,o},wt.holdReady=function(t){t?wt.readyWait++:wt.ready(!0)},wt.isArray=Array.isArray,wt.parseJSON=JSON.parse,wt.nodeName=r,wt.isFunction=yt,wt.isWindow=_t,wt.camelCase=p,wt.type=n,wt.now=Date.now,wt.isNumeric=function(t){var e=wt.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return wt});var Xe=t.jQuery,Ke=t.$;return wt.noConflict=function(e){return t.$===wt&&(t.$=Ke),e&&t.jQuery===wt&&(t.jQuery=Xe),wt},e||(t.jQuery=t.$=wt),wt}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,function(){"use strict";function t(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}function e(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},ct))}}function i(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function n(t,e){if(1!==t.nodeType)return[];var i=t.ownerDocument.defaultView,n=i.getComputedStyle(t,null);return e?n[e]:n}function o(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function r(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=n(t),i=e.overflow,a=e.overflowX;return/(auto|scroll|overlay)/.test(i+e.overflowY+a)?t:r(o(t))}function a(t){return 11===t?pt:10===t?gt:pt||gt}function s(t){if(!t)return document.documentElement;for(var e=a(10)?document.body:null,i=t.offsetParent||null;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var o=i&&i.nodeName;return o&&"BODY"!==o&&"HTML"!==o?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===n(i,"position")?s(i):i:t?t.ownerDocument.documentElement:document.documentElement}function l(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||s(t.firstElementChild)===t)}function h(t){return null!==t.parentNode?h(t.parentNode):t}function c(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?t:e,o=i?e:t,r=document.createRange();r.setStart(n,0),r.setEnd(o,0);var a=r.commonAncestorContainer;if(t!==a&&e!==a||n.contains(o))return l(a)?a:s(a);var u=h(t);return u.host?c(u.host,e):c(t,h(e).host)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",i="top"===e?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var o=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||o)[i]}return t[i]}function d(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=u(e,"top"),o=u(e,"left"),r=i?-1:1;return t.top+=n*r,t.bottom+=n*r,t.left+=o*r,t.right+=o*r,t}function f(t,e){var i="x"===e?"Left":"Top",n="Left"===i?"Right":"Bottom";return parseFloat(t["border"+i+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}function p(t,e,i,n){return Math.max(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],a(10)?parseInt(i["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function g(t){var e=t.body,i=t.documentElement,n=a(10)&&getComputedStyle(i);return{height:p("Height",e,i,n),width:p("Width",e,i,n)}}function m(t){return _t({},t,{right:t.left+t.width,bottom:t.top+t.height})}function v(t){var e={};try{if(a(10)){e=t.getBoundingClientRect();var i=u(t,"top"),o=u(t,"left");e.top+=i,e.left+=o,e.bottom+=i,e.right+=o}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},s="HTML"===t.nodeName?g(t.ownerDocument):{},l=s.width||t.clientWidth||r.right-r.left,h=s.height||t.clientHeight||r.bottom-r.top,c=t.offsetWidth-l,d=t.offsetHeight-h;if(c||d){var p=n(t);c-=f(p,"x"),d-=f(p,"y"),r.width-=c,r.height-=d}return m(r)}function y(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=a(10),s="HTML"===e.nodeName,l=v(t),h=v(e),c=r(t),u=n(e),f=parseFloat(u.borderTopWidth,10),p=parseFloat(u.borderLeftWidth,10);i&&s&&(h.top=Math.max(h.top,0),h.left=Math.max(h.left,0));var g=m({top:l.top-h.top-f,left:l.left-h.left-p,width:l.width,height:l.height});if(g.marginTop=0,g.marginLeft=0,!o&&s){var y=parseFloat(u.marginTop,10),_=parseFloat(u.marginLeft,10);g.top-=f-y,g.bottom-=f-y,g.left-=p-_,g.right-=p-_,g.marginTop=y,g.marginLeft=_}return(o&&!i?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(g=d(g,e)),g}function _(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.ownerDocument.documentElement,n=y(t,i),o=Math.max(i.clientWidth,window.innerWidth||0),r=Math.max(i.clientHeight,window.innerHeight||0),a=e?0:u(i),s=e?0:u(i,"left");return m({top:a-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:o,height:r})}function x(t){var e=t.nodeName;if("BODY"===e||"HTML"===e)return!1;if("fixed"===n(t,"position"))return!0;var i=o(t);return!!i&&x(i)}function w(t){if(!t||!t.parentElement||a())return document.documentElement;for(var e=t.parentElement;e&&"none"===n(e,"transform");)e=e.parentElement;return e||document.documentElement}function b(t,e,i,n){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},l=a?w(t):c(t,e);if("viewport"===n)s=_(l,a);else{var h=void 0;"scrollParent"===n?(h=r(o(e)),"BODY"===h.nodeName&&(h=t.ownerDocument.documentElement)):h="window"===n?t.ownerDocument.documentElement:n;var u=y(h,l,a);if("HTML"!==h.nodeName||x(l))s=u;else{var d=g(t.ownerDocument),f=d.height,p=d.width;s.top+=u.top-u.marginTop,s.bottom=f+u.top,s.left+=u.left-u.marginLeft,s.right=p+u.left}}i=i||0;var m="number"==typeof i;return s.left+=m?i:i.left||0,s.top+=m?i:i.top||0,s.right-=m?i:i.right||0,s.bottom-=m?i:i.bottom||0,s}function S(t){return t.width*t.height}function D(t,e,i,n,o){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=b(i,n,r,o),s={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(s).map(function(t){return _t({key:t},s[t],{area:S(s[t])})}).sort(function(t,e){return e.area-t.area}),h=l.filter(function(t){var e=t.width,n=t.height;return e>=i.clientWidth&&n>=i.clientHeight}),c=h.length>0?h[0].key:l[0].key,u=t.split("-")[1];return c+(u?"-"+u:"")}function M(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return y(i,n?w(e):c(e,i),n)}function C(t){var e=t.ownerDocument.defaultView,i=e.getComputedStyle(t),n=parseFloat(i.marginTop||0)+parseFloat(i.marginBottom||0),o=parseFloat(i.marginLeft||0)+parseFloat(i.marginRight||0);return{width:t.offsetWidth+o,height:t.offsetHeight+n}}function T(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function I(t,e,i){i=i.split("-")[0];var n=C(t),o={width:n.width,height:n.height},r=-1!==["right","left"].indexOf(i),a=r?"top":"left",s=r?"left":"top",l=r?"height":"width",h=r?"width":"height";return o[a]=e[a]+e[l]/2-n[l]/2,o[s]=i===s?e[s]-n[h]:e[T(s)],o}function A(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function k(t,e,i){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===i});var n=A(t,function(t){return t[e]===i});return t.indexOf(n)}function E(t,e,n){return(void 0===n?t:t.slice(0,k(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&i(n)&&(e.offsets.popper=m(e.offsets.popper),e.offsets.reference=m(e.offsets.reference),e=n(e,t))}),e}function L(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=M(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=D(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=I(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=E(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function O(t,e){return t.some(function(t){var i=t.name;return t.enabled&&i===e})}function P(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var o=e[n],r=o?""+o+i:t;if(void 0!==document.body.style[r])return r}return null}function N(){return this.state.isDestroyed=!0,O(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[P("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function R(t){var e=t.ownerDocument;return e?e.defaultView:window}function z(t,e,i,n){var o="BODY"===t.nodeName,a=o?t.ownerDocument.defaultView:t;a.addEventListener(e,i,{passive:!0}),o||z(r(a.parentNode),e,i,n),n.push(a)}function B(t,e,i,n){
i.updateBound=n,R(t).addEventListener("resize",i.updateBound,{passive:!0});var o=r(t);return z(o,"scroll",i.updateBound,i.scrollParents),i.scrollElement=o,i.eventsEnabled=!0,i}function H(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}function V(t,e){return R(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function W(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=V(this.reference,this.state))}function F(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function $(t,e){Object.keys(e).forEach(function(i){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&F(e[i])&&(n="px"),t.style[i]=e[i]+n})}function G(t,e){Object.keys(e).forEach(function(i){!1!==e[i]?t.setAttribute(i,e[i]):t.removeAttribute(i)})}function j(t){return $(t.instance.popper,t.styles),G(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&$(t.arrowElement,t.arrowStyles),t}function Y(t,e,i,n,o){var r=M(o,e,t,i.positionFixed),a=D(i.placement,r,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",a),$(e,{position:i.positionFixed?"fixed":"absolute"}),i}function U(t,e){var i=t.offsets,n=i.popper,o=i.reference,r=Math.round,a=Math.floor,s=function(t){return t},l=r(o.width),h=r(n.width),c=-1!==["left","right"].indexOf(t.placement),u=-1!==t.placement.indexOf("-"),d=l%2==h%2,f=l%2==1&&h%2==1,p=e?c||u||d?r:a:s,g=e?r:s;return{left:p(f&&!u&&e?n.left-1:n.left),top:g(n.top),bottom:g(n.bottom),right:p(n.right)}}function q(t,e){var i=e.x,n=e.y,o=t.offsets.popper,r=A(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==r?r:e.gpuAcceleration,l=s(t.instance.popper),h=v(l),c={position:o.position},u=U(t,window.devicePixelRatio<2||!xt),d="bottom"===i?"top":"bottom",f="right"===n?"left":"right",p=P("transform"),g=void 0,m=void 0;if(m="bottom"===d?"HTML"===l.nodeName?-l.clientHeight+u.bottom:-h.height+u.bottom:u.top,g="right"===f?"HTML"===l.nodeName?-l.clientWidth+u.right:-h.width+u.right:u.left,a&&p)c[p]="translate3d("+g+"px, "+m+"px, 0)",c[d]=0,c[f]=0,c.willChange="transform";else{var y="bottom"===d?-1:1,_="right"===f?-1:1;c[d]=m*y,c[f]=g*_,c.willChange=d+", "+f}var x={"x-placement":t.placement};return t.attributes=_t({},x,t.attributes),t.styles=_t({},c,t.styles),t.arrowStyles=_t({},t.offsets.arrow,t.arrowStyles),t}function Z(t,e,i){var n=A(t,function(t){return t.name===e}),o=!!n&&t.some(function(t){return t.name===i&&t.enabled&&t.order<n.order});if(!o){var r="`"+e+"`",a="`"+i+"`";console.warn(a+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return o}function X(t,e){var i;if(!Z(t.instance.modifiers,"arrow","keepTogether"))return t;var o=e.element;if("string"==typeof o){if(!(o=t.instance.popper.querySelector(o)))return t}else if(!t.instance.popper.contains(o))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],a=t.offsets,s=a.popper,l=a.reference,h=-1!==["left","right"].indexOf(r),c=h?"height":"width",u=h?"Top":"Left",d=u.toLowerCase(),f=h?"left":"top",p=h?"bottom":"right",g=C(o)[c];l[p]-g<s[d]&&(t.offsets.popper[d]-=s[d]-(l[p]-g)),l[d]+g>s[p]&&(t.offsets.popper[d]+=l[d]+g-s[p]),t.offsets.popper=m(t.offsets.popper);var v=l[d]+l[c]/2-g/2,y=n(t.instance.popper),_=parseFloat(y["margin"+u],10),x=parseFloat(y["border"+u+"Width"],10),w=v-t.offsets.popper[d]-_-x;return w=Math.max(Math.min(s[c]-g,w),0),t.arrowElement=o,t.offsets.arrow=(i={},yt(i,d,Math.round(w)),yt(i,f,""),i),t}function K(t){return"end"===t?"start":"start"===t?"end":t}function Q(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=bt.indexOf(t),n=bt.slice(i+1).concat(bt.slice(0,i));return e?n.reverse():n}function J(t,e){if(O(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var i=b(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],o=T(n),r=t.placement.split("-")[1]||"",a=[];switch(e.behavior){case St.FLIP:a=[n,o];break;case St.CLOCKWISE:a=Q(n);break;case St.COUNTERCLOCKWISE:a=Q(n,!0);break;default:a=e.behavior}return a.forEach(function(s,l){if(n!==s||a.length===l+1)return t;n=t.placement.split("-")[0],o=T(n);var h=t.offsets.popper,c=t.offsets.reference,u=Math.floor,d="left"===n&&u(h.right)>u(c.left)||"right"===n&&u(h.left)<u(c.right)||"top"===n&&u(h.bottom)>u(c.top)||"bottom"===n&&u(h.top)<u(c.bottom),f=u(h.left)<u(i.left),p=u(h.right)>u(i.right),g=u(h.top)<u(i.top),m=u(h.bottom)>u(i.bottom),v="left"===n&&f||"right"===n&&p||"top"===n&&g||"bottom"===n&&m,y=-1!==["top","bottom"].indexOf(n),_=!!e.flipVariations&&(y&&"start"===r&&f||y&&"end"===r&&p||!y&&"start"===r&&g||!y&&"end"===r&&m);(d||v||_)&&(t.flipped=!0,(d||v)&&(n=a[l+1]),_&&(r=K(r)),t.placement=n+(r?"-"+r:""),t.offsets.popper=_t({},t.offsets.popper,I(t.instance.popper,t.offsets.reference,t.placement)),t=E(t.instance.modifiers,t,"flip"))}),t}function tt(t){var e=t.offsets,i=e.popper,n=e.reference,o=t.placement.split("-")[0],r=Math.floor,a=-1!==["top","bottom"].indexOf(o),s=a?"right":"bottom",l=a?"left":"top",h=a?"width":"height";return i[s]<r(n[l])&&(t.offsets.popper[l]=r(n[l])-i[h]),i[l]>r(n[s])&&(t.offsets.popper[l]=r(n[s])),t}function et(t,e,i,n){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+o[1],a=o[2];if(!r)return t;if(0===a.indexOf("%")){var s=void 0;switch(a){case"%p":s=i;break;case"%":case"%r":default:s=n}return m(s)[e]/100*r}if("vh"===a||"vw"===a){return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r}return r}function it(t,e,i,n){var o=[0,0],r=-1!==["right","left"].indexOf(n),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=a.indexOf(A(a,function(t){return-1!==t.search(/,|\s/)}));a[s]&&-1===a[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,h=-1!==s?[a.slice(0,s).concat([a[s].split(l)[0]]),[a[s].split(l)[1]].concat(a.slice(s+1))]:[a];return h=h.map(function(t,n){var o=(1===n?!r:r)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return et(t,o,e,i)})}),h.forEach(function(t,e){t.forEach(function(i,n){F(i)&&(o[e]+=i*("-"===t[n-1]?-1:1))})}),o}function nt(t,e){var i=e.offset,n=t.placement,o=t.offsets,r=o.popper,a=o.reference,s=n.split("-")[0],l=void 0;return l=F(+i)?[+i,0]:it(i,r,a,s),"left"===s?(r.top+=l[0],r.left-=l[1]):"right"===s?(r.top+=l[0],r.left+=l[1]):"top"===s?(r.left+=l[0],r.top-=l[1]):"bottom"===s&&(r.left+=l[0],r.top+=l[1]),t.popper=r,t}function ot(t,e){var i=e.boundariesElement||s(t.instance.popper);t.instance.reference===i&&(i=s(i));var n=P("transform"),o=t.instance.popper.style,r=o.top,a=o.left,l=o[n];o.top="",o.left="",o[n]="";var h=b(t.instance.popper,t.instance.reference,e.padding,i,t.positionFixed);o.top=r,o.left=a,o[n]=l,e.boundaries=h;var c=e.priority,u=t.offsets.popper,d={primary:function(t){var i=u[t];return u[t]<h[t]&&!e.escapeWithReference&&(i=Math.max(u[t],h[t])),yt({},t,i)},secondary:function(t){var i="right"===t?"left":"top",n=u[i];return u[t]>h[t]&&!e.escapeWithReference&&(n=Math.min(u[i],h[t]-("right"===t?u.width:u.height))),yt({},i,n)}};return c.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";u=_t({},u,d[e](t))}),t.offsets.popper=u,t}function rt(t){var e=t.placement,i=e.split("-")[0],n=e.split("-")[1];if(n){var o=t.offsets,r=o.reference,a=o.popper,s=-1!==["bottom","top"].indexOf(i),l=s?"left":"top",h=s?"width":"height",c={start:yt({},l,r[l]),end:yt({},l,r[l]+r[h]-a[h])};t.offsets.popper=_t({},a,c[n])}return t}function at(t){if(!Z(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=A(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function st(t){var e=t.placement,i=e.split("-")[0],n=t.offsets,o=n.popper,r=n.reference,a=-1!==["left","right"].indexOf(i),s=-1===["top","left"].indexOf(i);return o[a?"left":"top"]=r[i]-(s?o[a?"width":"height"]:0),t.placement=T(e),t.offsets.popper=m(o),t}for(var lt="undefined"!=typeof window&&"undefined"!=typeof document,ht=["Edge","Trident","Firefox"],ct=0,ut=0;ut<ht.length;ut+=1)if(lt&&navigator.userAgent.indexOf(ht[ut])>=0){ct=1;break}var dt=lt&&window.Promise,ft=dt?t:e,pt=lt&&!(!window.MSInputMethodContext||!document.documentMode),gt=lt&&/MSIE 10/.test(navigator.userAgent),mt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},vt=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),yt=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},_t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},xt=lt&&/Firefox/i.test(navigator.userAgent),wt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],bt=wt.slice(3),St={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Dt={shift:{order:100,enabled:!0,fn:rt},offset:{order:200,enabled:!0,fn:nt,offset:0},preventOverflow:{order:300,enabled:!0,fn:ot,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:tt},arrow:{order:500,enabled:!0,fn:X,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:J,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:st},hide:{order:800,enabled:!0,fn:at},computeStyle:{order:850,enabled:!0,fn:q,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:j,onLoad:Y,gpuAcceleration:void 0}},Mt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Dt},Ct=function(){function t(e,n){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};mt(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=ft(this.update.bind(this)),this.options=_t({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(_t({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){o.options.modifiers[e]=_t({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return _t({name:t},o.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&i(t.onLoad)&&t.onLoad(o.reference,o.popper,o.options,t,o.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return vt(t,[{key:"update",value:function(){return L.call(this)}},{key:"destroy",value:function(){return N.call(this)}},{key:"enableEventListeners",value:function(){return H.call(this)}},{key:"disableEventListeners",value:function(){return W.call(this)}}]),t}();return Ct.Utils=("undefined"!=typeof window?window:global).PopperUtils,Ct.placements=wt,Ct.Defaults=Mt,Ct}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):(t=t||self,e(t.bootstrap={},t.jQuery,t.Popper))}(this,function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){r(t,e,i[e])})}return t}function s(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function l(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function h(){return{bindType:f,delegateType:f,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}}function c(t){var i=this,n=!1;return e(this).one(p.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||p.triggerTransitionEnd(i)},t),this}function u(t,e){var i=t.nodeName.toLowerCase();if(-1!==e.indexOf(i))return-1===ht.indexOf(i)||Boolean(t.nodeValue.match(dt)||t.nodeValue.match(ft));for(var n=e.filter(function(t){return t instanceof RegExp}),o=0,r=n.length;o<r;o++)if(i.match(n[o]))return!0;return!1}function d(t,e,i){if(0===t.length)return t;if(i&&"function"==typeof i)return i(t);for(var n=new window.DOMParser,o=n.parseFromString(t,"text/html"),r=Object.keys(e),a=[].slice.call(o.body.querySelectorAll("*")),s=0,l=a.length;s<l;s++){(function(t,i){var n=a[t],o=n.nodeName.toLowerCase();if(-1===r.indexOf(n.nodeName.toLowerCase()))return n.parentNode.removeChild(n),"continue";var s=[].slice.call(n.attributes),l=[].concat(e["*"]||[],e[o]||[]);s.forEach(function(t){u(t,l)||n.removeAttribute(t.nodeName)})})(s)}return o.body.innerHTML}e=e&&e.hasOwnProperty("default")?e.default:e,i=i&&i.hasOwnProperty("default")?i.default:i;var f="transitionend",p={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var i=t.getAttribute("href");e=i&&"#"!==i?i.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var i=e(t).css("transition-duration"),n=e(t).css("transition-delay"),o=parseFloat(i),r=parseFloat(n);return o||r?(i=i.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(i)+parseFloat(n))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(f)},supportsTransitionEnd:function(){return Boolean(f)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var o=i[n],r=e[n],a=r&&p.isElement(r)?"element":l(r);if(!new RegExp(o).test(a))throw new Error(t.toUpperCase()+': Option "'+n+'" provided type "'+a+'" but expected type "'+o+'".')}},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?p.findShadowRoot(t.parentNode):null}};!function(){e.fn.emulateTransitionEnd=c,e.event.special[p.TRANSITION_END]=h()}();var g="alert",m=e.fn[g],v={DISMISS:'[data-dismiss="alert"]'},y={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},_={ALERT:"alert",FADE:"fade",SHOW:"show"},x=function(){function t(t){this._element=t}var i=t.prototype;return i.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},i.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},i._getRootElement=function(t){var i=p.getSelectorFromElement(t),n=!1;return i&&(n=document.querySelector(i)),n||(n=e(t).closest("."+_.ALERT)[0]),n},i._triggerCloseEvent=function(t){var i=e.Event(y.CLOSE);return e(t).trigger(i),i},i._removeElement=function(t){var i=this;if(e(t).removeClass(_.SHOW),!e(t).hasClass(_.FADE))return void this._destroyElement(t);var n=p.getTransitionDurationFromElement(t);e(t).one(p.TRANSITION_END,function(e){return i._destroyElement(t,e)}).emulateTransitionEnd(n)},i._destroyElement=function(t){e(t).detach().trigger(y.CLOSED).remove()},t._jQueryInterface=function(i){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||(o=new t(this),n.data("bs.alert",o)),"close"===i&&o[i](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(y.CLICK_DATA_API,v.DISMISS,x._handleDismiss(new x)),e.fn[g]=x._jQueryInterface,e.fn[g].Constructor=x,e.fn[g].noConflict=function(){return e.fn[g]=m,x._jQueryInterface};var w=e.fn.button,b={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},S={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:'input:not([type="hidden"])',ACTIVE:".active",BUTTON:".btn"},D={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},M=function(){function t(t){this._element=t}var i=t.prototype;return i.toggle=function(){var t=!0,i=!0,n=e(this._element).closest(S.DATA_TOGGLE)[0];if(n){var o=this._element.querySelector(S.INPUT);if(o){if("radio"===o.type)if(o.checked&&this._element.classList.contains(b.ACTIVE))t=!1;else{var r=n.querySelector(S.ACTIVE);r&&e(r).removeClass(b.ACTIVE)}if(t){if(o.hasAttribute("disabled")||n.hasAttribute("disabled")||o.classList.contains("disabled")||n.classList.contains("disabled"))return;o.checked=!this._element.classList.contains(b.ACTIVE),e(o).trigger("change")}o.focus(),i=!1}}i&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(b.ACTIVE)),t&&e(this._element).toggleClass(b.ACTIVE)},i.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(i){return this.each(function(){var n=e(this).data("bs.button");n||(n=new t(this),e(this).data("bs.button",n)),"toggle"===i&&n[i]()})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(D.CLICK_DATA_API,S.DATA_TOGGLE_CARROT,function(t){t.preventDefault();var i=t.target;e(i).hasClass(b.BUTTON)||(i=e(i).closest(S.BUTTON)),M._jQueryInterface.call(e(i),"toggle")}).on(D.FOCUS_BLUR_DATA_API,S.DATA_TOGGLE_CARROT,function(t){var i=e(t.target).closest(S.BUTTON)[0];e(i).toggleClass(b.FOCUS,/^focus(in)?$/.test(t.type))}),e.fn.button=M._jQueryInterface,e.fn.button.Constructor=M,e.fn.button.noConflict=function(){return e.fn.button=w,M._jQueryInterface};var C="carousel",T=".bs.carousel",I=e.fn[C],A={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},k={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},E={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},L={SLIDE:"slide.bs.carousel",SLID:"slid.bs.carousel",KEYDOWN:"keydown.bs.carousel",MOUSEENTER:"mouseenter.bs.carousel",MOUSELEAVE:"mouseleave.bs.carousel",TOUCHSTART:"touchstart.bs.carousel",TOUCHMOVE:"touchmove.bs.carousel",TOUCHEND:"touchend.bs.carousel",POINTERDOWN:"pointerdown.bs.carousel",POINTERUP:"pointerup.bs.carousel",DRAG_START:"dragstart.bs.carousel",LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},O={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},P={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},N={TOUCH:"touch",PEN:"pen"},R=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(P.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var i=t.prototype;return i.next=function(){this._isSliding||this._slide(E.NEXT)},i.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},i.prev=function(){this._isSliding||this._slide(E.PREV)},i.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(P.NEXT_PREV)&&(p.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},i.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},i.to=function(t){var i=this;this._activeElement=this._element.querySelector(P.ACTIVE_ITEM);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0)){if(this._isSliding)return void e(this._element).one(L.SLID,function(){return i.to(t)});if(n===t)return this.pause(),void this.cycle();var o=t>n?E.NEXT:E.PREV;this._slide(o,this._items[t])}},i.dispose=function(){e(this._element).off(T),e.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},i._getConfig=function(t){return t=a({},A,t),p.typeCheckConfig(C,t,k),t},i._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}},i._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(L.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&e(this._element).on(L.MOUSEENTER,function(e){return t.pause(e)}).on(L.MOUSELEAVE,function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},i._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var i=function(e){t._pointerEvent&&N[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},n=function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX},o=function(e){t._pointerEvent&&N[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval))};e(this._element.querySelectorAll(P.ITEM_IMG)).on(L.DRAG_START,function(t){return t.preventDefault()}),this._pointerEvent?(e(this._element).on(L.POINTERDOWN,function(t){return i(t)}),e(this._element).on(L.POINTERUP,function(t){return o(t)}),this._element.classList.add(O.POINTER_EVENT)):(e(this._element).on(L.TOUCHSTART,function(t){return i(t)}),e(this._element).on(L.TOUCHMOVE,function(t){return n(t)}),e(this._element).on(L.TOUCHEND,function(t){return o(t)}))}},i._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},i._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(P.ITEM)):[],this._items.indexOf(t)},i._getItemByDirection=function(t,e){var i=t===E.NEXT,n=t===E.PREV,o=this._getItemIndex(e),r=this._items.length-1;if((n&&0===o||i&&o===r)&&!this._config.wrap)return e;var a=t===E.PREV?-1:1,s=(o+a)%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},i._triggerSlideEvent=function(t,i){var n=this._getItemIndex(t),o=this._getItemIndex(this._element.querySelector(P.ACTIVE_ITEM)),r=e.Event(L.SLIDE,{relatedTarget:t,direction:i,from:o,to:n});return e(this._element).trigger(r),r},i._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var i=[].slice.call(this._indicatorsElement.querySelectorAll(P.ACTIVE));e(i).removeClass(O.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&e(n).addClass(O.ACTIVE)}},i._slide=function(t,i){var n,o,r,a=this,s=this._element.querySelector(P.ACTIVE_ITEM),l=this._getItemIndex(s),h=i||s&&this._getItemByDirection(t,s),c=this._getItemIndex(h),u=Boolean(this._interval);if(t===E.NEXT?(n=O.LEFT,o=O.NEXT,r=E.LEFT):(n=O.RIGHT,o=O.PREV,r=E.RIGHT),h&&e(h).hasClass(O.ACTIVE))return void(this._isSliding=!1);if(!this._triggerSlideEvent(h,r).isDefaultPrevented()&&s&&h){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(h);var d=e.Event(L.SLID,{relatedTarget:h,direction:r,from:l,to:c});if(e(this._element).hasClass(O.SLIDE)){e(h).addClass(o),p.reflow(h),e(s).addClass(n),e(h).addClass(n);var f=parseInt(h.getAttribute("data-interval"),10);f?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=f):this._config.interval=this._config.defaultInterval||this._config.interval;var g=p.getTransitionDurationFromElement(s);e(s).one(p.TRANSITION_END,function(){e(h).removeClass(n+" "+o).addClass(O.ACTIVE),e(s).removeClass(O.ACTIVE+" "+o+" "+n),a._isSliding=!1,setTimeout(function(){return e(a._element).trigger(d)},0)}).emulateTransitionEnd(g)}else e(s).removeClass(O.ACTIVE),e(h).addClass(O.ACTIVE),this._isSliding=!1,e(this._element).trigger(d);u&&this.cycle()}},t._jQueryInterface=function(i){return this.each(function(){var n=e(this).data("bs.carousel"),o=a({},A,e(this).data());"object"==typeof i&&(o=a({},o,i));var r="string"==typeof i?i:o.slide;if(n||(n=new t(this,o),e(this).data("bs.carousel",n)),"number"==typeof i)n.to(i);else if("string"==typeof r){if(void 0===n[r])throw new TypeError('No method named "'+r+'"');n[r]()}else o.interval&&o.ride&&(n.pause(),n.cycle())})},t._dataApiClickHandler=function(i){var n=p.getSelectorFromElement(this);if(n){var o=e(n)[0];if(o&&e(o).hasClass(O.CAROUSEL)){var r=a({},e(o).data(),e(this).data()),s=this.getAttribute("data-slide-to");s&&(r.interval=!1),t._jQueryInterface.call(e(o),r),s&&e(o).data("bs.carousel").to(s),i.preventDefault()}}},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return A}}]),t}();e(document).on(L.CLICK_DATA_API,P.DATA_SLIDE,R._dataApiClickHandler),e(window).on(L.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(P.DATA_RIDE)),i=0,n=t.length;i<n;i++){var o=e(t[i]);R._jQueryInterface.call(o,o.data())}}),e.fn[C]=R._jQueryInterface,e.fn[C].Constructor=R,e.fn[C].noConflict=function(){return e.fn[C]=I,R._jQueryInterface};var z="collapse",B=e.fn[z],H={toggle:!0,parent:""},V={toggle:"boolean",parent:"(string|element)"},W={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},F={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},$={WIDTH:"width",HEIGHT:"height"},G={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},j=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(G.DATA_TOGGLE)),n=0,o=i.length;n<o;n++){var r=i[n],a=p.getSelectorFromElement(r),s=[].slice.call(document.querySelectorAll(a)).filter(function(e){return e===t});null!==a&&s.length>0&&(this._selector=a,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var i=t.prototype;return i.toggle=function(){e(this._element).hasClass(F.SHOW)?this.hide():this.show()},i.show=function(){var i=this;if(!this._isTransitioning&&!e(this._element).hasClass(F.SHOW)){var n,o;if(this._parent&&(n=[].slice.call(this._parent.querySelectorAll(G.ACTIVES)).filter(function(t){return"string"==typeof i._config.parent?t.getAttribute("data-parent")===i._config.parent:t.classList.contains(F.COLLAPSE)}),0===n.length&&(n=null)),!(n&&(o=e(n).not(this._selector).data("bs.collapse"))&&o._isTransitioning)){var r=e.Event(W.SHOW);if(e(this._element).trigger(r),!r.isDefaultPrevented()){n&&(t._jQueryInterface.call(e(n).not(this._selector),"hide"),o||e(n).data("bs.collapse",null));var a=this._getDimension();e(this._element).removeClass(F.COLLAPSE).addClass(F.COLLAPSING),this._element.style[a]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(F.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var s=function(){e(i._element).removeClass(F.COLLAPSING).addClass(F.COLLAPSE).addClass(F.SHOW),i._element.style[a]="",i.setTransitioning(!1),e(i._element).trigger(W.SHOWN)},l=a[0].toUpperCase()+a.slice(1),h="scroll"+l,c=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,s).emulateTransitionEnd(c),this._element.style[a]=this._element[h]+"px"}}}},i.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(F.SHOW)){var i=e.Event(W.HIDE);if(e(this._element).trigger(i),!i.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",p.reflow(this._element),e(this._element).addClass(F.COLLAPSING).removeClass(F.COLLAPSE).removeClass(F.SHOW);var o=this._triggerArray.length;if(o>0)for(var r=0;r<o;r++){var a=this._triggerArray[r],s=p.getSelectorFromElement(a);if(null!==s){var l=e([].slice.call(document.querySelectorAll(s)));l.hasClass(F.SHOW)||e(a).addClass(F.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0);var h=function(){t.setTransitioning(!1),e(t._element).removeClass(F.COLLAPSING).addClass(F.COLLAPSE).trigger(W.HIDDEN)};this._element.style[n]="";var c=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,h).emulateTransitionEnd(c)}}},i.setTransitioning=function(t){this._isTransitioning=t},i.dispose=function(){e.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},i._getConfig=function(t){return t=a({},H,t),t.toggle=Boolean(t.toggle),p.typeCheckConfig(z,t,V),t},i._getDimension=function(){return e(this._element).hasClass($.WIDTH)?$.WIDTH:$.HEIGHT},i._getParent=function(){var i,n=this;p.isElement(this._config.parent)?(i=this._config.parent,void 0!==this._config.parent.jquery&&(i=this._config.parent[0])):i=document.querySelector(this._config.parent);var o='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',r=[].slice.call(i.querySelectorAll(o));return e(r).each(function(e,i){n._addAriaAndCollapsedClass(t._getTargetFromElement(i),[i])}),i},i._addAriaAndCollapsedClass=function(t,i){var n=e(t).hasClass(F.SHOW);i.length&&e(i).toggleClass(F.COLLAPSED,!n).attr("aria-expanded",n)},
t._getTargetFromElement=function(t){var e=p.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(i){return this.each(function(){var n=e(this),o=n.data("bs.collapse"),r=a({},H,n.data(),"object"==typeof i&&i?i:{});if(!o&&r.toggle&&/show|hide/.test(i)&&(r.toggle=!1),o||(o=new t(this,r),n.data("bs.collapse",o)),"string"==typeof i){if(void 0===o[i])throw new TypeError('No method named "'+i+'"');o[i]()}})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return H}}]),t}();e(document).on(W.CLICK_DATA_API,G.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var i=e(this),n=p.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(n));e(o).each(function(){var t=e(this),n=t.data("bs.collapse"),o=n?"toggle":i.data();j._jQueryInterface.call(t,o)})}),e.fn[z]=j._jQueryInterface,e.fn[z].Constructor=j,e.fn[z].noConflict=function(){return e.fn[z]=B,j._jQueryInterface};var Y="dropdown",U=e.fn[Y],q=new RegExp("38|40|27"),Z={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},X={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},K={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},Q={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},J={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},tt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},et=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var n=t.prototype;return n.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(X.DISABLED)){var n=t._getParentFromElement(this._element),o=e(this._menu).hasClass(X.SHOW);if(t._clearMenus(),!o){var r={relatedTarget:this._element},a=e.Event(Z.SHOW,r);if(e(n).trigger(a),!a.isDefaultPrevented()){if(!this._inNavbar){if(void 0===i)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var s=this._element;"parent"===this._config.reference?s=n:p.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(n).addClass(X.POSITION_STATIC),this._popper=new i(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(n).closest(K.NAVBAR_NAV).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(X.SHOW),e(n).toggleClass(X.SHOW).trigger(e.Event(Z.SHOWN,r))}}}},n.show=function(){if(!(this._element.disabled||e(this._element).hasClass(X.DISABLED)||e(this._menu).hasClass(X.SHOW))){var i={relatedTarget:this._element},n=e.Event(Z.SHOW,i),o=t._getParentFromElement(this._element);e(o).trigger(n),n.isDefaultPrevented()||(e(this._menu).toggleClass(X.SHOW),e(o).toggleClass(X.SHOW).trigger(e.Event(Z.SHOWN,i)))}},n.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass(X.DISABLED)&&e(this._menu).hasClass(X.SHOW)){var i={relatedTarget:this._element},n=e.Event(Z.HIDE,i),o=t._getParentFromElement(this._element);e(o).trigger(n),n.isDefaultPrevented()||(e(this._menu).toggleClass(X.SHOW),e(o).toggleClass(X.SHOW).trigger(e.Event(Z.HIDDEN,i)))}},n.dispose=function(){e.removeData(this._element,"bs.dropdown"),e(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},n.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},n._addEventListeners=function(){var t=this;e(this._element).on(Z.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},n._getConfig=function(t){return t=a({},this.constructor.Default,e(this._element).data(),t),p.typeCheckConfig(Y,t,this.constructor.DefaultType),t},n._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(K.MENU))}return this._menu},n._getPlacement=function(){var t=e(this._element.parentNode),i=Q.BOTTOM;return t.hasClass(X.DROPUP)?(i=Q.TOP,e(this._menu).hasClass(X.MENURIGHT)&&(i=Q.TOPEND)):t.hasClass(X.DROPRIGHT)?i=Q.RIGHT:t.hasClass(X.DROPLEFT)?i=Q.LEFT:e(this._menu).hasClass(X.MENURIGHT)&&(i=Q.BOTTOMEND),i},n._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},n._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=a({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},n._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),t},t._jQueryInterface=function(i){return this.each(function(){var n=e(this).data("bs.dropdown"),o="object"==typeof i?i:null;if(n||(n=new t(this,o),e(this).data("bs.dropdown",n)),"string"==typeof i){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}})},t._clearMenus=function(i){if(!i||3!==i.which&&("keyup"!==i.type||9===i.which))for(var n=[].slice.call(document.querySelectorAll(K.DATA_TOGGLE)),o=0,r=n.length;o<r;o++){var a=t._getParentFromElement(n[o]),s=e(n[o]).data("bs.dropdown"),l={relatedTarget:n[o]};if(i&&"click"===i.type&&(l.clickEvent=i),s){var h=s._menu;if(e(a).hasClass(X.SHOW)&&!(i&&("click"===i.type&&/input|textarea/i.test(i.target.tagName)||"keyup"===i.type&&9===i.which)&&e.contains(a,i.target))){var c=e.Event(Z.HIDE,l);e(a).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),n[o].setAttribute("aria-expanded","false"),e(h).removeClass(X.SHOW),e(a).removeClass(X.SHOW).trigger(e.Event(Z.HIDDEN,l)))}}}},t._getParentFromElement=function(t){var e,i=p.getSelectorFromElement(t);return i&&(e=document.querySelector(i)),e||t.parentNode},t._dataApiKeydownHandler=function(i){if((/input|textarea/i.test(i.target.tagName)?!(32===i.which||27!==i.which&&(40!==i.which&&38!==i.which||e(i.target).closest(K.MENU).length)):q.test(i.which))&&(i.preventDefault(),i.stopPropagation(),!this.disabled&&!e(this).hasClass(X.DISABLED))){var n=t._getParentFromElement(this),o=e(n).hasClass(X.SHOW);if(!o||o&&(27===i.which||32===i.which)){if(27===i.which){var r=n.querySelector(K.DATA_TOGGLE);e(r).trigger("focus")}return void e(this).trigger("click")}var a=[].slice.call(n.querySelectorAll(K.VISIBLE_ITEMS));if(0!==a.length){var s=a.indexOf(i.target);38===i.which&&s>0&&s--,40===i.which&&s<a.length-1&&s++,s<0&&(s=0),a[s].focus()}}},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return J}},{key:"DefaultType",get:function(){return tt}}]),t}();e(document).on(Z.KEYDOWN_DATA_API,K.DATA_TOGGLE,et._dataApiKeydownHandler).on(Z.KEYDOWN_DATA_API,K.MENU,et._dataApiKeydownHandler).on(Z.CLICK_DATA_API+" "+Z.KEYUP_DATA_API,et._clearMenus).on(Z.CLICK_DATA_API,K.DATA_TOGGLE,function(t){t.preventDefault(),t.stopPropagation(),et._jQueryInterface.call(e(this),"toggle")}).on(Z.CLICK_DATA_API,K.FORM_CHILD,function(t){t.stopPropagation()}),e.fn[Y]=et._jQueryInterface,e.fn[Y].Constructor=et,e.fn[Y].noConflict=function(){return e.fn[Y]=U,et._jQueryInterface};var it=e.fn.modal,nt={backdrop:!0,keyboard:!0,focus:!0,show:!0},ot={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},rt={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},at={SCROLLABLE:"modal-dialog-scrollable",SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},st={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},lt=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(st.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var i=t.prototype;return i.toggle=function(t){return this._isShown?this.hide():this.show(t)},i.show=function(t){var i=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass(at.FADE)&&(this._isTransitioning=!0);var n=e.Event(rt.SHOW,{relatedTarget:t});e(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(rt.CLICK_DISMISS,st.DATA_DISMISS,function(t){return i.hide(t)}),e(this._dialog).on(rt.MOUSEDOWN_DISMISS,function(){e(i._element).one(rt.MOUSEUP_DISMISS,function(t){e(t.target).is(i._element)&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return i._showElement(t)}))}},i.hide=function(t){var i=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var n=e.Event(rt.HIDE);if(e(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var o=e(this._element).hasClass(at.FADE);if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(rt.FOCUSIN),e(this._element).removeClass(at.SHOW),e(this._element).off(rt.CLICK_DISMISS),e(this._dialog).off(rt.MOUSEDOWN_DISMISS),o){var r=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,function(t){return i._hideModal(t)}).emulateTransitionEnd(r)}else this._hideModal()}}},i.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return e(t).off(".bs.modal")}),e(document).off(rt.FOCUSIN),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},i.handleUpdate=function(){this._adjustDialog()},i._getConfig=function(t){return t=a({},nt,t),p.typeCheckConfig("modal",t,ot),t},i._showElement=function(t){var i=this,n=e(this._element).hasClass(at.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass(at.SCROLLABLE)?this._dialog.querySelector(st.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,n&&p.reflow(this._element),e(this._element).addClass(at.SHOW),this._config.focus&&this._enforceFocus();var o=e.Event(rt.SHOWN,{relatedTarget:t}),r=function(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,e(i._element).trigger(o)};if(n){var a=p.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(p.TRANSITION_END,r).emulateTransitionEnd(a)}else r()},i._enforceFocus=function(){var t=this;e(document).off(rt.FOCUSIN).on(rt.FOCUSIN,function(i){document!==i.target&&t._element!==i.target&&0===e(t._element).has(i.target).length&&t._element.focus()})},i._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(rt.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||e(this._element).off(rt.KEYDOWN_DISMISS)},i._setResizeEvent=function(){var t=this;this._isShown?e(window).on(rt.RESIZE,function(e){return t.handleUpdate(e)}):e(window).off(rt.RESIZE)},i._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass(at.OPEN),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(rt.HIDDEN)})},i._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},i._showBackdrop=function(t){var i=this,n=e(this._element).hasClass(at.FADE)?at.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=at.BACKDROP,n&&this._backdrop.classList.add(n),e(this._backdrop).appendTo(document.body),e(this._element).on(rt.CLICK_DISMISS,function(t){if(i._ignoreBackdropClick)return void(i._ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())}),n&&p.reflow(this._backdrop),e(this._backdrop).addClass(at.SHOW),!t)return;if(!n)return void t();var o=p.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(p.TRANSITION_END,t).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(at.SHOW);var r=function(){i._removeBackdrop(),t&&t()};if(e(this._element).hasClass(at.FADE)){var a=p.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(p.TRANSITION_END,r).emulateTransitionEnd(a)}else r()}else t&&t()},i._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},i._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},i._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},i._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var i=[].slice.call(document.querySelectorAll(st.FIXED_CONTENT)),n=[].slice.call(document.querySelectorAll(st.STICKY_CONTENT));e(i).each(function(i,n){var o=n.style.paddingRight,r=e(n).css("padding-right");e(n).data("padding-right",o).css("padding-right",parseFloat(r)+t._scrollbarWidth+"px")}),e(n).each(function(i,n){var o=n.style.marginRight,r=e(n).css("margin-right");e(n).data("margin-right",o).css("margin-right",parseFloat(r)-t._scrollbarWidth+"px")});var o=document.body.style.paddingRight,r=e(document.body).css("padding-right");e(document.body).data("padding-right",o).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}e(document.body).addClass(at.OPEN)},i._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(st.FIXED_CONTENT));e(t).each(function(t,i){var n=e(i).data("padding-right");e(i).removeData("padding-right"),i.style.paddingRight=n||""});var i=[].slice.call(document.querySelectorAll(""+st.STICKY_CONTENT));e(i).each(function(t,i){var n=e(i).data("margin-right");void 0!==n&&e(i).css("margin-right",n).removeData("margin-right")});var n=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},i._getScrollbarWidth=function(){var t=document.createElement("div");t.className=at.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(i,n){return this.each(function(){var o=e(this).data("bs.modal"),r=a({},nt,e(this).data(),"object"==typeof i&&i?i:{});if(o||(o=new t(this,r),e(this).data("bs.modal",o)),"string"==typeof i){if(void 0===o[i])throw new TypeError('No method named "'+i+'"');o[i](n)}else r.show&&o.show(n)})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return nt}}]),t}();e(document).on(rt.CLICK_DATA_API,st.DATA_TOGGLE,function(t){var i,n=this,o=p.getSelectorFromElement(this);o&&(i=document.querySelector(o));var r=e(i).data("bs.modal")?"toggle":a({},e(i).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var s=e(i).one(rt.SHOW,function(t){t.isDefaultPrevented()||s.one(rt.HIDDEN,function(){e(n).is(":visible")&&n.focus()})});lt._jQueryInterface.call(e(i),r,this)}),e.fn.modal=lt._jQueryInterface,e.fn.modal.Constructor=lt,e.fn.modal.noConflict=function(){return e.fn.modal=it,lt._jQueryInterface};var ht=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],ct=/^aria-[\w-]*$/i,ut={"*":["class","dir","id","lang","role",ct],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},dt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ft=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,pt="tooltip",gt=e.fn[pt],mt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),vt=["sanitize","whiteList","sanitizeFn"],yt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},_t={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},xt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:ut},wt={SHOW:"show",OUT:"out"},bt={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},St={FADE:"fade",SHOW:"show"},Dt={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},Mt={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},Ct=function(){function t(t,e){if(void 0===i)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var n=t.prototype;return n.enable=function(){this._isEnabled=!0},n.disable=function(){this._isEnabled=!1},n.toggleEnabled=function(){this._isEnabled=!this._isEnabled},n.toggle=function(t){if(this._isEnabled)if(t){var i=this.constructor.DATA_KEY,n=e(t.currentTarget).data(i);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(e(this.getTipElement()).hasClass(St.SHOW))return void this._leave(null,this);this._enter(null,this)}},n.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},n.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var n=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(n);var o=p.findShadowRoot(this.element),r=e.contains(null!==o?o:this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!r)return;var a=this.getTipElement(),s=p.getUID(this.constructor.NAME);a.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&e(a).addClass(St.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,h=this._getAttachment(l);this.addAttachmentClass(h);var c=this._getContainer();e(a).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(a).appendTo(c),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new i(this.element,a,{placement:h,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:Dt.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),e(a).addClass(St.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var u=function(){t.config.animation&&t._fixTransition();var i=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),i===wt.OUT&&t._leave(null,t)};if(e(this.tip).hasClass(St.FADE)){var d=p.getTransitionDurationFromElement(this.tip);e(this.tip).one(p.TRANSITION_END,u).emulateTransitionEnd(d)}else u()}},n.hide=function(t){var i=this,n=this.getTipElement(),o=e.Event(this.constructor.Event.HIDE),r=function(){i._hoverState!==wt.SHOW&&n.parentNode&&n.parentNode.removeChild(n),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),e(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),t&&t()};if(e(this.element).trigger(o),!o.isDefaultPrevented()){if(e(n).removeClass(St.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[Mt.CLICK]=!1,this._activeTrigger[Mt.FOCUS]=!1,this._activeTrigger[Mt.HOVER]=!1,e(this.tip).hasClass(St.FADE)){var a=p.getTransitionDurationFromElement(n);e(n).one(p.TRANSITION_END,r).emulateTransitionEnd(a)}else r();this._hoverState=""}},n.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},n.isWithContent=function(){return Boolean(this.getTitle())},n.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},n.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},n.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(Dt.TOOLTIP_INNER)),this.getTitle()),e(t).removeClass(St.FADE+" "+St.SHOW)},n.setElementContent=function(t,i){if("object"==typeof i&&(i.nodeType||i.jquery))return void(this.config.html?e(i).parent().is(t)||t.empty().append(i):t.text(e(i).text()));this.config.html?(this.config.sanitize&&(i=d(i,this.config.whiteList,this.config.sanitizeFn)),t.html(i)):t.text(i)},n.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},n._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=a({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},n._getContainer=function(){return!1===this.config.container?document.body:p.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},n._getAttachment=function(t){return _t[t.toUpperCase()]},n._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(i){if("click"===i)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(i!==Mt.MANUAL){var n=i===Mt.HOVER?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,o=i===Mt.HOVER?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(n,t.config.selector,function(e){return t._enter(e)}).on(o,t.config.selector,function(e){return t._leave(e)})}}),e(this.element).closest(".modal").on("hide.bs.modal",function(){t.element&&t.hide()}),this.config.selector?this.config=a({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},n._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},n._enter=function(t,i){var n=this.constructor.DATA_KEY;return i=i||e(t.currentTarget).data(n),i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),t&&(i._activeTrigger["focusin"===t.type?Mt.FOCUS:Mt.HOVER]=!0),e(i.getTipElement()).hasClass(St.SHOW)||i._hoverState===wt.SHOW?void(i._hoverState=wt.SHOW):(clearTimeout(i._timeout),i._hoverState=wt.SHOW,i.config.delay&&i.config.delay.show?void(i._timeout=setTimeout(function(){i._hoverState===wt.SHOW&&i.show()},i.config.delay.show)):void i.show())},n._leave=function(t,i){var n=this.constructor.DATA_KEY;if(i=i||e(t.currentTarget).data(n),i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),t&&(i._activeTrigger["focusout"===t.type?Mt.FOCUS:Mt.HOVER]=!1),!i._isWithActiveTrigger()){if(clearTimeout(i._timeout),i._hoverState=wt.OUT,!i.config.delay||!i.config.delay.hide)return void i.hide();i._timeout=setTimeout(function(){i._hoverState===wt.OUT&&i.hide()},i.config.delay.hide)}},n._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},n._getConfig=function(t){var i=e(this.element).data();return Object.keys(i).forEach(function(t){-1!==vt.indexOf(t)&&delete i[t]}),t=a({},this.constructor.Default,i,"object"==typeof t&&t?t:{}),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),p.typeCheckConfig(pt,t,this.constructor.DefaultType),t.sanitize&&(t.template=d(t.template,t.whiteList,t.sanitizeFn)),t},n._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},n._cleanTipClass=function(){var t=e(this.getTipElement()),i=t.attr("class").match(mt);null!==i&&i.length&&t.removeClass(i.join(""))},n._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},n._fixTransition=function(){var t=this.getTipElement(),i=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(St.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=i)},t._jQueryInterface=function(i){return this.each(function(){var n=e(this).data("bs.tooltip"),o="object"==typeof i&&i;if((n||!/dispose|hide/.test(i))&&(n||(n=new t(this,o),e(this).data("bs.tooltip",n)),"string"==typeof i)){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return xt}},{key:"NAME",get:function(){return pt}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return bt}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return yt}}]),t}();e.fn[pt]=Ct._jQueryInterface,e.fn[pt].Constructor=Ct,e.fn[pt].noConflict=function(){return e.fn[pt]=gt,Ct._jQueryInterface};var Tt="popover",It=e.fn[Tt],At=new RegExp("(^|\\s)bs-popover\\S+","g"),kt=a({},Ct.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Et=a({},Ct.DefaultType,{content:"(string|element|function)"}),Lt={FADE:"fade",SHOW:"show"},Ot={TITLE:".popover-header",CONTENT:".popover-body"},Pt={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Nt=function(t){function i(){return t.apply(this,arguments)||this}s(i,t);var n=i.prototype;return n.isWithContent=function(){return this.getTitle()||this._getContent()},n.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},n.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},n.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(Ot.TITLE),this.getTitle());var i=this._getContent();"function"==typeof i&&(i=i.call(this.element)),this.setElementContent(t.find(Ot.CONTENT),i),t.removeClass(Lt.FADE+" "+Lt.SHOW)},n._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},n._cleanTipClass=function(){var t=e(this.getTipElement()),i=t.attr("class").match(At);null!==i&&i.length>0&&t.removeClass(i.join(""))},i._jQueryInterface=function(t){return this.each(function(){var n=e(this).data("bs.popover"),o="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new i(this,o),e(this).data("bs.popover",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},o(i,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return kt}},{key:"NAME",get:function(){return Tt}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return Pt}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Et}}]),i}(Ct);e.fn[Tt]=Nt._jQueryInterface,e.fn[Tt].Constructor=Nt,e.fn[Tt].noConflict=function(){return e.fn[Tt]=It,Nt._jQueryInterface};var Rt="scrollspy",zt=e.fn[Rt],Bt={offset:10,method:"auto",target:""},Ht={offset:"number",method:"string",target:"(string|element)"},Vt={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},Wt={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},Ft={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},$t={OFFSET:"offset",POSITION:"position"},Gt=function(){function t(t,i){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(i),this._selector=this._config.target+" "+Ft.NAV_LINKS+","+this._config.target+" "+Ft.LIST_ITEMS+","+this._config.target+" "+Ft.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(Vt.SCROLL,function(t){return n._process(t)}),this.refresh(),this._process()}var i=t.prototype;return i.refresh=function(){var t=this,i=this._scrollElement===this._scrollElement.window?$t.OFFSET:$t.POSITION,n="auto"===this._config.method?i:this._config.method,o=n===$t.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),
[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var i,r=p.getSelectorFromElement(t);if(r&&(i=document.querySelector(r)),i){var a=i.getBoundingClientRect();if(a.width||a.height)return[e(i)[n]().top+o,r]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},i.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},i._getConfig=function(t){if(t=a({},Bt,"object"==typeof t&&t?t:{}),"string"!=typeof t.target){var i=e(t.target).attr("id");i||(i=p.getUID(Rt),e(t.target).attr("id",i)),t.target="#"+i}return p.typeCheckConfig(Rt,t,Ht),t},i._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},i._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},i._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},i._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),i=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=i){var n=this._targets[this._targets.length-1];return void(this._activeTarget!==n&&this._activate(n))}if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length,r=o;r--;){this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},i._activate=function(t){this._activeTarget=t,this._clear();var i=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),n=e([].slice.call(document.querySelectorAll(i.join(","))));n.hasClass(Wt.DROPDOWN_ITEM)?(n.closest(Ft.DROPDOWN).find(Ft.DROPDOWN_TOGGLE).addClass(Wt.ACTIVE),n.addClass(Wt.ACTIVE)):(n.addClass(Wt.ACTIVE),n.parents(Ft.NAV_LIST_GROUP).prev(Ft.NAV_LINKS+", "+Ft.LIST_ITEMS).addClass(Wt.ACTIVE),n.parents(Ft.NAV_LIST_GROUP).prev(Ft.NAV_ITEMS).children(Ft.NAV_LINKS).addClass(Wt.ACTIVE)),e(this._scrollElement).trigger(Vt.ACTIVATE,{relatedTarget:t})},i._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(Wt.ACTIVE)}).forEach(function(t){return t.classList.remove(Wt.ACTIVE)})},t._jQueryInterface=function(i){return this.each(function(){var n=e(this).data("bs.scrollspy"),o="object"==typeof i&&i;if(n||(n=new t(this,o),e(this).data("bs.scrollspy",n)),"string"==typeof i){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Bt}}]),t}();e(window).on(Vt.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(Ft.DATA_SPY)),i=t.length,n=i;n--;){var o=e(t[n]);Gt._jQueryInterface.call(o,o.data())}}),e.fn[Rt]=Gt._jQueryInterface,e.fn[Rt].Constructor=Gt,e.fn[Rt].noConflict=function(){return e.fn[Rt]=zt,Gt._jQueryInterface};var jt=e.fn.tab,Yt={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},Ut={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},qt={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},Zt=function(){function t(t){this._element=t}var i=t.prototype;return i.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(Ut.ACTIVE)||e(this._element).hasClass(Ut.DISABLED))){var i,n,o=e(this._element).closest(qt.NAV_LIST_GROUP)[0],r=p.getSelectorFromElement(this._element);if(o){var a="UL"===o.nodeName||"OL"===o.nodeName?qt.ACTIVE_UL:qt.ACTIVE;n=e.makeArray(e(o).find(a)),n=n[n.length-1]}var s=e.Event(Yt.HIDE,{relatedTarget:this._element}),l=e.Event(Yt.SHOW,{relatedTarget:n});if(n&&e(n).trigger(s),e(this._element).trigger(l),!l.isDefaultPrevented()&&!s.isDefaultPrevented()){r&&(i=document.querySelector(r)),this._activate(this._element,o);var h=function(){var i=e.Event(Yt.HIDDEN,{relatedTarget:t._element}),o=e.Event(Yt.SHOWN,{relatedTarget:n});e(n).trigger(i),e(t._element).trigger(o)};i?this._activate(i,i.parentNode,h):h()}}},i.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},i._activate=function(t,i,n){var o=this,r=!i||"UL"!==i.nodeName&&"OL"!==i.nodeName?e(i).children(qt.ACTIVE):e(i).find(qt.ACTIVE_UL),a=r[0],s=n&&a&&e(a).hasClass(Ut.FADE),l=function(){return o._transitionComplete(t,a,n)};if(a&&s){var h=p.getTransitionDurationFromElement(a);e(a).removeClass(Ut.SHOW).one(p.TRANSITION_END,l).emulateTransitionEnd(h)}else l()},i._transitionComplete=function(t,i,n){if(i){e(i).removeClass(Ut.ACTIVE);var o=e(i.parentNode).find(qt.DROPDOWN_ACTIVE_CHILD)[0];o&&e(o).removeClass(Ut.ACTIVE),"tab"===i.getAttribute("role")&&i.setAttribute("aria-selected",!1)}if(e(t).addClass(Ut.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),p.reflow(t),t.classList.contains(Ut.FADE)&&t.classList.add(Ut.SHOW),t.parentNode&&e(t.parentNode).hasClass(Ut.DROPDOWN_MENU)){var r=e(t).closest(qt.DROPDOWN)[0];if(r){var a=[].slice.call(r.querySelectorAll(qt.DROPDOWN_TOGGLE));e(a).addClass(Ut.ACTIVE)}t.setAttribute("aria-expanded",!0)}n&&n()},t._jQueryInterface=function(i){return this.each(function(){var n=e(this),o=n.data("bs.tab");if(o||(o=new t(this),n.data("bs.tab",o)),"string"==typeof i){if(void 0===o[i])throw new TypeError('No method named "'+i+'"');o[i]()}})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(Yt.CLICK_DATA_API,qt.DATA_TOGGLE,function(t){t.preventDefault(),Zt._jQueryInterface.call(e(this),"show")}),e.fn.tab=Zt._jQueryInterface,e.fn.tab.Constructor=Zt,e.fn.tab.noConflict=function(){return e.fn.tab=jt,Zt._jQueryInterface};var Xt=e.fn.toast,Kt={CLICK_DISMISS:"click.dismiss.bs.toast",HIDE:"hide.bs.toast",HIDDEN:"hidden.bs.toast",SHOW:"show.bs.toast",SHOWN:"shown.bs.toast"},Qt={FADE:"fade",HIDE:"hide",SHOW:"show",SHOWING:"showing"},Jt={animation:"boolean",autohide:"boolean",delay:"number"},te={animation:!0,autohide:!0,delay:500},ee={DATA_DISMISS:'[data-dismiss="toast"]'},ie=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var i=t.prototype;return i.show=function(){var t=this;e(this._element).trigger(Kt.SHOW),this._config.animation&&this._element.classList.add(Qt.FADE);var i=function(){t._element.classList.remove(Qt.SHOWING),t._element.classList.add(Qt.SHOW),e(t._element).trigger(Kt.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(Qt.HIDE),this._element.classList.add(Qt.SHOWING),this._config.animation){var n=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,i).emulateTransitionEnd(n)}else i()},i.hide=function(t){var i=this;this._element.classList.contains(Qt.SHOW)&&(e(this._element).trigger(Kt.HIDE),t?this._close():this._timeout=setTimeout(function(){i._close()},this._config.delay))},i.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Qt.SHOW)&&this._element.classList.remove(Qt.SHOW),e(this._element).off(Kt.CLICK_DISMISS),e.removeData(this._element,"bs.toast"),this._element=null,this._config=null},i._getConfig=function(t){return t=a({},te,e(this._element).data(),"object"==typeof t&&t?t:{}),p.typeCheckConfig("toast",t,this.constructor.DefaultType),t},i._setListeners=function(){var t=this;e(this._element).on(Kt.CLICK_DISMISS,ee.DATA_DISMISS,function(){return t.hide(!0)})},i._close=function(){var t=this,i=function(){t._element.classList.add(Qt.HIDE),e(t._element).trigger(Kt.HIDDEN)};if(this._element.classList.remove(Qt.SHOW),this._config.animation){var n=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,i).emulateTransitionEnd(n)}else i()},t._jQueryInterface=function(i){return this.each(function(){var n=e(this),o=n.data("bs.toast"),r="object"==typeof i&&i;if(o||(o=new t(this,r),n.data("bs.toast",o)),"string"==typeof i){if(void 0===o[i])throw new TypeError('No method named "'+i+'"');o[i](this)}})},o(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return Jt}},{key:"Default",get:function(){return te}}]),t}();e.fn.toast=ie._jQueryInterface,e.fn.toast.Constructor=ie,e.fn.toast.noConflict=function(){return e.fn.toast=Xt,ie._jQueryInterface},function(){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=p,t.Alert=x,t.Button=M,t.Carousel=R,t.Collapse=j,t.Dropdown=et,t.Modal=lt,t.Popover=Nt,t.Scrollspy=Gt,t.Tab=Zt,t.Toast=ie,t.Tooltip=Ct,Object.defineProperty(t,"__esModule",{value:!0})}),function(t){"object"==typeof module&&"object"==typeof module.exports?t(require("jquery"),window,document):t(jQuery,window,document)}(function(t,e,i,n){"use strict";function o(e,i){this.element=e,i.showCards-=1,this.settings=t.extend({},a,i),this._defaults=a,this._name=r,this._cards=[],this._activeCard=null,this._directionClass="cardslider--direction-"+this.settings.direction,this._animationClassBack="cardslider--sortback-"+this.settings.direction,this._animationClassFront="cardslider--sortfront-"+this.settings.direction,this._dotnav=null,this._directionnav=null,this._buttonNext=null,this._buttonPrev=null,this._xDown=null,this._yDown=null,this._swipeThreshold=100,this.init()}var r="cardslider",a={keys:{next:38,prev:40},direction:"down",nav:!0,swipe:!1,dots:!1,loop:!1,beforeCardChange:null,afterCardChange:null,showCards:0};t.extend(o.prototype,{init:function(){this.initCards(),this.settings.nav&&this.initNav(),this.settings.dots&&this.initDots(),this.settings.swipe&&this.initSwipe(),!1!==this.settings.keys&&e.addEventListener("keydown",this.keyNav.bind(this)),this.changeCardTo(0)},initCards:function(){this.element.className=this.element.className+" cardslider "+this._directionClass;var t=this.element.querySelector("ul");if(!t)return!1;t.classList.add("cardslider__cards");for(var e=t.children,i=0;i<e.length;i++){var n=e[i],o=0!=this.settings.showCards&&i>this.settings.showCards,r={elem:n,active:0===i,index:i,cardClass:"cardslider__card--index-"+i};r.elem.className=r.elem.className+" cardslider__card cardslider__card--transitions "+r.cardClass+(o&&" cardslider__card--invisible"),r.elem.style.zIndex=e.length-i,this._cards.push(r)}},initNav:function(){this._directionnav=i.createElement("div"),this._directionnav.className="cardslider__direction-nav",this._buttonNext=i.createElement("button"),this._buttonNext.title="next",this._buttonNext.className="cardslider__nav-next",this._buttonNext.innerHTML="Next",this._buttonNext.addEventListener("click",this.nextCard.bind(this)),this._buttonPrev=i.createElement("button"),this._buttonPrev.title="previous",this._buttonPrev.className="cardslider__nav-prev",this._buttonPrev.innerHTML="Prev",this._buttonPrev.addEventListener("click",this.prevCard.bind(this)),this._directionnav.appendChild(this._buttonNext),this._directionnav.appendChild(this._buttonPrev),this.element.appendChild(this._directionnav)},initDots:function(){var t=this;this._dotnav=i.createElement("ul"),this._dotnav.className="cardslider__dots-nav";for(var e=0;e<this._cards.length;e++){var n=i.createElement("button");n.className="cardslider__dot-btn",n.setAttribute("data-slide",e),n.setAttribute("type","button"),n.addEventListener("click",function(e){t.changeCardTo(parseInt(e.target.getAttribute("data-slide")))});var o=i.createElement("li");o.className="cardslider__dot",o.appendChild(n),this._dotnav.appendChild(o)}this.element.appendChild(this._dotnav)},initSwipe:function(){this.element.addEventListener("touchstart",this.handleTouchStart.bind(this),{passive:!0}),this.element.addEventListener("touchmove",this.handleTouchEnd.bind(this),{passive:!0})},handleTouchStart:function(t){this._xDown=t.touches[0].clientX,this._yDown=t.touches[0].clientY},handleTouchEnd:function(t){if(t.preventDefault(),this._xDown&&this._yDown){var e=!1,i=!1,n=t.touches[0].clientX,o=t.touches[0].clientY,r=this._xDown-n,a=this._yDown-o;if(Math.abs(r)>Math.abs(a)){if(Math.abs(r)<this._swipeThreshold)return;r>0?"left"==this.settings.direction?e=!0:"right"==this.settings.direction&&(i=!0):"right"==this.settings.direction?e=!0:"left"==this.settings.direction&&(i=!0)}else{if(Math.abs(a)<this._swipeThreshold)return;a>0?"up"==this.settings.direction?e=!0:"down"==this.settings.direction&&(i=!0):"down"==this.settings.direction?e=!0:"up"==this.settings.direction&&(i=!0)}e?this.nextCard():i&&this.prevCard(),this._xDown=null,this._yDown=null}},keyNav:function(t){t.keyCode==this.settings.keys.next?(t.preventDefault(),this.nextCard()):t.keyCode==this.settings.keys.prev&&(t.preventDefault(),this.prevCard())},nextCard:function(){this._activeCard.index+1<this._cards.length?this.changeCardTo(this._activeCard.index+1):this.settings.loop&&this.changeCardTo(0,!0)},prevCard:function(){this._activeCard.index-1>=0?this.changeCardTo(this._activeCard.index-1):this.settings.loop&&this.changeCardTo(-1*(this._cards.length-1))},changeCardTo:function(t,e){e=void 0!==e&&e,"string"==typeof t&&(t="first"==t?0:this._cards.length-1);var i=Math.abs(t),n=this._activeCard,o=this._cards[i];if(this.settings.loop){var r=this;this._cards.forEach(function(t){t.elem.classList.remove(r._animationClassFront),t.elem.classList.remove(r._animationClassBack),t.elem.classList.add("cardslider__card--transitions")})}if("function"==typeof this.settings.beforeCardChange&&this.settings.beforeCardChange(n.index),n&&(t>n.index||t<n.index&&e)||!n&&t>0){for(var a=0;a<i;a++)this._cards[a].elem.setAttribute("aria-hidden",!0),this.settings.loop||this._cards[a].elem.classList.add("cardslider__card--out");this.settings.loop&&null!=n&&(n.elem.classList.remove("cardslider__card--transitions"),n.elem.classList.add(this._animationClassBack))}else n&&(this.settings.loop&&n&&(this._cards[i].elem.classList.remove("cardslider__card--transitions"),this._cards[i].elem.classList.add(this._animationClassFront)),this._cards.forEach(function(t){t.elem.classList.add("cardslider__card--out"),t.elem.setAttribute("aria-hidden",!0)}));return this._activeCard=o,this._activeCard.elem.setAttribute("aria-hidden",!1),this.reorderIndices(i),this.settings.dots&&this.changeDots(i),"function"==typeof this.settings.afterCardChange&&this.settings.afterCardChange(i),this},changeDots:function(t){var e=this._dotnav.querySelector(".cardslider__dot--active");e&&e.classList.remove("cardslider__dot--active");var i=this._dotnav.querySelector(".cardslider__dot:nth-child("+(t+1)+")");i&&i.classList.add("cardslider__dot--active")},reorderIndices:function(t){var e=this,i=e._cards.length-1;this._cards.forEach(function(n,o){if(o-t>=0){var r=n.elem.className;r=r.replace(/cardslider__card--index-\d|cardslider__card--out/g,""),n.elem.className=r.replace("  "," ").trim();var a=e._cards[o-t].cardClass;n.elem.classList.add(a);var s=parseInt(a.slice(-1));s>e.settings.showCards?n.elem.classList.add("cardslider__card--invisible"):n.elem.classList.remove("cardslider__card--invisible"),e.settings.loop&&e.setZindex(n,i-e._cards[o-t].index)}else if(e.settings.loop){var r=n.elem.className;r=r.replace(/cardslider__card--index-\d|cardslider__card--out/g,""),n.elem.className=r.replace("  "," ").trim();var a=e._cards[e._cards.length-(t-o)].cardClass;n.elem.classList.add(a);var s=parseInt(a.slice(-1));s>e.settings.showCards?n.elem.classList.add("cardslider__card--invisible"):n.elem.classList.remove("cardslider__card--invisible"),e.setZindex(n,i-e._cards[e._cards.length-(t-o)].index)}})},setZindex:function(t,e){t.elem.style.zIndex=e},destroy:function(){var t=this.element.querySelector(".cardslider__cards");return this.element.className=this.element.className.replace(this.element.className.match(/card.*/g)[0],""),t.classList.remove("cardslider__cards"),this._cards.forEach(function(t){t.elem.className=t.elem.className.replace(t.elem.className.match(/card.*/g)[0],""),t.elem.removeAttribute("style"),t.elem.removeAttribute("aria-hidden")}),this._dotnav&&(this._dotnav.parentElement.removeChild(this._dotnav),this._dotnav=null),this._directionnav&&(this._directionnav.parentElement.removeChild(this._directionnav),this._directionnav=null),this._cards=[],this._activeCard=null,!1!==this.settings.keys&&e.removeEventListener("keydown",this.keyNav),this._buttonNext&&this._buttonNext.removeEventListener("cardslider",this.nextCard),this._buttonPrev&&this._buttonPrev.removeEventListener("cardslider",this.prevCard),this}}),t.fn[r]=function(e){return this.each(function(){t.data(this,r)||t.data(this,r,new o(this,e))})}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.echarts={})}(this,function(t){"use strict";function e(t,e){"createCanvas"===t&&(Kx=null),Zx[t]=e}function i(t){if(null==t||"object"!=typeof t)return t;var e=t,n=Fx.call(t);if("[object Array]"===n){if(!N(t)){e=[];for(var o=0,r=t.length;o<r;o++)e[o]=i(t[o])}}else if(Wx[n]){if(!N(t)){var a=t.constructor;if(t.constructor.from)e=a.from(t);else{e=new a(t.length);for(var o=0,r=t.length;o<r;o++)e[o]=i(t[o])}}}else if(!Vx[n]&&!N(t)&&!M(t)){e={};for(var s in t)t.hasOwnProperty(s)&&(e[s]=i(t[s]))}return e}function n(t,e,o){if(!b(e)||!b(t))return o?i(e):t;for(var r in e)if(e.hasOwnProperty(r)){var a=t[r],s=e[r];!b(s)||!b(a)||_(s)||_(a)||M(s)||M(a)||S(s)||S(a)||N(s)||N(a)?!o&&r in t||(t[r]=i(e[r],!0)):n(a,s,o)}return t}function o(t,e){for(var i=t[0],o=1,r=t.length;o<r;o++)i=n(i,t[o],e);return i}function r(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function a(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function s(){return Kx||(Kx=Xx().getContext("2d")),Kx}function l(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function h(t,e){function i(){}var n=t.prototype;i.prototype=e.prototype,t.prototype=new i;for(var o in n)t.prototype[o]=n[o];t.prototype.constructor=t,t.superClass=e}function c(t,e,i){t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,a(t,e,i)}function u(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function d(t,e,i){if(t&&e)if(t.forEach&&t.forEach===Gx)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t);else for(var r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r,t)}function f(t,e,i){if(t&&e){if(t.map&&t.map===Ux)return t.map(e,i);for(var n=[],o=0,r=t.length;o<r;o++)n.push(e.call(i,t[o],o,t));return n}}function p(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===qx)return t.reduce(e,i,n);for(var o=0,r=t.length;o<r;o++)i=e.call(n,i,t[o],o,t);return i}}function g(t,e,i){if(t&&e){if(t.filter&&t.filter===jx)return t.filter(e,i);for(var n=[],o=0,r=t.length;o<r;o++)e.call(i,t[o],o,t)&&n.push(t[o]);return n}}function m(t,e,i){if(t&&e)for(var n=0,o=t.length;n<o;n++)if(e.call(i,t[n],n,t))return t[n]}function v(t,e){var i=Yx.call(arguments,2);return function(){return t.apply(e,i.concat(Yx.call(arguments)))}}function y(t){var e=Yx.call(arguments,1);return function(){return t.apply(this,e.concat(Yx.call(arguments)))}}function _(t){return"[object Array]"===Fx.call(t)}function x(t){return"function"==typeof t}function w(t){return"[object String]"===Fx.call(t)}function b(t){var e=typeof t;return"function"===e||!!t&&"object"==e}function S(t){return!!Vx[Fx.call(t)]}function D(t){return!!Wx[Fx.call(t)]}function M(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function C(t){return t!==t}function T(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]}function I(t,e){return null!=t?t:e}function A(t,e,i){return null!=t?t:null!=e?e:i}function k(){return Function.call.apply(Yx,arguments)}function E(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function L(t,e){if(!t)throw new Error(e)}function O(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function P(t){t[Qx]=!0}function N(t){return t[Qx]}function R(t){function e(t,e){i?n.set(t,e):n.set(e,t)}var i=_(t),n=this;t instanceof R?t.each(e):t&&d(t,e)}function z(t){return new R(t)}function B(t,e){for(var i=new t.constructor(t.length+e.length),n=0;n<t.length;n++)i[n]=t[n];var o=t.length;for(n=0;n<e.length;n++)i[n+o]=e[n];return i}function H(){}function V(t,e){var i=new tw(2);return null==t&&(t=0),null==e&&(e=0),i[0]=t,i[1]=e,i}function W(t,e){return t[0]=e[0],t[1]=e[1],t}function F(t){var e=new tw(2);return e[0]=t[0],e[1]=t[1],e}function $(t,e,i){return t[0]=e,t[1]=i,t}function G(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function j(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function Y(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function U(t){return Math.sqrt(q(t))}function q(t){return t[0]*t[0]+t[1]*t[1]}function Z(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function X(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function K(t,e){return t[0]*e[0]+t[1]*e[1]}function Q(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function J(t,e){var i=U(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t}function tt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function et(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function it(t,e){return t[0]=-e[0],t[1]=-e[1],t}function nt(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t}function ot(t,e,i){var n=e[0],o=e[1];return t[0]=i[0]*n+i[2]*o+i[4],t[1]=i[1]*n+i[3]*o+i[5],t}function rt(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function at(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function st(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function lt(t,e){return{target:t,topTarget:e&&e.topTarget}}function ht(t,e,i){return{type:t,event:i,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which}}function ct(){}function ut(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n,o=t;o;){if(o.clipPath&&!o.clipPath.contain(e,i))return!1;o.silent&&(n=!0),o=o.parent}return!n||lw}return!1}function dt(){var t=new uw(6);return ft(t),t}function ft(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function pt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function gt(t,e,i){var n=e[0]*i[0]+e[2]*i[1],o=e[1]*i[0]+e[3]*i[1],r=e[0]*i[2]+e[2]*i[3],a=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=o,t[2]=r,t[3]=a,t[4]=s,t[5]=l,t}function mt(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}function vt(t,e,i){var n=e[0],o=e[2],r=e[4],a=e[1],s=e[3],l=e[5],h=Math.sin(i),c=Math.cos(i);return t[0]=n*c+a*h,t[1]=-n*h+a*c,t[2]=o*c+s*h,t[3]=-o*h+c*s,t[4]=c*r+h*l,t[5]=c*l-h*r,t}function yt(t,e,i){var n=i[0],o=i[1];return t[0]=e[0]*n,t[1]=e[1]*o,t[2]=e[2]*n,t[3]=e[3]*o,t[4]=e[4]*n,t[5]=e[5]*o,t}function _t(t,e){var i=e[0],n=e[2],o=e[4],r=e[1],a=e[3],s=e[5],l=i*a-r*n;return l?(l=1/l,t[0]=a*l,t[1]=-r*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-a*o)*l,t[5]=(r*o-i*s)*l,t):null}function xt(t){var e=dt();return pt(e,t),e}function wt(t){return t>pw||t<-pw}function bt(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function St(t){return t=Math.round(t),t<0?0:t>255?255:t}function Dt(t){return t=Math.round(t),t<0?0:t>360?360:t}function Mt(t){return t<0?0:t>1?1:t}function Ct(t){return St(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function Tt(t){return Mt(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function It(t,e,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function At(t,e,i){return t+(e-t)*i}function kt(t,e,i,n,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t}function Et(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Lt(t,e){Cw&&Et(Cw,e),Cw=Mw.put(t,Cw||e.slice())}function Ot(t,e){if(t){e=e||[];var i=Mw.get(t);if(i)return Et(e,i);t+="";var n=t.replace(/ /g,"").toLowerCase();if(n in Dw)return Et(e,Dw[n]),Lt(t,e),e;if("#"!==n.charAt(0)){var o=n.indexOf("("),r=n.indexOf(")");if(-1!==o&&r+1===n.length){var a=n.substr(0,o),s=n.substr(o+1,r-(o+1)).split(","),l=1;switch(a){case"rgba":if(4!==s.length)return void kt(e,0,0,0,1);l=Tt(s.pop());case"rgb":return 3!==s.length?void kt(e,0,0,0,1):(kt(e,Ct(s[0]),Ct(s[1]),Ct(s[2]),l),Lt(t,e),e);case"hsla":return 4!==s.length?void kt(e,0,0,0,1):(s[3]=Tt(s[3]),Pt(s,e),Lt(t,e),e);case"hsl":return 3!==s.length?void kt(e,0,0,0,1):(Pt(s,e),Lt(t,e),e);default:return}}kt(e,0,0,0,1)}else{if(4===n.length){var h=parseInt(n.substr(1),16);return h>=0&&h<=4095?(kt(e,(3840&h)>>4|(3840&h)>>8,240&h|(240&h)>>4,15&h|(15&h)<<4,1),Lt(t,e),e):void kt(e,0,0,0,1)}if(7===n.length){var h=parseInt(n.substr(1),16);return h>=0&&h<=16777215?(kt(e,(16711680&h)>>16,(65280&h)>>8,255&h,1),Lt(t,e),e):void kt(e,0,0,0,1)}}}}function Pt(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=Tt(t[1]),o=Tt(t[2]),r=o<=.5?o*(n+1):o+n-o*n,a=2*o-r;return e=e||[],kt(e,St(255*It(a,r,i+1/3)),St(255*It(a,r,i)),St(255*It(a,r,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Nt(t){if(t){var e,i,n=t[0]/255,o=t[1]/255,r=t[2]/255,a=Math.min(n,o,r),s=Math.max(n,o,r),l=s-a,h=(s+a)/2;if(0===l)e=0,i=0;else{i=h<.5?l/(s+a):l/(2-s-a);var c=((s-n)/6+l/2)/l,u=((s-o)/6+l/2)/l,d=((s-r)/6+l/2)/l;n===s?e=d-u:o===s?e=1/3+c-d:r===s&&(e=2/3+u-c),e<0&&(e+=1),e>1&&(e-=1)}var f=[360*e,i,h];return null!=t[3]&&f.push(t[3]),f}}function Rt(t,e){var i=Ot(t);if(i){for(var n=0;n<3;n++)i[n]=e<0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0,i[n]>255?i[n]=255:t[n]<0&&(i[n]=0);return Ft(i,4===i.length?"rgba":"rgb")}}function zt(t){var e=Ot(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Bt(t,e,i){if(e&&e.length&&t>=0&&t<=1){i=i||[];var n=t*(e.length-1),o=Math.floor(n),r=Math.ceil(n),a=e[o],s=e[r],l=n-o;return i[0]=St(At(a[0],s[0],l)),i[1]=St(At(a[1],s[1],l)),i[2]=St(At(a[2],s[2],l)),i[3]=Mt(At(a[3],s[3],l)),i}}function Ht(t,e,i){if(e&&e.length&&t>=0&&t<=1){var n=t*(e.length-1),o=Math.floor(n),r=Math.ceil(n),a=Ot(e[o]),s=Ot(e[r]),l=n-o,h=Ft([St(At(a[0],s[0],l)),St(At(a[1],s[1],l)),St(At(a[2],s[2],l)),Mt(At(a[3],s[3],l))],"rgba");return i?{color:h,leftIndex:o,rightIndex:r,value:n}:h}}function Vt(t,e,i,n){if(t=Ot(t))return t=Nt(t),null!=e&&(t[0]=Dt(e)),null!=i&&(t[1]=Tt(i)),null!=n&&(t[2]=Tt(n)),Ft(Pt(t),"rgba")}function Wt(t,e){if((t=Ot(t))&&null!=e)return t[3]=Mt(e),Ft(t,"rgba")}function Ft(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}function $t(t,e){return t[e]}function Gt(t,e,i){t[e]=i}function jt(t,e,i){return(e-t)*i+t}function Yt(t,e,i){return i>.5?e:t}function Ut(t,e,i,n,o){var r=t.length;if(1==o)for(var a=0;a<r;a++)n[a]=jt(t[a],e[a],i);else for(var s=r&&t[0].length,a=0;a<r;a++)for(var l=0;l<s;l++)n[a][l]=jt(t[a][l],e[a][l],i)}function qt(t,e,i){var n=t.length,o=e.length;if(n!==o){if(n>o)t.length=o;else for(var r=n;r<o;r++)t.push(1===i?e[r]:kw.call(e[r]))}for(var a=t[0]&&t[0].length,r=0;r<t.length;r++)if(1===i)isNaN(t[r])&&(t[r]=e[r]);else for(var s=0;s<a;s++)isNaN(t[r][s])&&(t[r][s]=e[r][s])}function Zt(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(var o=0;o<n;o++)if(t[o]!==e[o])return!1}else for(var r=t[0].length,o=0;o<n;o++)for(var a=0;a<r;a++)if(t[o][a]!==e[o][a])return!1;return!0}function Xt(t,e,i,n,o,r,a,s,l){var h=t.length;if(1==l)for(var c=0;c<h;c++)s[c]=Kt(t[c],e[c],i[c],n[c],o,r,a);else for(var u=t[0].length,c=0;c<h;c++)for(var d=0;d<u;d++)s[c][d]=Kt(t[c][d],e[c][d],i[c][d],n[c][d],o,r,a)}function Kt(t,e,i,n,o,r,a){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*r+s*o+e}function Qt(t){if(u(t)){var e=t.length;if(u(t[0])){for(var i=[],n=0;n<e;n++)i.push(kw.call(t[n]));return i}return kw.call(t)}return t}function Jt(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function te(t){var e=t[t.length-1].value;return u(e&&e[0])?2:1}function ee(t,e,i,n,o,r){var a=t._getter,s=t._setter,l="spline"===e,h=n.length;if(h){var c,d=n[0].value,f=u(d),p=!1,g=!1,m=f?te(n):0;n.sort(function(t,e){return t.time-e.time}),c=n[h-1].time;for(var v=[],y=[],_=n[0].value,x=!0,w=0;w<h;w++){v.push(n[w].time/c);var b=n[w].value;if(f&&Zt(b,_,m)||!f&&b===_||(x=!1),_=b,"string"==typeof b){var S=Ot(b);S?(b=S,p=!0):g=!0}y.push(b)}if(r||!x){for(var D=y[h-1],w=0;w<h-1;w++)f?qt(y[w],D,m):!isNaN(y[w])||isNaN(D)||g||p||(y[w]=D);f&&qt(a(t._target,o),D,m);var M,C,T,I,A,k,E=0,L=0;if(p)var O=[0,0,0,0];var P=function(t,e){var i;if(e<0)i=0;else if(e<L){for(M=Math.min(E+1,h-1),i=M;i>=0&&!(v[i]<=e);i--);i=Math.min(i,h-2)}else{for(i=E;i<h&&!(v[i]>e);i++);i=Math.min(i-1,h-2)}E=i,L=e;var n=v[i+1]-v[i];if(0!==n)if(C=(e-v[i])/n,l)if(I=y[i],T=y[0===i?i:i-1],A=y[i>h-2?h-1:i+1],k=y[i>h-3?h-1:i+2],f)Xt(T,I,A,k,C,C*C,C*C*C,a(t,o),m);else{var r;if(p)r=Xt(T,I,A,k,C,C*C,C*C*C,O,1),r=Jt(O);else{if(g)return Yt(I,A,C);r=Kt(T,I,A,k,C,C*C,C*C*C)}s(t,o,r)}else if(f)Ut(y[i],y[i+1],C,a(t,o),m);else{var r;if(p)Ut(y[i],y[i+1],C,O,1),r=Jt(O);else{if(g)return Yt(y[i],y[i+1],C);r=jt(y[i],y[i+1],C)}s(t,o,r)}},N=new bt({target:t._target,life:c,loop:t._loop,delay:t._delay,onframe:P,ondestroy:i});return e&&"spline"!==e&&(N.easing=e),N}}}function ie(t,e,i,n){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}function ne(t){for(var e=0;t>=Fw;)e|=1&t,t>>=1;return t+e}function oe(t,e,i,n){var o=e+1;if(o===i)return 1;if(n(t[o++],t[e])<0){for(;o<i&&n(t[o],t[o-1])<0;)o++;re(t,e,o)}else for(;o<i&&n(t[o],t[o-1])>=0;)o++;return o-e}function re(t,e,i){for(i--;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}function ae(t,e,i,n,o){for(n===e&&n++;n<i;n++){for(var r,a=t[n],s=e,l=n;s<l;)r=s+l>>>1,o(a,t[r])<0?l=r:s=r+1;var h=n-s;switch(h){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;h>0;)t[s+h]=t[s+h-1],h--}t[s]=a}}function se(t,e,i,n,o,r){var a=0,s=0,l=1;if(r(t,e[i+o])>0){for(s=n-o;l<s&&r(t,e[i+o+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=o,l+=o}else{for(s=o+1;l<s&&r(t,e[i+o-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var h=a;a=o-l,l=o-h}for(a++;a<l;){var c=a+(l-a>>>1);r(t,e[i+c])>0?a=c+1:l=c}return l}function le(t,e,i,n,o,r){var a=0,s=0,l=1;if(r(t,e[i+o])<0){for(s=o+1;l<s&&r(t,e[i+o-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var h=a;a=o-l,l=o-h}else{for(s=n-o;l<s&&r(t,e[i+o+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=o,l+=o}for(a++;a<l;){var c=a+(l-a>>>1);r(t,e[i+c])<0?l=c:a=c+1}return l}function he(t,e){function i(t,e){l[u]=t,h[u]=e,u+=1}function n(){for(;u>1;){var t=u-2
;if(t>=1&&h[t-1]<=h[t]+h[t+1]||t>=2&&h[t-2]<=h[t]+h[t-1])h[t-1]<h[t+1]&&t--;else if(h[t]>h[t+1])break;r(t)}}function o(){for(;u>1;){var t=u-2;t>0&&h[t-1]<h[t+1]&&t--,r(t)}}function r(i){var n=l[i],o=h[i],r=l[i+1],c=h[i+1];h[i]=o+c,i===u-3&&(l[i+1]=l[i+2],h[i+1]=h[i+2]),u--;var d=le(t[r],t,n,o,0,e);n+=d,0!==(o-=d)&&0!==(c=se(t[n+o-1],t,r,c,c-1,e))&&(o<=c?a(n,o,r,c):s(n,o,r,c))}function a(i,n,o,r){var a=0;for(a=0;a<n;a++)d[a]=t[i+a];var s=0,l=o,h=i;if(t[h++]=t[l++],0!=--r){if(1===n){for(a=0;a<r;a++)t[h+a]=t[l+a];return void(t[h+r]=d[s])}for(var u,f,p,g=c;;){u=0,f=0,p=!1;do{if(e(t[l],d[s])<0){if(t[h++]=t[l++],f++,u=0,0==--r){p=!0;break}}else if(t[h++]=d[s++],u++,f=0,1==--n){p=!0;break}}while((u|f)<g);if(p)break;do{if(0!==(u=le(t[l],d,s,n,0,e))){for(a=0;a<u;a++)t[h+a]=d[s+a];if(h+=u,s+=u,(n-=u)<=1){p=!0;break}}if(t[h++]=t[l++],0==--r){p=!0;break}if(0!==(f=se(d[s],t,l,r,0,e))){for(a=0;a<f;a++)t[h+a]=t[l+a];if(h+=f,l+=f,0===(r-=f)){p=!0;break}}if(t[h++]=d[s++],1==--n){p=!0;break}g--}while(u>=$w||f>=$w);if(p)break;g<0&&(g=0),g+=2}if(c=g,c<1&&(c=1),1===n){for(a=0;a<r;a++)t[h+a]=t[l+a];t[h+r]=d[s]}else{if(0===n)throw new Error;for(a=0;a<n;a++)t[h+a]=d[s+a]}}else for(a=0;a<n;a++)t[h+a]=d[s+a]}function s(i,n,o,r){var a=0;for(a=0;a<r;a++)d[a]=t[o+a];var s=i+n-1,l=r-1,h=o+r-1,u=0,f=0;if(t[h--]=t[s--],0!=--n){if(1===r){for(h-=n,s-=n,f=h+1,u=s+1,a=n-1;a>=0;a--)t[f+a]=t[u+a];return void(t[h]=d[l])}for(var p=c;;){var g=0,m=0,v=!1;do{if(e(d[l],t[s])<0){if(t[h--]=t[s--],g++,m=0,0==--n){v=!0;break}}else if(t[h--]=d[l--],m++,g=0,1==--r){v=!0;break}}while((g|m)<p);if(v)break;do{if(0!==(g=n-le(d[l],t,i,n,n-1,e))){for(h-=g,s-=g,n-=g,f=h+1,u=s+1,a=g-1;a>=0;a--)t[f+a]=t[u+a];if(0===n){v=!0;break}}if(t[h--]=d[l--],1==--r){v=!0;break}if(0!==(m=r-se(t[s],d,0,r,r-1,e))){for(h-=m,l-=m,r-=m,f=h+1,u=l+1,a=0;a<m;a++)t[f+a]=d[u+a];if(r<=1){v=!0;break}}if(t[h--]=t[s--],0==--n){v=!0;break}p--}while(g>=$w||m>=$w);if(v)break;p<0&&(p=0),p+=2}if(c=p,c<1&&(c=1),1===r){for(h-=n,s-=n,f=h+1,u=s+1,a=n-1;a>=0;a--)t[f+a]=t[u+a];t[h]=d[l]}else{if(0===r)throw new Error;for(u=h-(r-1),a=0;a<r;a++)t[u+a]=d[a]}}else for(u=h-(r-1),a=0;a<r;a++)t[u+a]=d[a]}var l,h,c=$w,u=0,d=[];l=[],h=[],this.mergeRuns=n,this.forceMergeRuns=o,this.pushRun=i}function ce(t,e,i,n){i||(i=0),n||(n=t.length);var o=n-i;if(!(o<2)){var r=0;if(o<Fw)return r=oe(t,i,n,e),void ae(t,i,n,i+r,e);var a=new he(t,e),s=ne(o);do{if((r=oe(t,i,n,e))<s){var l=o;l>s&&(l=s),ae(t,i,i+l,i+r,e),r=l}a.pushRun(i,r),a.mergeRuns(),o-=r,i+=r}while(0!==o);a.forceMergeRuns()}}function ue(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function de(t,e,i){var n=null==e.x?0:e.x,o=null==e.x2?1:e.x2,r=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(n=n*i.width+i.x,o=o*i.width+i.x,r=r*i.height+i.y,a=a*i.height+i.y),n=isNaN(n)?0:n,o=isNaN(o)?1:o,r=isNaN(r)?0:r,a=isNaN(a)?0:a,t.createLinearGradient(n,r,o,a)}function fe(t,e,i){var n=i.width,o=i.height,r=Math.min(n,o),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*n+i.x,s=s*o+i.y,l*=r),t.createRadialGradient(a,s,0,a,s,l)}function pe(){return!1}function ge(t,e,i){var n=Xx(),o=e.getWidth(),r=e.getHeight(),a=n.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=o+"px",a.height=r+"px",n.setAttribute("data-zr-dom-id",t)),n.width=o*i,n.height=r*i,n}function me(t){if("string"==typeof t){var e=eb.get(t);return e&&e.image}return t}function ve(t,e,i,n,o){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!i)return e;var r=eb.get(t),a={hostEl:i,cb:n,cbPayload:o};return r?(e=r.image,!_e(e)&&r.pending.push(a)):(!e&&(e=new Image),e.onload=ye,eb.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e}function ye(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function _e(t){return t&&t.width&&t.height}function xe(t,e){e=e||ab;var i=t+":"+e;if(ib[i])return ib[i];for(var n=(t+"").split("\n"),o=0,r=0,a=n.length;r<a;r++)o=Math.max(Le(n[r],e).width,o);return nb>ob&&(nb=0,ib={}),nb++,ib[i]=o,o}function we(t,e,i,n,o,r,a){return r?Se(t,e,i,n,o,r,a):be(t,e,i,n,o,a)}function be(t,e,i,n,o,r){var a=Oe(t,e,o,r),s=xe(t,e);o&&(s+=o[1]+o[3]);var l=a.outerHeight,h=De(0,s,i),c=Me(0,l,n),u=new ie(h,c,s,l);return u.lineHeight=a.lineHeight,u}function Se(t,e,i,n,o,r,a){var s=Pe(t,{rich:r,truncate:a,font:e,textAlign:i,textPadding:o}),l=s.outerWidth,h=s.outerHeight;return new ie(De(0,l,i),Me(0,h,n),l,h)}function De(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function Me(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function Ce(t,e,i){var n=e.x,o=e.y,r=e.height,a=e.width,s=r/2,l="left",h="top";switch(t){case"left":n-=i,o+=s,l="right",h="middle";break;case"right":n+=i+a,o+=s,h="middle";break;case"top":n+=a/2,o-=i,l="center",h="bottom";break;case"bottom":n+=a/2,o+=r+i,l="center";break;case"inside":n+=a/2,o+=s,l="center",h="middle";break;case"insideLeft":n+=i,o+=s,h="middle";break;case"insideRight":n+=a-i,o+=s,l="right",h="middle";break;case"insideTop":n+=a/2,o+=i,l="center";break;case"insideBottom":n+=a/2,o+=r-i,l="center",h="bottom";break;case"insideTopLeft":n+=i,o+=i;break;case"insideTopRight":n+=a-i,o+=i,l="right";break;case"insideBottomLeft":n+=i,o+=r-i,h="bottom";break;case"insideBottomRight":n+=a-i,o+=r-i,l="right",h="bottom"}return{x:n,y:o,textAlign:l,textVerticalAlign:h}}function Te(t,e,i,n,o){if(!e)return"";var r=(t+"").split("\n");o=Ie(e,i,n,o);for(var a=0,s=r.length;a<s;a++)r[a]=Ae(r[a],o);return r.join("\n")}function Ie(t,e,i,n){n=r({},n),n.font=e;var i=I(i,"...");n.maxIterations=I(n.maxIterations,2);var o=n.minChar=I(n.minChar,0);n.cnCharWidth=xe("国",e);var a=n.ascCharWidth=xe("a",e);n.placeholder=I(n.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;l<o&&s>=a;l++)s-=a;var h=xe(i);return h>s&&(i="",h=0),s=t-h,n.ellipsis=i,n.ellipsisWidth=h,n.contentWidth=s,n.containerWidth=t,n}function Ae(t,e){var i=e.containerWidth,n=e.font,o=e.contentWidth;if(!i)return"";var r=xe(t,n);if(r<=i)return t;for(var a=0;;a++){if(r<=o||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?ke(t,o,e.ascCharWidth,e.cnCharWidth):r>0?Math.floor(t.length*o/r):0;t=t.substr(0,s),r=xe(t,n)}return""===t&&(t=e.placeholder),t}function ke(t,e,i,n){for(var o=0,r=0,a=t.length;r<a&&o<e;r++){var s=t.charCodeAt(r);o+=0<=s&&s<=127?i:n}return r}function Ee(t){return xe("国",t)}function Le(t,e){return sb.measureText(t,e)}function Oe(t,e,i,n){null!=t&&(t+="");var o=Ee(e),r=t?t.split("\n"):[],a=r.length*o,s=a;if(i&&(s+=i[0]+i[2]),t&&n){var l=n.outerHeight,h=n.outerWidth;if(null!=l&&s>l)t="",r=[];else if(null!=h)for(var c=Ie(h-(i?i[1]+i[3]:0),e,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),u=0,d=r.length;u<d;u++)r[u]=Ae(r[u],c)}return{lines:r,height:a,outerHeight:s,lineHeight:o}}function Pe(t,e){var i={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return i;for(var n,o=rb.lastIndex=0;null!=(n=rb.exec(t));){var r=n.index;r>o&&Ne(i,t.substring(o,r)),Ne(i,n[2],n[1]),o=rb.lastIndex}o<t.length&&Ne(i,t.substring(o,t.length));var a=i.lines,s=0,l=0,h=[],c=e.textPadding,u=e.truncate,d=u&&u.outerWidth,f=u&&u.outerHeight;c&&(null!=d&&(d-=c[1]+c[3]),null!=f&&(f-=c[0]+c[2]));for(var p=0;p<a.length;p++){for(var g=a[p],m=0,v=0,y=0;y<g.tokens.length;y++){var _=g.tokens[y],x=_.styleName&&e.rich[_.styleName]||{},w=_.textPadding=x.textPadding,b=_.font=x.font||e.font,S=_.textHeight=I(x.textHeight,Ee(b));if(w&&(S+=w[0]+w[2]),_.height=S,_.lineHeight=A(x.textLineHeight,e.textLineHeight,S),_.textAlign=x&&x.textAlign||e.textAlign,_.textVerticalAlign=x&&x.textVerticalAlign||"middle",null!=f&&s+_.lineHeight>f)return{lines:[],width:0,height:0};_.textWidth=xe(_.text,b);var D=x.textWidth,M=null==D||"auto"===D;if("string"==typeof D&&"%"===D.charAt(D.length-1))_.percentWidth=D,h.push(_),D=0;else{if(M){D=_.textWidth;var C=x.textBackgroundColor,T=C&&C.image;T&&(T=me(T),_e(T)&&(D=Math.max(D,T.width*S/T.height)))}var k=w?w[1]+w[3]:0;D+=k;var E=null!=d?d-v:null;null!=E&&E<D&&(!M||E<k?(_.text="",_.textWidth=D=0):(_.text=Te(_.text,E-k,b,u.ellipsis,{minChar:u.minChar}),_.textWidth=xe(_.text,b),D=_.textWidth+k))}v+=_.width=D,x&&(m=Math.max(m,_.lineHeight))}g.width=v,g.lineHeight=m,s+=m,l=Math.max(l,v)}i.outerWidth=i.width=I(e.textWidth,l),i.outerHeight=i.height=I(e.textHeight,s),c&&(i.outerWidth+=c[1]+c[3],i.outerHeight+=c[0]+c[2]);for(var p=0;p<h.length;p++){var _=h[p],L=_.percentWidth;_.width=parseInt(L,10)/100*l}return i}function Ne(t,e,i){for(var n=""===e,o=e.split("\n"),r=t.lines,a=0;a<o.length;a++){var s=o[a],l={styleName:i,text:s,isLineHolder:!s&&!n};if(a)r.push({tokens:[l]});else{var h=(r[r.length-1]||(r[0]={tokens:[]})).tokens,c=h.length;1===c&&h[0].isLineHolder?h[0]=l:(s||!c||n)&&h.push(l)}}}function Re(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&O(e)||t.textFont||t.font}function ze(t,e){var i,n,o,r,a=e.x,s=e.y,l=e.width,h=e.height,c=e.r;l<0&&(a+=l,l=-l),h<0&&(s+=h,h=-h),"number"==typeof c?i=n=o=r=c:c instanceof Array?1===c.length?i=n=o=r=c[0]:2===c.length?(i=o=c[0],n=r=c[1]):3===c.length?(i=c[0],n=r=c[1],o=c[2]):(i=c[0],n=c[1],o=c[2],r=c[3]):i=n=o=r=0;var u;i+n>l&&(u=i+n,i*=l/u,n*=l/u),o+r>l&&(u=o+r,o*=l/u,r*=l/u),n+o>h&&(u=n+o,n*=h/u,o*=h/u),i+r>h&&(u=i+r,i*=h/u,r*=h/u),t.moveTo(a+i,s),t.lineTo(a+l-n,s),0!==n&&t.arc(a+l-n,s+n,n,-Math.PI/2,0),t.lineTo(a+l,s+h-o),0!==o&&t.arc(a+l-o,s+h-o,o,0,Math.PI/2),t.lineTo(a+r,s+h),0!==r&&t.arc(a+r,s+h-r,r,Math.PI/2,Math.PI),t.lineTo(a,s+i),0!==i&&t.arc(a+i,s+i,i,Math.PI,1.5*Math.PI)}function Be(t){return He(t),d(t.rich,He),t}function He(t){if(t){t.font=Re(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||lb[e]?e:"left";var i=t.textVerticalAlign||t.textBaseline;"center"===i&&(i="middle"),t.textVerticalAlign=null==i||hb[i]?i:"top";t.textPadding&&(t.textPadding=E(t.textPadding))}}function Ve(t,e,i,n,o){n.rich?Fe(t,e,i,n,o):We(t,e,i,n,o)}function We(t,e,i,n,o){var r=Xe(e,"font",n.font||ab),a=n.textPadding,s=t.__textCotentBlock;s&&!t.__dirty||(s=t.__textCotentBlock=Oe(i,r,a,n.truncate));var l=s.outerHeight,h=s.lines,c=s.lineHeight,u=Ze(l,n,o),d=u.baseX,f=u.baseY,p=u.textAlign,g=u.textVerticalAlign;Ge(e,n,o,d,f);var m=Me(f,l,g),v=d,y=m,_=Ye(n);if(_||a){var x=xe(i,r),w=x;a&&(w+=a[1]+a[3]);var b=De(d,w,p);_&&Ue(t,e,n,b,m,w,l),a&&(v=ti(d,p,a),y+=a[0])}Xe(e,"textAlign",p||"left"),Xe(e,"textBaseline","middle"),Xe(e,"shadowBlur",n.textShadowBlur||0),Xe(e,"shadowColor",n.textShadowColor||"transparent"),Xe(e,"shadowOffsetX",n.textShadowOffsetX||0),Xe(e,"shadowOffsetY",n.textShadowOffsetY||0),y+=c/2;var S=n.textStrokeWidth,D=Ke(n.textStroke,S),M=Qe(n.textFill);D&&(Xe(e,"lineWidth",S),Xe(e,"strokeStyle",D)),M&&Xe(e,"fillStyle",M);for(var C=0;C<h.length;C++)D&&e.strokeText(h[C],v,y),M&&e.fillText(h[C],v,y),y+=c}function Fe(t,e,i,n,o){var r=t.__textCotentBlock;r&&!t.__dirty||(r=t.__textCotentBlock=Pe(i,n)),$e(t,e,r,n,o)}function $e(t,e,i,n,o){var r=i.width,a=i.outerWidth,s=i.outerHeight,l=n.textPadding,h=Ze(s,n,o),c=h.baseX,u=h.baseY,d=h.textAlign,f=h.textVerticalAlign;Ge(e,n,o,c,u);var p=De(c,a,d),g=Me(u,s,f),m=p,v=g;l&&(m+=l[3],v+=l[0]);var y=m+r;Ye(n)&&Ue(t,e,n,p,g,a,s);for(var _=0;_<i.lines.length;_++){for(var x,w=i.lines[_],b=w.tokens,S=b.length,D=w.lineHeight,M=w.width,C=0,T=m,I=y,A=S-1;C<S&&(x=b[C],!x.textAlign||"left"===x.textAlign);)je(t,e,x,n,D,v,T,"left"),M-=x.width,T+=x.width,C++;for(;A>=0&&(x=b[A],"right"===x.textAlign);)je(t,e,x,n,D,v,I,"right"),M-=x.width,I-=x.width,A--;for(T+=(r-(T-m)-(y-I)-M)/2;C<=A;)x=b[C],je(t,e,x,n,D,v,T+x.width/2,"center"),T+=x.width,C++;v+=D}}function Ge(t,e,i,n,o){if(i&&e.textRotation){var r=e.textOrigin;"center"===r?(n=i.width/2+i.x,o=i.height/2+i.y):r&&(n=r[0]+i.x,o=r[1]+i.y),t.translate(n,o),t.rotate(-e.textRotation),t.translate(-n,-o)}}function je(t,e,i,n,o,r,a,s){var l=n.rich[i.styleName]||{},h=i.textVerticalAlign,c=r+o/2;"top"===h?c=r+i.height/2:"bottom"===h&&(c=r+o-i.height/2),!i.isLineHolder&&Ye(l)&&Ue(t,e,l,"right"===s?a-i.width:"center"===s?a-i.width/2:a,c-i.height/2,i.width,i.height);var u=i.textPadding;u&&(a=ti(a,s,u),c-=i.height/2-u[2]-i.textHeight/2),Xe(e,"shadowBlur",A(l.textShadowBlur,n.textShadowBlur,0)),Xe(e,"shadowColor",l.textShadowColor||n.textShadowColor||"transparent"),Xe(e,"shadowOffsetX",A(l.textShadowOffsetX,n.textShadowOffsetX,0)),Xe(e,"shadowOffsetY",A(l.textShadowOffsetY,n.textShadowOffsetY,0)),Xe(e,"textAlign",s),Xe(e,"textBaseline","middle"),Xe(e,"font",i.font||ab);var d=Ke(l.textStroke||n.textStroke,p),f=Qe(l.textFill||n.textFill),p=I(l.textStrokeWidth,n.textStrokeWidth);d&&(Xe(e,"lineWidth",p),Xe(e,"strokeStyle",d),e.strokeText(i.text,a,c)),f&&(Xe(e,"fillStyle",f),e.fillText(i.text,a,c))}function Ye(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function Ue(t,e,i,n,o,r,a){var s=i.textBackgroundColor,l=i.textBorderWidth,h=i.textBorderColor,c=w(s);if(Xe(e,"shadowBlur",i.textBoxShadowBlur||0),Xe(e,"shadowColor",i.textBoxShadowColor||"transparent"),Xe(e,"shadowOffsetX",i.textBoxShadowOffsetX||0),Xe(e,"shadowOffsetY",i.textBoxShadowOffsetY||0),c||l&&h){e.beginPath();var u=i.textBorderRadius;u?ze(e,{x:n,y:o,width:r,height:a,r:u}):e.rect(n,o,r,a),e.closePath()}if(c)Xe(e,"fillStyle",s),e.fill();else if(b(s)){var d=s.image;d=ve(d,null,t,qe,s),d&&_e(d)&&e.drawImage(d,n,o,r,a)}l&&h&&(Xe(e,"lineWidth",l),Xe(e,"strokeStyle",h),e.stroke())}function qe(t,e){e.image=t}function Ze(t,e,i){var n=e.x||0,o=e.y||0,r=e.textAlign,a=e.textVerticalAlign;if(i){var s=e.textPosition;if(s instanceof Array)n=i.x+Je(s[0],i.width),o=i.y+Je(s[1],i.height);else{var l=Ce(s,i,e.textDistance);n=l.x,o=l.y,r=r||l.textAlign,a=a||l.textVerticalAlign}var h=e.textOffset;h&&(n+=h[0],o+=h[1])}return{baseX:n,baseY:o,textAlign:r,textVerticalAlign:a}}function Xe(t,e,i){return t[e]=Yw(t,e,i),t[e]}function Ke(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function Qe(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Je(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function ti(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function ei(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function ii(t){t=t||{},zw.call(this,t);for(var e in t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new qw(t.style,this),this._rect=null,this.__clipPaths=[]}function ni(t){ii.call(this,t)}function oi(t){return parseInt(t,10)}function ri(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}function ai(t,e,i){return db.copy(t.getBoundingRect()),t.transform&&db.applyTransform(t.transform),fb.width=e,fb.height=i,!db.intersect(fb)}function si(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0}function li(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}function hi(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}function ci(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function ui(t,e,i,n){return i=i||{},n||!Hx.canvasSupported?di(t,e,i):Hx.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):di(t,e,i),i}function di(t,e,i){var n=ci(t);i.zrX=e.clientX-n.left,i.zrY=e.clientY-n.top}function fi(t,e,i){if(e=e||window.event,null!=e.zrX)return e;var n=e.type;if(n&&n.indexOf("touch")>=0){var o="touchend"!=n?e.targetTouches[0]:e.changedTouches[0];o&&ui(t,o,e,i)}else ui(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var r=e.button;return null==e.which&&void 0!==r&&mb.test(e.type)&&(e.which=1&r?1:2&r?3:4&r?2:0),e}function pi(t,e,i){gb?t.addEventListener(e,i):t.attachEvent("on"+e,i)}function gi(t,e,i){gb?t.removeEventListener(e,i):t.detachEvent("on"+e,i)}function mi(t){return t.which>1}function vi(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function yi(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function _i(t){return"mousewheel"===t&&Hx.browser.firefox?"DOMMouseScroll":t}function xi(t,e,i){var n=t._gestureMgr;"start"===i&&n.clear();var o=n.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if("end"===i&&n.clear(),o){var r=o.type;e.gestureEvent=r,t.handler.dispatchToElement({target:o.target},r,o.event)}}function wi(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function bi(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Si(t){function e(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}d(bb,function(e){t._handlers[e]=v(Mb[e],t)}),d(Db,function(e){t._handlers[e]=v(Mb[e],t)}),d(wb,function(i){t._handlers[i]=e(Mb[i],t)})}function Di(t){function e(e,i){d(e,function(e){pi(t,_i(e),i._handlers[e])},i)}sw.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._gestureMgr=new _b,this._handlers={},Si(this),Hx.pointerEventsSupported?e(Db,this):(Hx.touchEventsSupported&&e(bb,this),e(wb,this))}function Mi(t,e){var i=new Eb(zx(),t,e);return Ab[i.id]=i,i}function Ci(t){if(t)t.dispose();else{for(var e in Ab)Ab.hasOwnProperty(e)&&Ab[e].dispose();Ab={}}return this}function Ti(t){return Ab[t]}function Ii(t,e){Ib[t]=e}function Ai(t){delete Ab[t]}function ki(t){return t instanceof Array?t:null==t?[]:[t]}function Ei(t,e,i){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,o=i.length;n<o;n++){var r=i[n];!t.emphasis[e].hasOwnProperty(r)&&t[e].hasOwnProperty(r)&&(t.emphasis[e][r]=t[e][r])}}}function Li(t){return!Pb(t)||Nb(t)||t instanceof Date?t:t.value}function Oi(t){return Pb(t)&&!(t instanceof Array)}function Pi(t,e){e=(e||[]).slice();var i=f(t||[],function(t,e){return{exist:t}});return Ob(e,function(t,n){if(Pb(t)){for(var o=0;o<i.length;o++)if(!i[o].option&&null!=t.id&&i[o].exist.id===t.id+"")return i[o].option=t,void(e[n]=null);for(var o=0;o<i.length;o++){var r=i[o].exist;if(!(i[o].option||null!=r.id&&null!=t.id||null==t.name||zi(t)||zi(r)||r.name!==t.name+""))return i[o].option=t,void(e[n]=null)}}}),Ob(e,function(t,e){if(Pb(t)){for(var n=0;n<i.length;n++){var o=i[n].exist;if(!i[n].option&&!zi(o)&&null==t.id){i[n].option=t;break}}n>=i.length&&i.push({option:t})}}),i}function Ni(t){var e=z();Ob(t,function(t,i){var n=t.exist;n&&e.set(n.id,t)}),Ob(t,function(t,i){var n=t.option;L(!n||null==n.id||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})}),Ob(t,function(t,i){var n=t.exist,o=t.option,r=t.keyInfo;if(Pb(o)){if(r.name=null!=o.name?o.name+"":n?n.name:Rb+i,n)r.id=n.id;else if(null!=o.id)r.id=o.id+"";else{var a=0;do{r.id="\0"+r.name+"\0"+a++}while(e.get(r.id))}e.set(r.id,t)}})}function Ri(t){var e=t.name;return!(!e||!e.indexOf(Rb))}function zi(t){return Pb(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function Bi(t,e){function i(t,e,i){for(var n=0,o=t.length;n<o;n++)for(var r=t[n].seriesId,a=ki(t[n].dataIndex),s=i&&i[r],l=0,h=a.length;l<h;l++){var c=a[l];s&&s[c]?s[c]=null:(e[r]||(e[r]={}))[c]=1}}function n(t,e){var i=[];for(var o in t)if(t.hasOwnProperty(o)&&null!=t[o])if(e)i.push(+o);else{var r=n(t[o],!0);r.length&&i.push({seriesId:o,dataIndex:r})}return i}var o={},r={};return i(t||[],o),i(e||[],r,o),[n(o),n(r)]}function Hi(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?_(e.dataIndex)?f(e.dataIndex,function(e){return t.indexOfRawIndex(e)}):t.indexOfRawIndex(e.dataIndex):null!=e.name?_(e.name)?f(e.name,function(e){return t.indexOfName(e)}):t.indexOfName(e.name):void 0}function Vi(){var t="__\0ec_inner_"+Bb+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}function Wi(t,e,i){if(w(e)){var n={};n[e+"Index"]=0,e=n}var o=i&&i.defaultMainType;!o||Fi(e,o+"Index")||Fi(e,o+"Id")||Fi(e,o+"Name")||(e[o+"Index"]=0);var r={};return Ob(e,function(n,o){var n=e[o];if("dataIndex"===o||"dataIndexInside"===o)return void(r[o]=n);var a=o.match(/^(\w+)(Index|Id|Name)$/)||[],s=a[1],h=(a[2]||"").toLowerCase();if(!(!s||!h||null==n||"index"===h&&"none"===n||i&&i.includeMainTypes&&l(i.includeMainTypes,s)<0)){var c={mainType:s};"index"===h&&"all"===n||(c[h]=n);var u=t.queryComponents(c);r[s+"Models"]=u,r[s+"Model"]=u[0]}}),r}function Fi(t,e){return t&&t.hasOwnProperty(e)}function $i(t,e,i){t.setAttribute?t.setAttribute(e,i):t[e]=i}function Gi(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function ji(t){var e={main:"",sub:""};return t&&(t=t.split(Hb),e.main=t[0]||"",e.sub=t[1]||""),e}function Yi(t){L(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function Ui(t,e){t.$constructor=t,t.extend=function(t){Nx&&d(e,function(e){t[e]||console.warn("Method `"+e+"` should be implemented"+(t.type?" in "+t.type:"")+".")});var i=this,n=function(){t.$constructor?t.$constructor.apply(this,arguments):i.apply(this,arguments)};return r(n.prototype,t),n.extend=this.extend,n.superCall=Zi,n.superApply=Xi,h(n,this),n.superClass=i,n}}function qi(t){var e=["__\0is_clz",Wb++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,Nx&&L(!t.isInstance,'The method "is" can not be defined.'),t.isInstance=function(t){return!(!t||!t[e])}}function Zi(t,e){var i=k(arguments,2);return this.superClass.prototype[e].apply(t,i)}function Xi(t,e,i){return this.superClass.prototype[e].apply(t,i)}function Ki(t,e){function i(t){var e=n[t.main];return e&&e[Vb]||(e=n[t.main]={},e[Vb]=!0),e}e=e||{};var n={};if(t.registerClass=function(t,e){if(e)if(Yi(e),e=ji(e),e.sub){if(e.sub!==Vb){var o=i(e);o[e.sub]=t}}else Nx&&n[e.main]&&console.warn(e.main+" exists."),n[e.main]=t;return t},t.getClass=function(t,e,i){var o=n[t];if(o&&o[Vb]&&(o=e?o[e]:null),i&&!o)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return o},t.getClassesByMainType=function(t){t=ji(t);var e=[],i=n[t.main];return i&&i[Vb]?d(i,function(t,i){i!==Vb&&e.push(t)}):e.push(i),e},t.hasClass=function(t){return t=ji(t),!!n[t.main]},t.getAllClassMainTypes=function(){var t=[];return d(n,function(e,i){t.push(i)}),t},t.hasSubTypes=function(t){t=ji(t);var e=n[t.main];return e&&e[Vb]},t.parseClassType=ji,e.registerWhenExtend){var o=t.extend;o&&(t.extend=function(e){var i=o.call(this,e);return t.registerClass(i,e.type)})}return t}function Qi(t){return t>-Zb&&t<Zb}function Ji(t){return t>Zb||t<-Zb}function tn(t,e,i,n,o){var r=1-o;return r*r*(r*t+3*o*e)+o*o*(o*n+3*r*i)}function en(t,e,i,n,o){var r=1-o;return 3*(((e-t)*r+2*(i-e)*o)*r+(n-i)*o*o)}function nn(t,e,i,n,o,r){var a=n+3*(e-i)-t,s=3*(i-2*e+t),l=3*(e-t),h=t-o,c=s*s-3*a*l,u=s*l-9*a*h,d=l*l-3*s*h,f=0;if(Qi(c)&&Qi(u))if(Qi(s))r[0]=0;else{var p=-l/s;p>=0&&p<=1&&(r[f++]=p)}else{var g=u*u-4*c*d;if(Qi(g)){var m=u/c,p=-s/a+m,v=-m/2;p>=0&&p<=1&&(r[f++]=p),v>=0&&v<=1&&(r[f++]=v)}else if(g>0){var y=qb(g),_=c*s+1.5*a*(-u+y),x=c*s+1.5*a*(-u-y);_=_<0?-Ub(-_,Qb):Ub(_,Qb),x=x<0?-Ub(-x,Qb):Ub(x,Qb);var p=(-s-(_+x))/(3*a);p>=0&&p<=1&&(r[f++]=p)}else{var w=(2*c*s-3*a*u)/(2*qb(c*c*c)),b=Math.acos(w)/3,S=qb(c),D=Math.cos(b),p=(-s-2*S*D)/(3*a),v=(-s+S*(D+Kb*Math.sin(b)))/(3*a),M=(-s+S*(D-Kb*Math.sin(b)))/(3*a);p>=0&&p<=1&&(r[f++]=p),v>=0&&v<=1&&(r[f++]=v),M>=0&&M<=1&&(r[f++]=M)}}return f}function on(t,e,i,n,o){var r=6*i-12*e+6*t,a=9*e+3*n-3*t-9*i,s=3*e-3*t,l=0;if(Qi(a)){if(Ji(r)){var h=-s/r;h>=0&&h<=1&&(o[l++]=h)}}else{var c=r*r-4*a*s;if(Qi(c))o[0]=-r/(2*a);else if(c>0){var u=qb(c),h=(-r+u)/(2*a),d=(-r-u)/(2*a);h>=0&&h<=1&&(o[l++]=h),d>=0&&d<=1&&(o[l++]=d)}}return l}function rn(t,e,i,n,o,r){var a=(e-t)*o+t,s=(i-e)*o+e,l=(n-i)*o+i,h=(s-a)*o+a,c=(l-s)*o+s,u=(c-h)*o+h;r[0]=t,r[1]=a,r[2]=h,r[3]=u,r[4]=u,r[5]=c,r[6]=l,r[7]=n}function an(t,e,i,n,o,r,a,s,l,h,c){var u,d,f,p,g,m=.005,v=1/0;Jb[0]=l,Jb[1]=h;for(var y=0;y<1;y+=.05)tS[0]=tn(t,i,o,a,y),tS[1]=tn(e,n,r,s,y),(p=ow(Jb,tS))<v&&(u=y,v=p);v=1/0;for(var _=0;_<32&&!(m<Xb);_++)d=u-m,f=u+m,tS[0]=tn(t,i,o,a,d),tS[1]=tn(e,n,r,s,d),p=ow(tS,Jb),d>=0&&p<v?(u=d,v=p):(eS[0]=tn(t,i,o,a,f),eS[1]=tn(e,n,r,s,f),g=ow(eS,Jb),f<=1&&g<v?(u=f,v=g):m*=.5);return c&&(c[0]=tn(t,i,o,a,u),c[1]=tn(e,n,r,s,u)),qb(v)}function sn(t,e,i,n){var o=1-n;return o*(o*t+2*n*e)+n*n*i}function ln(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function hn(t,e,i,n,o){var r=t-2*e+i,a=2*(e-t),s=t-n,l=0;if(Qi(r)){if(Ji(a)){var h=-s/a;h>=0&&h<=1&&(o[l++]=h)}}else{var c=a*a-4*r*s;if(Qi(c)){var h=-a/(2*r);h>=0&&h<=1&&(o[l++]=h)}else if(c>0){var u=qb(c),h=(-a+u)/(2*r),d=(-a-u)/(2*r);h>=0&&h<=1&&(o[l++]=h),d>=0&&d<=1&&(o[l++]=d)}}return l}function cn(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function un(t,e,i,n,o){var r=(e-t)*n+t,a=(i-e)*n+e,s=(a-r)*n+r;o[0]=t,o[1]=r,o[2]=s,o[3]=s,o[4]=a,o[5]=i}function dn(t,e,i,n,o,r,a,s,l){var h,c=.005,u=1/0;Jb[0]=a,Jb[1]=s;for(var d=0;d<1;d+=.05){tS[0]=sn(t,i,o,d),tS[1]=sn(e,n,r,d);var f=ow(Jb,tS);f<u&&(h=d,u=f)}u=1/0;for(var p=0;p<32&&!(c<Xb);p++){var g=h-c,m=h+c;tS[0]=sn(t,i,o,g),tS[1]=sn(e,n,r,g);var f=ow(tS,Jb);if(g>=0&&f<u)h=g,u=f;else{eS[0]=sn(t,i,o,m),eS[1]=sn(e,n,r,m);var v=ow(eS,Jb);m<=1&&v<u?(h=m,u=v):c*=.5}}return l&&(l[0]=sn(t,i,o,h),l[1]=sn(e,n,r,h)),qb(u)}function fn(t,e,i){if(0!==t.length){var n,o=t[0],r=o[0],a=o[0],s=o[1],l=o[1];for(n=1;n<t.length;n++)o=t[n],r=iS(r,o[0]),a=nS(a,o[0]),s=iS(s,o[1]),l=nS(l,o[1]);e[0]=r,e[1]=s,i[0]=a,i[1]=l}}function pn(t,e,i,n,o,r){o[0]=iS(t,i),o[1]=iS(e,n),r[0]=nS(t,i),r[1]=nS(e,n)}function gn(t,e,i,n,o,r,a,s,l,h){var c,u=on,d=tn,f=u(t,i,o,a,cS);for(l[0]=1/0,l[1]=1/0,h[0]=-1/0,h[1]=-1/0,c=0;c<f;c++){var p=d(t,i,o,a,cS[c]);l[0]=iS(p,l[0]),h[0]=nS(p,h[0])}for(f=u(e,n,r,s,uS),c=0;c<f;c++){var g=d(e,n,r,s,uS[c]);l[1]=iS(g,l[1]),h[1]=nS(g,h[1])}l[0]=iS(t,l[0]),h[0]=nS(t,h[0]),l[0]=iS(a,l[0]),h[0]=nS(a,h[0]),l[1]=iS(e,l[1]),h[1]=nS(e,h[1]),l[1]=iS(s,l[1]),h[1]=nS(s,h[1])}function mn(t,e,i,n,o,r,a,s){var l=cn,h=sn,c=nS(iS(l(t,i,o),1),0),u=nS(iS(l(e,n,r),1),0),d=h(t,i,o,c),f=h(e,n,r,u);a[0]=iS(t,o,d),a[1]=iS(e,r,f),s[0]=nS(t,o,d),s[1]=nS(e,r,f)}function vn(t,e,i,n,o,r,a,s,l){var h=rt,c=at,u=Math.abs(o-r);if(u%aS<1e-4&&u>1e-4)return s[0]=t-i,s[1]=e-n,l[0]=t+i,void(l[1]=e+n);if(sS[0]=rS(o)*i+t,sS[1]=oS(o)*n+e,lS[0]=rS(r)*i+t,lS[1]=oS(r)*n+e,h(s,sS,lS),c(l,sS,lS),o%=aS,o<0&&(o+=aS),r%=aS,r<0&&(r+=aS),o>r&&!a?r+=aS:o<r&&a&&(o+=aS),a){var d=r;r=o,o=d}for(var f=0;f<r;f+=Math.PI/2)f>o&&(hS[0]=rS(f)*i+t,hS[1]=oS(f)*n+e,h(s,hS,s),c(l,hS,l))}function yn(t,e,i,n,o,r,a){if(0===o)return!1;var s=o,l=0,h=t;if(a>e+s&&a>n+s||a<e-s&&a<n-s||r>t+s&&r>i+s||r<t-s&&r<i-s)return!1;if(t===i)return Math.abs(r-t)<=s/2;l=(e-n)/(t-i),h=(t*n-i*e)/(t-i);var c=l*r-a+h;return c*c/(l*l+1)<=s/2*s/2}function _n(t,e,i,n,o,r,a,s,l,h,c){if(0===l)return!1;var u=l;return!(c>e+u&&c>n+u&&c>r+u&&c>s+u||c<e-u&&c<n-u&&c<r-u&&c<s-u||h>t+u&&h>i+u&&h>o+u&&h>a+u||h<t-u&&h<i-u&&h<o-u&&h<a-u)&&an(t,e,i,n,o,r,a,s,h,c,null)<=u/2}function xn(t,e,i,n,o,r,a,s,l){if(0===a)return!1;var h=a;return!(l>e+h&&l>n+h&&l>r+h||l<e-h&&l<n-h&&l<r-h||s>t+h&&s>i+h&&s>o+h||s<t-h&&s<i-h&&s<o-h)&&dn(t,e,i,n,o,r,s,l,null)<=h/2}function wn(t){return t%=MS,t<0&&(t+=MS),t}function bn(t,e,i,n,o,r,a,s,l){if(0===a)return!1;var h=a;s-=t,l-=e;var c=Math.sqrt(s*s+l*l);if(c-h>i||c+h<i)return!1;if(Math.abs(n-o)%CS<1e-4)return!0;if(r){var u=n;n=wn(o),o=wn(u)}else n=wn(n),o=wn(o);n>o&&(o+=CS);var d=Math.atan2(l,s);return d<0&&(d+=CS),d>=n&&d<=o||d+CS>=n&&d+CS<=o}function Sn(t,e,i,n,o,r){if(r>e&&r>n||r<e&&r<n)return 0;if(n===e)return 0;var a=n<e?1:-1,s=(r-e)/(n-e);1!==s&&0!==s||(a=n<e?.5:-.5);var l=s*(i-t)+t;return l===o?1/0:l>o?a:0}function Dn(t,e){return Math.abs(t-e)<AS}function Mn(){var t=ES[0];ES[0]=ES[1],ES[1]=t}function Cn(t,e,i,n,o,r,a,s,l,h){if(h>e&&h>n&&h>r&&h>s||h<e&&h<n&&h<r&&h<s)return 0;var c=nn(e,n,r,s,h,kS);if(0===c)return 0;for(var u,d,f=0,p=-1,g=0;g<c;g++){var m=kS[g],v=0===m||1===m?.5:1;tn(t,i,o,a,m)<l||(p<0&&(p=on(e,n,r,s,ES),ES[1]<ES[0]&&p>1&&Mn(),u=tn(e,n,r,s,ES[0]),p>1&&(d=tn(e,n,r,s,ES[1]))),2==p?m<ES[0]?f+=u<e?v:-v:m<ES[1]?f+=d<u?v:-v:f+=s<d?v:-v:m<ES[0]?f+=u<e?v:-v:f+=s<u?v:-v)}return f}function Tn(t,e,i,n,o,r,a,s){if(s>e&&s>n&&s>r||s<e&&s<n&&s<r)return 0;var l=hn(e,n,r,s,kS);if(0===l)return 0;var h=cn(e,n,r);if(h>=0&&h<=1){for(var c=0,u=sn(e,n,r,h),d=0;d<l;d++){var f=0===kS[d]||1===kS[d]?.5:1,p=sn(t,i,o,kS[d]);p<a||(kS[d]<h?c+=u<e?f:-f:c+=r<u?f:-f)}return c}var f=0===kS[0]||1===kS[0]?.5:1,p=sn(t,i,o,kS[0]);return p<a?0:r<e?f:-f}function In(t,e,i,n,o,r,a,s){if((s-=e)>i||s<-i)return 0;var l=Math.sqrt(i*i-s*s);kS[0]=-l,kS[1]=l;var h=Math.abs(n-o);if(h<1e-4)return 0;if(h%IS<1e-4){n=0,o=IS;var c=r?1:-1;return a>=kS[0]+t&&a<=kS[1]+t?c:0}if(r){var l=n;n=wn(o),o=wn(l)}else n=wn(n),o=wn(o);n>o&&(o+=IS);for(var u=0,d=0;d<2;d++){var f=kS[d];if(f+t>a){var p=Math.atan2(s,f),c=r?1:-1;p<0&&(p=IS+p),(p>=n&&p<=o||p+IS>=n&&p+IS<=o)&&(p>Math.PI/2&&p<1.5*Math.PI&&(c=-c),u+=c)}}return u}function An(t,e,i,n,o){for(var r=0,a=0,s=0,l=0,h=0,c=0;c<t.length;){var u=t[c++];switch(u===TS.M&&c>1&&(i||(r+=Sn(a,s,l,h,n,o))),1==c&&(a=t[c],s=t[c+1],l=a,h=s),u){case TS.M:l=t[c++],h=t[c++],a=l,s=h;break;case TS.L:if(i){if(yn(a,s,t[c],t[c+1],e,n,o))return!0}else r+=Sn(a,s,t[c],t[c+1],n,o)||0;a=t[c++],s=t[c++];break;case TS.C:if(i){if(_n(a,s,t[c++],t[c++],t[c++],t[c++],t[c],t[c+1],e,n,o))return!0}else r+=Cn(a,s,t[c++],t[c++],t[c++],t[c++],t[c],t[c+1],n,o)||0;a=t[c++],s=t[c++];break;case TS.Q:if(i){if(xn(a,s,t[c++],t[c++],t[c],t[c+1],e,n,o))return!0}else r+=Tn(a,s,t[c++],t[c++],t[c],t[c+1],n,o)||0;a=t[c++],s=t[c++];break;case TS.A:var d=t[c++],f=t[c++],p=t[c++],g=t[c++],m=t[c++],v=t[c++],y=(t[c++],1-t[c++]),_=Math.cos(m)*p+d,x=Math.sin(m)*g+f;c>1?r+=Sn(a,s,_,x,n,o):(l=_,h=x);var w=(n-d)*g/p+d;if(i){if(bn(d,f,g,m,m+v,y,e,w,o))return!0}else r+=In(d,f,g,m,m+v,y,w,o);a=Math.cos(m+v)*p+d,s=Math.sin(m+v)*g+f;break;case TS.R:l=a=t[c++],h=s=t[c++];var b=t[c++],S=t[c++],_=l+b,x=h+S;if(i){if(yn(l,h,_,h,e,n,o)||yn(_,h,_,x,e,n,o)||yn(_,x,l,x,e,n,o)||yn(l,x,l,h,e,n,o))return!0}else r+=Sn(_,h,_,x,n,o),r+=Sn(l,x,l,h,n,o);break;case TS.Z:if(i){if(yn(a,s,l,h,e,n,o))return!0}else r+=Sn(a,s,l,h,n,o);a=l,s=h}}return i||Dn(s,h)||(r+=Sn(a,s,l,h,n,o)||0),0!==r}function kn(t,e,i){return An(t,0,!1,e,i)}function En(t,e,i,n){return An(t,e,!0,i,n)}function Ln(t){ii.call(this,t),this.path=null}function On(t,e,i,n,o,r,a,s,l,h,c){var u=l*(GS/180),d=$S(u)*(t-i)/2+FS(u)*(e-n)/2,f=-1*FS(u)*(t-i)/2+$S(u)*(e-n)/2,p=d*d/(a*a)+f*f/(s*s);p>1&&(a*=WS(p),s*=WS(p));var g=(o===r?-1:1)*WS((a*a*(s*s)-a*a*(f*f)-s*s*(d*d))/(a*a*(f*f)+s*s*(d*d)))||0,m=g*a*f/s,v=g*-s*d/a,y=(t+i)/2+$S(u)*m-FS(u)*v,_=(e+n)/2+FS(u)*m+$S(u)*v,x=US([1,0],[(d-m)/a,(f-v)/s]),w=[(d-m)/a,(f-v)/s],b=[(-1*d-m)/a,(-1*f-v)/s],S=US(w,b);YS(w,b)<=-1&&(S=GS),YS(w,b)>=1&&(S=0),0===r&&S>0&&(S-=2*GS),1===r&&S<0&&(S+=2*GS),c.addData(h,y,_,a,s,x,S,u,r)}function Pn(t){if(!t)return[];var e,i=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<VS.length;e++)i=i.replace(new RegExp(VS[e],"g"),"|"+VS[e]);var n,o=i.split("|"),r=0,a=0,s=new DS,l=DS.CMD;for(e=1;e<o.length;e++){var h,c=o[e],u=c.charAt(0),d=0,f=c.slice(1).replace(/e,-/g,"e-").split(",");f.length>0&&""===f[0]&&f.shift();for(var p=0;p<f.length;p++)f[p]=parseFloat(f[p]);for(;d<f.length&&!isNaN(f[d])&&!isNaN(f[0]);){var g,m,v,y,_,x,w,b=r,S=a;switch(u){case"l":r+=f[d++],a+=f[d++],h=l.L,s.addData(h,r,a);break;case"L":r=f[d++],a=f[d++],h=l.L,s.addData(h,r,a);break;case"m":r+=f[d++],a+=f[d++],h=l.M,s.addData(h,r,a),u="l";break;case"M":r=f[d++],a=f[d++],h=l.M,s.addData(h,r,a),u="L";break;case"h":r+=f[d++],h=l.L,s.addData(h,r,a);break;case"H":r=f[d++],h=l.L,s.addData(h,r,a);break;case"v":a+=f[d++],h=l.L,s.addData(h,r,a);break;case"V":a=f[d++],h=l.L,s.addData(h,r,a);break;case"C":h=l.C,s.addData(h,f[d++],f[d++],f[d++],f[d++],f[d++],f[d++]),r=f[d-2],a=f[d-1];break;case"c":h=l.C,s.addData(h,f[d++]+r,f[d++]+a,f[d++]+r,f[d++]+a,f[d++]+r,f[d++]+a),r+=f[d-2],a+=f[d-1];break
;case"S":g=r,m=a;var D=s.len(),M=s.data;n===l.C&&(g+=r-M[D-4],m+=a-M[D-3]),h=l.C,b=f[d++],S=f[d++],r=f[d++],a=f[d++],s.addData(h,g,m,b,S,r,a);break;case"s":g=r,m=a;var D=s.len(),M=s.data;n===l.C&&(g+=r-M[D-4],m+=a-M[D-3]),h=l.C,b=r+f[d++],S=a+f[d++],r+=f[d++],a+=f[d++],s.addData(h,g,m,b,S,r,a);break;case"Q":b=f[d++],S=f[d++],r=f[d++],a=f[d++],h=l.Q,s.addData(h,b,S,r,a);break;case"q":b=f[d++]+r,S=f[d++]+a,r+=f[d++],a+=f[d++],h=l.Q,s.addData(h,b,S,r,a);break;case"T":g=r,m=a;var D=s.len(),M=s.data;n===l.Q&&(g+=r-M[D-4],m+=a-M[D-3]),r=f[d++],a=f[d++],h=l.Q,s.addData(h,g,m,r,a);break;case"t":g=r,m=a;var D=s.len(),M=s.data;n===l.Q&&(g+=r-M[D-4],m+=a-M[D-3]),r+=f[d++],a+=f[d++],h=l.Q,s.addData(h,g,m,r,a);break;case"A":v=f[d++],y=f[d++],_=f[d++],x=f[d++],w=f[d++],b=r,S=a,r=f[d++],a=f[d++],h=l.A,On(b,S,r,a,x,w,v,y,_,h,s);break;case"a":v=f[d++],y=f[d++],_=f[d++],x=f[d++],w=f[d++],b=r,S=a,r+=f[d++],a+=f[d++],h=l.A,On(b,S,r,a,x,w,v,y,_,h,s)}}"z"!==u&&"Z"!==u||(h=l.Z,s.addData(h)),n=h}return s.toStatic(),s}function Nn(t,e){var i=Pn(t);return e=e||{},e.buildPath=function(t){if(t.setData){t.setData(i.data);var e=t.getContext();e&&t.rebuildPath(e)}else{var e=t;i.rebuildPath(e)}},e.applyTransform=function(t){HS(i,t),this.dirty(!0)},e}function Rn(t,e){return new Ln(Nn(t,e))}function zn(t,e){return Ln.extend(Nn(t,e))}function Bn(t,e){for(var i=[],n=t.length,o=0;o<n;o++){var r=t[o];r.path||r.createPathProxy(),r.__dirtyPath&&r.buildPath(r.path,r.shape,!0),i.push(r.path)}var a=new Ln(e);return a.createPathProxy(),a.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e)},a}function Hn(t,e,i,n,o,r,a){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*r+s*o+e}function Vn(t,e,i){var n=e.points,o=e.smooth;if(n&&n.length>=2){if(o&&"spline"!==o){var r=eD(n,o,i,e.smoothConstraint);t.moveTo(n[0][0],n[0][1]);for(var a=n.length,s=0;s<(i?a:a-1);s++){var l=r[2*s],h=r[2*s+1],c=n[(s+1)%a];t.bezierCurveTo(l[0],l[1],h[0],h[1],c[0],c[1])}}else{"spline"===o&&(n=tD(n,i)),t.moveTo(n[0][0],n[0][1]);for(var s=1,u=n.length;s<u;s++)t.lineTo(n[s][0],n[s][1])}i&&t.closePath()}}function Wn(t,e,i){var n=t.cpx2,o=t.cpy2;return null===n||null===o?[(i?en:tn)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?en:tn)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?ln:sn)(t.x1,t.cpx1,t.x2,e),(i?ln:sn)(t.y1,t.cpy1,t.y2,e)]}function Fn(t){ii.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function $n(t){return Ln.extend(t)}function Gn(t,e){return zn(t,e)}function jn(t,e,i,n){var o=Rn(t,e),r=o.getBoundingRect();return i&&("center"===n&&(i=Un(i,r)),qn(o,i)),o}function Yn(t,e,i){var n=new ni({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===i){var o={width:t.width,height:t.height};n.setStyle(Un(e,o))}}});return n}function Un(t,e){var i,n=e.width/e.height,o=t.height*n;return o<=t.width?i=t.height:(o=t.width,i=o/n),{x:t.x+t.width/2-o/2,y:t.y+t.height/2-i/2,width:o,height:i}}function qn(t,e){if(t.applyTransform){var i=t.getBoundingRect(),n=i.calculateTransform(e);t.applyTransform(n)}}function Zn(t){var e=t.shape,i=t.style.lineWidth;return pD(2*e.x1)===pD(2*e.x2)&&(e.x1=e.x2=Kn(e.x1,i,!0)),pD(2*e.y1)===pD(2*e.y2)&&(e.y1=e.y2=Kn(e.y1,i,!0)),t}function Xn(t){var e=t.shape,i=t.style.lineWidth,n=e.x,o=e.y,r=e.width,a=e.height;return e.x=Kn(e.x,i,!0),e.y=Kn(e.y,i,!0),e.width=Math.max(Kn(n+r,i,!1)-e.x,0===r?0:1),e.height=Math.max(Kn(o+a,i,!1)-e.y,0===a?0:1),t}function Kn(t,e,i){var n=pD(2*t);return(n+pD(e))%2==0?n/2:(n+(i?1:-1))/2}function Qn(t){return null!=t&&"none"!=t}function Jn(t){return"string"==typeof t?Rt(t,-.1):t}function to(t){if(t.__hoverStlDirty){var e=t.style.stroke,i=t.style.fill,n=t.__hoverStl;n.fill=n.fill||(Qn(i)?Jn(i):null),n.stroke=n.stroke||(Qn(e)?Jn(e):null);var o={};for(var r in n)null!=n[r]&&(o[r]=t.style[r]);t.__normalStl=o,t.__hoverStlDirty=!1}}function eo(t){if(!t.__isHover){if(to(t),t.useHoverLayer)t.__zr&&t.__zr.addHover(t,t.__hoverStl);else{var e=t.style,i=e.insideRollbackOpt;i&&xo(e),e.extendFrom(t.__hoverStl),i&&(_o(e,e.insideOriginalTextPosition,i),null==e.textFill&&(e.textFill=i.autoColor)),t.dirty(!1),t.z2+=1}t.__isHover=!0}}function io(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function no(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&eo(t)}):eo(t)}function oo(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&io(t)}):io(t)}function ro(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&to(t)}function ao(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&no(this)}function so(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&oo(this)}function lo(){this.__isEmphasis=!0,no(this)}function ho(){this.__isEmphasis=!1,oo(this)}function co(t,e,i){t.__hoverSilentOnTouch=i&&i.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&ro(t,e)}):ro(t,e),t.on("mouseover",ao).on("mouseout",so),t.on("emphasis",lo).on("normal",ho)}function uo(t,e,i,n,o,r,a){o=o||vD;var s,l=o.labelFetcher,h=o.labelDataIndex,c=o.labelDimIndex,u=i.getShallow("show"),d=n.getShallow("show");(u||d)&&(l&&(s=l.getFormattedLabel(h,"normal",null,c)),null==s&&(s=x(o.defaultText)?o.defaultText(h,o):o.defaultText));var f=u?s:null,p=d?I(l?l.getFormattedLabel(h,"emphasis",null,c):null,s):null;null==f&&null==p||(fo(t,i,r,o),fo(e,n,a,o,!0)),t.text=f,e.text=p}function fo(t,e,i,n,o){return go(t,e,n,o),i&&r(t,i),t.host&&t.host.dirty&&t.host.dirty(!1),t}function po(t,e,i){var n,o={isRectText:!0};!1===i?n=!0:o.autoColor=i,go(t,e,o,n),t.host&&t.host.dirty&&t.host.dirty(!1)}function go(t,e,i,n){if(i=i||vD,i.isRectText){var o=e.getShallow("position")||(n?null:"inside");"outside"===o&&(o="top"),t.textPosition=o,t.textOffset=e.getShallow("offset");var r=e.getShallow("rotate");null!=r&&(r*=Math.PI/180),t.textRotation=r,t.textDistance=I(e.getShallow("distance"),n?null:5)}var a,s=e.ecModel,l=s&&s.option.textStyle,h=mo(e);if(h){a={};for(var c in h)if(h.hasOwnProperty(c)){var u=e.getModel(["rich",c]);vo(a[c]={},u,l,i,n)}}return t.rich=a,vo(t,e,l,i,n,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),t}function mo(t){for(var e;t&&t!==t.ecModel;){var i=(t.option||vD).rich;if(i){e=e||{};for(var n in i)i.hasOwnProperty(n)&&(e[n]=1)}t=t.parentModel}return e}function vo(t,e,i,n,o,r){if(i=!o&&i||vD,t.textFill=yo(e.getShallow("color"),n)||i.color,t.textStroke=yo(e.getShallow("textBorderColor"),n)||i.textBorderColor,t.textStrokeWidth=I(e.getShallow("textBorderWidth"),i.textBorderWidth),!o){if(r){var a=t.textPosition;t.insideRollback=_o(t,a,n),t.insideOriginalTextPosition=a,t.insideRollbackOpt=n}null==t.textFill&&(t.textFill=n.autoColor)}t.fontStyle=e.getShallow("fontStyle")||i.fontStyle,t.fontWeight=e.getShallow("fontWeight")||i.fontWeight,t.fontSize=e.getShallow("fontSize")||i.fontSize,t.fontFamily=e.getShallow("fontFamily")||i.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),r&&n.disableBox||(t.textBackgroundColor=yo(e.getShallow("backgroundColor"),n),t.textPadding=e.getShallow("padding"),t.textBorderColor=yo(e.getShallow("borderColor"),n),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||i.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||i.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||i.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||i.textShadowOffsetY}function yo(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function _o(t,e,i){var n,o=i.useInsideStyle;return null==t.textFill&&!1!==o&&(!0===o||i.isRectText&&e&&"string"==typeof e&&e.indexOf("inside")>=0)&&(n={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=i.autoColor,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),n}function xo(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth)}function wo(t,e){var i=e||e.getModel("textStyle");return O([t.fontStyle||i&&i.getShallow("fontStyle")||"",t.fontWeight||i&&i.getShallow("fontWeight")||"",(t.fontSize||i&&i.getShallow("fontSize")||12)+"px",t.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}function bo(t,e,i,n,o,r){if("function"==typeof o&&(r=o,o=null),n&&n.isAnimationEnabled()){var a=t?"Update":"",s=n.getShallow("animationDuration"+a),l=n.getShallow("animationEasing"+a),h=n.getShallow("animationDelay"+a);"function"==typeof h&&(h=h(o,n.getAnimationDelayParams?n.getAnimationDelayParams(e,o):null)),"function"==typeof s&&(s=s(o)),s>0?e.animateTo(i,s,h||0,l,r,!!r):(e.stopAnimation(),e.attr(i),r&&r())}else e.stopAnimation(),e.attr(i),r&&r()}function So(t,e,i,n,o){bo(!0,t,e,i,n,o)}function Do(t,e,i,n,o){bo(!1,t,e,i,n,o)}function Mo(t,e){for(var i=ft([]);t&&t!==e;)gt(i,t.getLocalTransform(),i),t=t.parent;return i}function Co(t,e,i){return e&&!u(e)&&(e=gw.getLocalTransform(e)),i&&(e=_t([],e)),ot([],t,e)}function To(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),r=["left"===t?-n:"right"===t?n:0,"top"===t?-o:"bottom"===t?o:0];return r=Co(r,e,i),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"}function Io(t,e,i,n){function o(t){var e={position:F(t.position),rotation:t.rotation};return t.shape&&(e.shape=r({},t.shape)),e}if(t&&e){var a=function(t){var e={};return t.traverse(function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)}),e}(t);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=a[t.anid];if(e){var n=o(t);t.attr(o(e)),So(t,n,i,t.dataIndex)}}})}}function Ao(t,e){return f(t,function(t){var i=t[0];i=gD(i,e.x),i=mD(i,e.x+e.width);var n=t[1];return n=gD(n,e.y),n=mD(n,e.y+e.height),[i,n]})}function ko(t,e){var i=gD(t.x,e.x),n=mD(t.x+t.width,e.x+e.width),o=gD(t.y,e.y),r=mD(t.y+t.height,e.y+e.height);if(n>=i&&r>=o)return{x:i,y:o,width:n-i,height:r-o}}function Eo(t,e,i){e=r({rectHover:!0},e);var n=e.style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(n.image=t.slice(8),a(n,i),new ni(e)):jn(t.replace("path://",""),e,i,"center")}function Lo(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}function Oo(t,e,i){for(var n=0;n<e.length&&(!e[n]||null!=(t=t&&"object"==typeof t?t[e[n]]:null));n++);return null==t&&i&&(t=i.get(e)),t}function Po(t,e){var i=MD(t).getParent;return i?i.call(t,e):t.parentModel}function No(t){return[t||"",CD++,Math.random().toFixed(5)].join("_")}function Ro(t){return t.replace(/^\s+/,"").replace(/\s+$/,"")}function zo(t,e,i,n){var o=e[1]-e[0],r=i[1]-i[0];if(0===o)return 0===r?i[0]:(i[0]+i[1])/2;if(n)if(o>0){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/o*r+i[0]}function Bo(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?Ro(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function Ho(t,e,i){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t}function Vo(t){return t.sort(function(t,e){return t-e}),t}function Wo(t){if(t=+t,isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}function Fo(t){var e=t.toString(),i=e.indexOf("e");if(i>0){var n=+e.slice(i+1);return n<0?-n:0}var o=e.indexOf(".");return o<0?0:e.length-1-o}function $o(t,e){var i=Math.log,n=Math.LN10,o=Math.floor(i(t[1]-t[0])/n),r=Math.round(i(Math.abs(e[1]-e[0]))/n),a=Math.min(Math.max(-o+r,0),20);return isFinite(a)?a:20}function Go(t,e,i){if(!t[e])return 0;var n=p(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===n)return 0;for(var o=Math.pow(10,i),r=f(t,function(t){return(isNaN(t)?0:t)/n*o*100}),a=100*o,s=f(r,function(t){return Math.floor(t)}),l=p(s,function(t,e){return t+e},0),h=f(r,function(t,e){return t-s[e]});l<a;){for(var c=Number.NEGATIVE_INFINITY,u=null,d=0,g=h.length;d<g;++d)h[d]>c&&(c=h[d],u=d);++s[u],h[u]=0,++l}return s[e]/o}function jo(t){var e=2*Math.PI;return(t%e+e)%e}function Yo(t){return t>-TD&&t<TD}function Uo(t){if(t instanceof Date)return t;if("string"==typeof t){var e=AD.exec(t);if(!e)return new Date(NaN);if(e[8]){var i=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(i-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,i,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return null==t?new Date(NaN):new Date(Math.round(t))}function qo(t){return Math.pow(10,Zo(t))}function Zo(t){return Math.floor(Math.log(t)/Math.LN10)}function Xo(t,e){var i,n=Zo(t),o=Math.pow(10,n),r=t/o;return i=e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10,t=i*o,n>=-20?+t.toFixed(n<0?-n:0):t}function Ko(t){function e(t,i,n){return t.interval[n]<i.interval[n]||t.interval[n]===i.interval[n]&&(t.close[n]-i.close[n]==(n?-1:1)||!n&&e(t,i,1))}t.sort(function(t,i){return e(t,i,0)?-1:1});for(var i=-1/0,n=1,o=0;o<t.length;){for(var r=t[o].interval,a=t[o].close,s=0;s<2;s++)r[s]<=i&&(r[s]=i,a[s]=s?1:1-n),i=r[s],n=a[s];r[0]===r[1]&&a[0]*a[1]!=1?t.splice(o,1):o++}return t}function Qo(t){return t-parseFloat(t)>=0}function Jo(t){return isNaN(t)?"-":(t=(t+"").split("."),t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:""))}function tr(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}function er(t){return null==t?"":(t+"").replace(LD,function(t,e){return OD[e]})}function ir(t,e,i){_(e)||(e=[e]);var n=e.length;if(!n)return"";for(var o=e[0].$vars||[],r=0;r<o.length;r++){var a=PD[r];t=t.replace(ND(a),ND(a,0))}for(var s=0;s<n;s++)for(var l=0;l<o.length;l++){var h=e[s][o[l]];t=t.replace(ND(PD[l],s),i?er(h):h)}return t}function nr(t,e,i){return d(e,function(e,n){t=t.replace("{"+n+"}",i?er(e):e)}),t}function or(t,e){t=w(t)?{color:t,extraCssText:e}:t||{};var i=t.color,n=t.type,e=t.extraCssText;return i?"subItem"===n?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+er(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+er(i)+";"+(e||"")+'"></span>':""}function rr(t,e){return t+="","0000".substr(0,e-t.length)+t}function ar(t,e,i){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var n=Uo(e),o=i?"UTC":"",r=n["get"+o+"FullYear"](),a=n["get"+o+"Month"]()+1,s=n["get"+o+"Date"](),l=n["get"+o+"Hours"](),h=n["get"+o+"Minutes"](),c=n["get"+o+"Seconds"](),u=n["get"+o+"Milliseconds"]();return t=t.replace("MM",rr(a,2)).replace("M",a).replace("yyyy",r).replace("yy",r%100).replace("dd",rr(s,2)).replace("d",s).replace("hh",rr(l,2)).replace("h",l).replace("mm",rr(h,2)).replace("m",h).replace("ss",rr(c,2)).replace("s",c).replace("SSS",rr(u,3))}function sr(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function lr(t,e,i,n,o){var r=0,a=0;null==n&&(n=1/0),null==o&&(o=1/0);var s=0;e.eachChild(function(l,h){var c,u,d=l.position,f=l.getBoundingRect(),p=e.childAt(h+1),g=p&&p.getBoundingRect();if("horizontal"===t){var m=f.width+(g?-g.x+f.x:0);c=r+m,c>n||l.newline?(r=0,c=m,a+=s+i,s=f.height):s=Math.max(s,f.height)}else{var v=f.height+(g?-g.y+f.y:0);u=a+v,u>o||l.newline?(r+=s+i,a=0,u=v,s=f.width):s=Math.max(s,f.width)}l.newline||(d[0]=r,d[1]=a,"horizontal"===t?r=c+i:a=u+i)})}function hr(t,e,i){var n=e.width,o=e.height,r=Bo(t.x,n),a=Bo(t.y,o),s=Bo(t.x2,n),l=Bo(t.y2,o);return(isNaN(r)||isNaN(parseFloat(t.x)))&&(r=0),(isNaN(s)||isNaN(parseFloat(t.x2)))&&(s=n),(isNaN(a)||isNaN(parseFloat(t.y)))&&(a=0),(isNaN(l)||isNaN(parseFloat(t.y2)))&&(l=o),i=ED(i||0),{width:Math.max(s-r-i[1]-i[3],0),height:Math.max(l-a-i[0]-i[2],0)}}function cr(t,e,i){i=ED(i||0);var n=e.width,o=e.height,r=Bo(t.left,n),a=Bo(t.top,o),s=Bo(t.right,n),l=Bo(t.bottom,o),h=Bo(t.width,n),c=Bo(t.height,o),u=i[2]+i[0],d=i[1]+i[3],f=t.aspect;switch(isNaN(h)&&(h=n-s-d-r),isNaN(c)&&(c=o-l-u-a),null!=f&&(isNaN(h)&&isNaN(c)&&(f>n/o?h=.8*n:c=.8*o),isNaN(h)&&(h=f*c),isNaN(c)&&(c=h/f)),isNaN(r)&&(r=n-s-h-d),isNaN(a)&&(a=o-l-c-u),t.left||t.right){case"center":r=n/2-h/2-i[3];break;case"right":r=n-h-d}switch(t.top||t.bottom){case"middle":case"center":a=o/2-c/2-i[0];break;case"bottom":a=o-c-u}r=r||0,a=a||0,isNaN(h)&&(h=n-d-r-(s||0)),isNaN(c)&&(c=o-u-a-(l||0));var p=new ie(r+i[3],a+i[0],h,c);return p.margin=i,p}function ur(t,e,i,n,o){var r=!o||!o.hv||o.hv[0],s=!o||!o.hv||o.hv[1],l=o&&o.boundingMode||"all";if(r||s){var h;if("raw"===l)h="group"===t.type?new ie(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(h=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();h=h.clone(),h.applyTransform(c)}e=cr(a({width:h.width,height:h.height},e),i,n);var u=t.position,d=r?e.x-h.x:0,f=s?e.y-h.y:0;t.attr("position","raw"===l?[d,f]:[u[0]+d,u[1]+f])}}function dr(t,e){return null!=t[WD[e][0]]||null!=t[WD[e][1]]&&null!=t[WD[e][2]]}function fr(t,e,i){function n(i,n){var a={},l=0,h={},c=0;if(HD(i,function(e){h[e]=t[e]}),HD(i,function(t){o(e,t)&&(a[t]=h[t]=e[t]),r(a,t)&&l++,r(h,t)&&c++}),s[n])return r(e,i[1])?h[i[2]]=null:r(e,i[2])&&(h[i[1]]=null),h;if(2!==c&&l){if(l>=2)return a;for(var u=0;u<i.length;u++){var d=i[u];if(!o(a,d)&&o(t,d)){a[d]=t[d];break}}return a}return h}function o(t,e){return t.hasOwnProperty(e)}function r(t,e){return null!=t[e]&&"auto"!==t[e]}function a(t,e,i){HD(t,function(t){e[t]=i[t]})}!b(i)&&(i={});var s=i.ignoreSize;!_(s)&&(s=[s,s]);var l=n(WD[0],0),h=n(WD[1],1);a(WD[0],t,l),a(WD[1],t,h)}function pr(t){return gr({},t)}function gr(t,e){return e&&t&&HD(VD,function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t}function mr(t){var e=[];return d(jD.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=f(e,function(t){return ji(t).main}),"dataset"!==t&&l(e,"dataset")<=0&&e.unshift("dataset"),e}function vr(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n].length>e)return t[n];return t[i-1]}function yr(t){var e=t.get("coordinateSystem"),i={coordSysName:e,coordSysDims:[],axisMap:z(),categoryAxisMap:z()},n=XD[e];if(n)return n(t,i,i.axisMap,i.categoryAxisMap),i}function _r(t){return"category"===t.get("type")}function xr(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===tM?{}:[]),this.sourceFormat=t.sourceFormat||eM,this.seriesLayoutBy=t.seriesLayoutBy||nM,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&z(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function wr(t){var e=t.option.source,i=eM;if(D(e))i=iM;else if(_(e))for(var n=0,o=e.length;n<o;n++){var r=e[n];if(null!=r){if(_(r)){i=QD;break}if(b(r)){i=JD;break}}}else if(b(e)){for(var a in e)if(e.hasOwnProperty(a)&&u(e[a])){i=tM;break}}else if(null!=e)throw new Error("Invalid data");rM(t).sourceFormat=i}function br(t){return rM(t).source}function Sr(t){rM(t).datasetMap=z()}function Dr(t){var e=t.option,i=e.data,n=D(i)?iM:KD,o=!1,r=e.seriesLayoutBy,a=e.sourceHeader,s=e.dimensions,l=kr(t);if(l){var h=l.option;i=h.source,n=rM(l).sourceFormat,o=!0,r=r||h.seriesLayoutBy,null==a&&(a=h.sourceHeader),s=s||h.dimensions}var c=Mr(i,n,r,a,s),u=e.encode;!u&&l&&(u=Ar(t,l,i,n,r,c)),rM(t).source=new xr({data:i,fromDataset:o,seriesLayoutBy:r,sourceFormat:n,dimensionsDefine:c.dimensionsDefine,startIndex:c.startIndex,dimensionsDetectCount:c.dimensionsDetectCount,encodeDefine:u})}function Mr(t,e,i,n,o){if(!t)return{dimensionsDefine:Cr(o)};var r,a,s;if(e===QD)"auto"===n||null==n?Tr(function(t){null!=t&&"-"!==t&&(w(t)?null==a&&(a=1):a=0)},i,t,10):a=n?1:0,o||1!==a||(o=[],Tr(function(t,e){o[e]=null!=t?t:""},i,t)),r=o?o.length:i===oM?t.length:t[0]?t[0].length:null;else if(e===JD)o||(o=Ir(t),s=!0);else if(e===tM)o||(o=[],s=!0,d(t,function(t,e){o.push(e)}));else if(e===KD){var l=Li(t[0]);r=_(l)&&l.length||1}else e===iM&&Nx&&L(!!o,"dimensions must be given if data is TypedArray.");var h;return s&&d(o,function(t,e){"name"===(b(t)?t.name:t)&&(h=e)}),{startIndex:a,dimensionsDefine:Cr(o),dimensionsDetectCount:r,potentialNameDimIndex:h}}function Cr(t){if(t){var e=z();return f(t,function(t,i){if(t=r({},b(t)?t:{name:t}),null==t.name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var n=e.get(t.name);return n?t.name+="-"+n.count++:e.set(t.name,{count:1}),t})}}function Tr(t,e,i,n){if(null==n&&(n=1/0),e===oM)for(var o=0;o<i.length&&o<n;o++)t(i[o]?i[o][0]:null,o);else for(var r=i[0]||[],o=0;o<r.length&&o<n;o++)t(r[o],o)}function Ir(t){for(var e,i=0;i<t.length&&!(e=t[i++]););if(e){var n=[];return d(e,function(t,e){n.push(e)}),n}}function Ar(t,e,i,n,o,r){var a=yr(t),s={},l=[],h=[],c=t.subType,u=z(["pie","map","funnel"]),f=z(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(a&&null!=f.get(c)){var p=t.ecModel,g=rM(p).datasetMap,m=e.uid+"_"+o,v=g.get(m)||g.set(m,{categoryWayDim:1,valueWayDim:0});d(a.coordSysDims,function(t){if(null==a.firstCategoryDimIndex){var e=v.valueWayDim++;s[t]=e,h.push(e)}else if(a.categoryAxisMap.get(t))s[t]=0,l.push(0);else{var e=v.categoryWayDim++;s[t]=e,h.push(e)}})}else if(null!=u.get(c)){for(var y,_=0;_<5&&null==y;_++)Lr(i,n,o,r.dimensionsDefine,r.startIndex,_)||(y=_);if(null!=y){s.value=y;var x=r.potentialNameDimIndex||Math.max(y-1,0);h.push(x),l.push(x)}}return l.length&&(s.itemName=l),h.length&&(s.seriesName=h),s}function kr(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}function Er(t,e){return Lr(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function Lr(t,e,i,n,o,r){function a(t){return(null==t||!isFinite(t)||""===t)&&(!(!w(t)||"-"===t)||void 0)}var s;if(D(t))return!1;var l;if(n&&(l=n[r],l=b(l)?l.name:l),e===QD)if(i===oM){for(var h=t[r],c=0;c<(h||[]).length&&c<5;c++)if(null!=(s=a(h[o+c])))return s}else for(var c=0;c<t.length&&c<5;c++){var u=t[o+c];if(u&&null!=(s=a(u[r])))return s}else if(e===JD){if(!l)return;for(var c=0;c<t.length&&c<5;c++){var d=t[c];if(d&&null!=(s=a(d[l])))return s}}else if(e===tM){if(!l)return;var h=t[l];if(!h||D(h))return!1;for(var c=0;c<h.length&&c<5;c++)if(null!=(s=a(h[c])))return s}else if(e===KD)for(var c=0;c<t.length&&c<5;c++){var d=t[c],f=Li(d);if(!_(f))return!1;if(null!=(s=a(f[r])))return s}return!1}function Or(t,e){if(e){var i=e.seiresIndex,n=e.seriesId,o=e.seriesName;return null!=i&&t.componentIndex!==i||null!=n&&t.id!==n||null!=o&&t.name!==o}}function Pr(t,e){var o=t.color&&!t.colorLayer;d(e,function(e,r){"colorLayer"===r&&o||jD.hasClass(r)||("object"==typeof e?t[r]=t[r]?n(t[r],e,!1):i(e):null==t[r]&&(t[r]=e))})}function Nr(t){t=t,this.option={},this.option[aM]=1,this._componentsMap=z({series:[]}),this._seriesIndices,this._seriesIndicesMap,Pr(t,this._theme.option),n(t,UD,!1),this.mergeOption(t)}function Rr(t,e){_(e)||(e=e?[e]:[]);var i={};return d(e,function(e){i[e]=(t.get(e)||[]).slice()}),i}function zr(t,e,i){return e.type?e.type:i?i.subType:jD.determineSubType(t,e)}function Br(t,e){t._seriesIndicesMap=z(t._seriesIndices=f(e,function(t){return t.componentIndex})||[])}function Hr(t,e){return e.hasOwnProperty("subType")?g(t,function(t){return t.subType===e.subType}):t}function Vr(t){if(Nx&&!t._seriesIndices)throw new Error("Option should contains series.")}function Wr(t){d(lM,function(e){this[e]=v(t[e],t)},this)}function Fr(){this._coordinateSystems=[]}function $r(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Gr(t,e,i){var n,o,r=[],a=[],s=t.timeline;if(t.baseOption&&(o=t.baseOption),(s||t.options)&&(o=o||{},r=(t.options||[]).slice()),t.media){o=o||{};var l=t.media;cM(l,function(t){t&&t.option&&(t.query?a.push(t):n||(n=t))})}return o||(o=t),o.timeline||(o.timeline=s),cM([o].concat(r).concat(f(a,function(t){return t.option})),function(t){cM(e,function(e){e(t,i)})}),{baseOption:o,timelineOptions:r,mediaDefault:n,mediaList:a}}function jr(t,e,i){var n={width:e,height:i,aspectratio:e/i},o=!0;return d(t,function(t,e){var i=e.match(pM);if(i&&i[1]&&i[2]){var r=i[1],a=i[2].toLowerCase();Yr(n[a],t,r)||(o=!1)}}),o}function Yr(t,e,i){return"min"===i?t>=e:"max"===i?t<=e:t===e}function Ur(t,e){return t.join(",")===e.join(",")}function qr(t,e){e=e||{},cM(e,function(e,i){if(null!=e){var n=t[i];if(jD.hasClass(i)){e=ki(e),n=ki(n);var o=Pi(n,e);t[i]=dM(o,function(t){return t.option&&t.exist?fM(t.exist,t.option,!0):t.exist||t.option})}else t[i]=fM(n,e,!0)}})}function Zr(t){var e=t&&t.itemStyle;if(e)for(var i=0,o=vM.length;i<o;i++){var r=vM[i],a=e.normal,s=e.emphasis;a&&a[r]&&(t[r]=t[r]||{},t[r].normal?n(t[r].normal,a[r]):t[r].normal=a[r],a[r]=null),s&&s[r]&&(t[r]=t[r]||{},t[r].emphasis?n(t[r].emphasis,s[r]):t[r].emphasis=s[r],s[r]=null)}}function Xr(t,e,i){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,o=t[e].emphasis;n&&(i?(t[e].normal=t[e].emphasis=null,a(t[e],n)):t[e]=n),o&&(t.emphasis=t.emphasis||{},t.emphasis[e]=o)}}function Kr(t){Xr(t,"itemStyle"),Xr(t,"lineStyle"),Xr(t,"areaStyle"),Xr(t,"label"),Xr(t,"labelLine"),Xr(t,"upperLabel"),Xr(t,"edgeLabel")}function Qr(t,e){var i=mM(t)&&t[e],n=mM(i)&&i.textStyle;if(n)for(var o=0,r=zb.length;o<r;o++){var e=zb[o];n.hasOwnProperty(e)&&(i[e]=n[e])}}function Jr(t){t&&(Kr(t),Qr(t,"label"),t.emphasis&&Qr(t.emphasis,"label"))}function ta(t){if(mM(t)){Zr(t),Kr(t),Qr(t,"label"),Qr(t,"upperLabel"),Qr(t,"edgeLabel"),t.emphasis&&(Qr(t.emphasis,"label"),Qr(t.emphasis,"upperLabel"),Qr(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Zr(e),Jr(e));var i=t.markLine;i&&(Zr(i),Jr(i));var n=t.markArea;n&&Jr(n);var o=t.data;if("graph"===t.type){o=o||t.nodes;var r=t.links||t.edges;if(r&&!D(r))for(var a=0;a<r.length;a++)Jr(r[a]);d(t.categories,function(t){Kr(t)})}if(o&&!D(o))for(var a=0;a<o.length;a++)Jr(o[a]);var e=t.markPoint;if(e&&e.data)for(var s=e.data,a=0;a<s.length;a++)Jr(s[a]);var i=t.markLine;if(i&&i.data)for(var l=i.data,a=0;a<l.length;a++)_(l[a])?(Jr(l[a][0]),Jr(l[a][1])):Jr(l[a]);"gauge"===t.type?(Qr(t,"axisLabel"),Qr(t,"title"),Qr(t,"detail")):"treemap"===t.type?(Xr(t.breadcrumb,"itemStyle"),d(t.levels,function(t){Kr(t)})):"tree"===t.type&&Kr(t.leaves)}}function ea(t){return _(t)?t:t?[t]:[]}function ia(t){return(_(t)?t[0]:t)||{}}function na(t,e){e=e.split(",");for(var i=t,n=0;n<e.length&&null!=(i=i&&i[e[n]]);n++);return i}function oa(t,e,i,n){e=e.split(",");for(var o,r=t,a=0;a<e.length-1;a++)o=e[a],null==r[o]&&(r[o]={}),r=r[o];(n||null==r[e[a]])&&(r[e[a]]=i)}function ra(t){d(_M,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}function aa(t){d(t,function(e,i){var n=[],o=[NaN,NaN],r=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex,l=a.map(r,function(r,l,h){var c=a.get(e.stackedDimension,h);if(isNaN(c))return o;var u,d;s?d=a.getRawIndex(h):u=a.get(e.stackedByDimension,h);for(var f=NaN,p=i-1;p>=0;p--){var g=t[p];if(s||(d=g.data.rawIndexOf(g.stackedByDimension,u)),d>=0){var m=g.data.getByRawIndex(g.stackResultDimension,d);if(c>=0&&m>0||c<=0&&m<0){c+=m,f=m;break}}}return n[0]=c,n[1]=f,n});a.hostModel.setData(l),e.data=l})}function sa(t,e){xr.isInstance(t)||(t=xr.seriesDataToSource(t)),this._source=t;var i=this._data=t.data,n=t.sourceFormat;if(n===iM){if(Nx&&null==e)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=e,this._data=i}var o=DM[n===QD?n+"_"+t.seriesLayoutBy:n];Nx&&L(o,"Invalide sourceFormat: "+n),r(this,o)}function la(){return this._data.length}function ha(t){return this._data[t]}function ca(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function ua(t,e,i,n){return null!=i?t[i]:t}function da(t,e,i,n){return fa(t[n],this._dimensionInfos[e])}function fa(t,e){var i=e&&e.type;if("ordinal"===i){var n=e&&e.ordinalMeta;return n?n.parseAndCollect(t):t}return"time"===i&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+Uo(t)),null==t||""===t?NaN:+t}function pa(t,e,i){if(t){var n=t.getRawDataItem(e);if(null!=n){var o,r,a=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(i);return s&&(o=s.name,r=s.index),MM[a](n,e,r,o)}}}function ga(t,e,i){if(t){var n=t.getProvider().getSource().sourceFormat;if(n===KD||n===JD){var o=t.getRawDataItem(e);return n!==KD||b(o)||(o=null),o?o[i]:void 0}}}function ma(t){return new va(t)}function va(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function ya(t,e,i,n,o,r){kM.reset(i,n,o,r),t._callingProgress=e,t._callingProgress({start:i,end:n,count:n-i,next:kM.next},t.context)}function _a(t,e){t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null;var i,n;!e&&t._reset&&(i=t._reset(t.context),i&&i.progress&&(n=i.forceFirstProgress,i=i.progress),_(i)&&!i.length&&(i=null)),t._progress=i,t._modBy=t._modDataCount=null;var o=t._downstream;return o&&o.dirty(),n}function xa(t){var e=t.name;Ri(t)||(t.name=wa(t)||e)}function wa(t){var e=t.getRawData(),i=e.mapDimension("seriesName",!0),n=[];return d(i,function(t){var i=e.getDimensionInfo(t);i.displayName&&n.push(i.displayName)}),n.join(" ")}function ba(t){return t.model.getRawData().count()}function Sa(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),Da}function Da(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Ma(t,e){d(t.CHANGABLE_METHODS,function(i){t.wrapMethod(i,y(Ca,e))})}function Ca(t){var e=Ta(t);e&&e.setOutputEnd(this.count())}function Ta(t){var e=(t.ecModel||{}).scheduler,i=e&&e.getPipeline(t.uid);if(i){var n=i.currentTask;if(n){var o=n.agentStubMap;o&&(n=o.get(t.uid))}return n}}function Ia(){this.group=new Ww,this.uid=No("viewChart"),this.renderTask=ma({plan:Ea,reset:La}),this.renderTask.context={view:this}}function Aa(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var i=0;i<t.childCount();i++)Aa(t.childAt(i),e)}function ka(t,e,i){var n=Hi(t,e);null!=n?d(ki(n),function(e){Aa(t.getItemGraphicEl(e),i)}):t.eachItemGraphicEl(function(t){Aa(t,i)})}function Ea(t){return zM(t.model)}function La(t){var e=t.model,i=t.ecModel,n=t.api,o=t.payload,r=e.pipelineContext.progressiveRender,a=t.view,s=o&&RM(o).updateMethod,l=r?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](e,i,n,o),HM[l]}function Oa(t,e,i){function n(){c=(new Date).getTime(),u=null,t.apply(a,s||[])}var o,r,a,s,l,h=0,c=0,u=null;e=e||0;var d=function(){o=(new Date).getTime(),a=this,s=arguments;var t=l||e,d=l||i;l=null,r=o-(d?h:c)-t,clearTimeout(u),d?u=setTimeout(n,t):r>=0?n():u=setTimeout(n,-r),h=o};return d.clear=function(){u&&(clearTimeout(u),u=null)},d.debounceNextCall=function(t){l=t},d}function Pa(t,e,i,n){var o=t[e];if(o){var r=o[VM]||o,a=o[FM];if(o[WM]!==i||a!==n){if(null==i||!n)return t[e]=r;o=t[e]=Oa(r,i,"debounce"===n),o[VM]=r,o[FM]=n,o[WM]=i}return o}}function Na(t,e){var i=t[e];i&&i[VM]&&(t[e]=i[VM])}function Ra(t,e,i,n){this.ecInstance=t,this.api=e,this.unfinished;var i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice();this._allHandlers=i.concat(n),this._stageTaskMap=z()}function za(t,e,i,n,o){function r(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}o=o||{};var a;d(e,function(e,s){if(!o.visualType||o.visualType===e.visualType){var l=t._stageTaskMap.get(e.uid),h=l.seriesTaskMap,c=l.overallTask;if(c){var u,d=c.agentStubMap;d.each(function(t){r(o,t)&&(t.dirty(),u=!0)}),u&&c.dirty(),ZM(c,n);var f=t.getPerformArgs(c,o.block);d.each(function(t){t.perform(f)}),a|=c.perform(f)}else h&&h.each(function(s,l){r(o,s)&&s.dirty();var h=t.getPerformArgs(s,o.block)
;h.skip=!e.performRawSeries&&i.isSeriesFiltered(s.context.model),ZM(s,n),a|=s.perform(h)})}}),t.unfinished|=a}function Ba(t,e,i,n,o){function r(i){var r=i.uid,s=a.get(r)||a.set(r,ma({plan:Ga,reset:ja,count:Ua}));s.context={model:i,ecModel:n,api:o,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},qa(t,i,s)}var a=i.seriesTaskMap||(i.seriesTaskMap=z()),s=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?n.eachRawSeries(r):s?n.eachRawSeriesByType(s,r):l&&l(n,o).each(r);var h=t._pipelineMap;a.each(function(t,e){h.get(e)||(t.dispose(),a.removeKey(e))})}function Ha(t,e,i,n,o){function r(e){var i=e.uid,n=s.get(i);n||(n=s.set(i,ma({reset:Wa,onDirty:$a})),a.dirty()),n.context={model:e,overallProgress:c,modifyOutputEnd:u},n.agent=a,n.__block=c,qa(t,e,n)}var a=i.overallTask=i.overallTask||ma({reset:Va});a.context={ecModel:n,api:o,overallReset:e.overallReset,scheduler:t};var s=a.agentStubMap=a.agentStubMap||z(),l=e.seriesType,h=e.getTargetSeries,c=!0,u=e.modifyOutputEnd;l?n.eachRawSeriesByType(l,r):h?h(n,o).each(r):(c=!1,d(n.getSeries(),r));var f=t._pipelineMap;s.each(function(t,e){f.get(e)||(t.dispose(),a.dirty(),s.removeKey(e))})}function Va(t){t.overallReset(t.ecModel,t.api,t.payload)}function Wa(t,e){return t.overallProgress&&Fa}function Fa(){this.agent.dirty(),this.getDownstream().dirty()}function $a(){this.agent&&this.agent.dirty()}function Ga(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function ja(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=ki(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?f(e,function(t,e){return Ya(e)}):XM}function Ya(t){return function(e,i){var n=i.data,o=i.resetDefines[t];if(o&&o.dataEach)for(var r=e.start;r<e.end;r++)o.dataEach(n,r);else o&&o.progress&&o.progress(e,n)}}function Ua(t){return t.data.count()}function qa(t,e,i){var n=e.uid,o=t._pipelineMap.get(n);!o.head&&(o.head=i),o.tail&&o.tail.pipe(i),o.tail=i,i.__idxInPipeline=o.count++,i.__pipeline=o}function Za(t){KM=null;try{t(QM,JM)}catch(t){}return KM}function Xa(t,e){for(var i in e.prototype)t[i]=H}function Ka(t){return function(e,i,n){e=e&&e.toLowerCase(),sw.prototype[t].call(this,e,i,n)}}function Qa(){sw.call(this)}function Ja(t,e,n){function o(t,e){return t.__prio-e.__prio}n=n||{},"string"==typeof e&&(e=IC[e]),this.id,this.group,this._dom=t;var r="canvas";Nx&&(r=("undefined"==typeof window?global:window).__ECHARTS__DEFAULT__RENDERER__||r);var a=this._zr=Mi(t,{renderer:n.renderer||r,devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=Oa(v(a.flush,a),17);var e=i(e);e&&wM(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Fr;var s=this._api=vs(this);ce(TC,o),ce(DC,o),this._scheduler=new Ra(this,s,DC,TC),sw.call(this),this._messageCenter=new Qa,this._initEvents(),this.resize=v(this.resize,this),this._pendingActions=[],a.animation.on("frame",this._onframe,this),ss(a,this),P(this)}function ts(t,e,i){var n,o=this._model,r=this._coordSysMgr.getCoordinateSystems();e=Wi(o,e);for(var a=0;a<r.length;a++){var s=r[a];if(s[t]&&null!=(n=s[t](o,e,i)))return n}Nx&&console.warn("No coordinate system that supports "+t+" found by the given finder.")}function es(t){var e=t._model,i=t._scheduler;i.restorePipelines(e),i.prepareStageTasks(),ls(t,"component",e,i),ls(t,"chart",e,i),i.plan()}function is(t,e,i,n,o){function r(n){n&&n.__alive&&n[e]&&n[e](n.__model,a,t._api,i)}var a=t._model;if(!n)return void aC(t._componentsViews.concat(t._chartsViews),r);var s={};s[n+"Id"]=i[n+"Id"],s[n+"Index"]=i[n+"Index"],s[n+"Name"]=i[n+"Name"];var l={mainType:n,query:s};o&&(l.subType=o);var h=i.excludeSeriesId;null!=h&&(h=z(ki(h))),a&&a.eachComponent(l,function(e){h&&null!=h.get(e.id)||r(t["series"===n?"_chartsMap":"_componentsMap"][e.__viewId])},t)}function ns(t,e){var i=t._chartsMap,n=t._scheduler;e.eachSeries(function(t){n.updateStreamModes(t,i[t.__viewId])})}function os(t,e){var i=t.type,n=t.escapeConnect,o=bC[i],s=o.actionInfo,l=(s.update||"update").split(":"),h=l.pop();l=null!=l[0]&&hC(l[0]),this[mC]=!0;var c=[t],u=!1;t.batch&&(u=!0,c=f(t.batch,function(e){return e=a(r({},e),t),e.batch=null,e}));var d,p=[],g="highlight"===i||"downplay"===i;aC(c,function(t){d=o.action(t,this._model,this._api),d=d||r({},t),d.type=s.event||d.type,p.push(d),g?is(this,h,t,"series"):l&&is(this,h,t,l.main,l.sub)},this),"none"===h||g||l||(this[vC]?(es(this),xC.update.call(this,t),this[vC]=!1):xC[h].call(this,t)),d=u?{type:s.event||i,escapeConnect:n,batch:p}:p[0],this[mC]=!1,!e&&this._messageCenter.trigger(d.type,d)}function rs(t){for(var e=this._pendingActions;e.length;){var i=e.shift();os.call(this,i,t)}}function as(t){!t&&this.trigger("updated")}function ss(t,e){t.on("rendered",function(){e.trigger("rendered"),!t.animation.isFinished()||e[vC]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")})}function ls(t,e,i,n){function o(t){var e="_ec_"+t.id+"_"+t.type,o=s[e];if(!o){var c=hC(t.type),u=r?OM.getClass(c.main,c.sub):Ia.getClass(c.sub);Nx&&rC(u,c.sub+" does not exist."),o=new u,o.init(i,h),s[e]=o,a.push(o),l.add(o.group)}t.__viewId=o.__id=e,o.__alive=!0,o.__model=t,o.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!r&&n.prepareView(o,t,i,h)}for(var r="component"===e,a=r?t._componentsViews:t._chartsViews,s=r?t._componentsMap:t._chartsMap,l=t._zr,h=t._api,c=0;c<a.length;c++)a[c].__alive=!1;r?i.eachComponent(function(t,e){"series"!==t&&o(e)}):i.eachSeries(o);for(var c=0;c<a.length;){var u=a[c];u.__alive?c++:(!r&&u.renderTask.dispose(),l.remove(u.group),u.dispose(i,h),a.splice(c,1),delete s[u.__id],u.__id=u.group.__ecComponentInfo=null)}}function hs(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function cs(t,e,i,n){us(t,e,i,n),aC(t._chartsViews,function(t){t.__alive=!1}),ds(t,e,i,n),aC(t._chartsViews,function(t){t.__alive||t.remove(e,i)})}function us(t,e,i,n,o){aC(o||t._componentsViews,function(t){var o=t.__model;t.render(o,e,i,n),ms(o,t)})}function ds(t,e,i,n,o){var r,a=t._scheduler;e.eachSeries(function(e){var i=t._chartsMap[e.__viewId];i.__alive=!0;var s=i.renderTask;a.updatePayload(s,n),o&&o.get(e.uid)&&s.dirty(),r|=s.perform(a.getPerformArgs(s)),i.group.silent=!!e.get("silent"),ms(e,i),gs(e,i)}),a.unfinished|=r,ps(t._zr,e),jM(t._zr.dom,e)}function fs(t,e){aC(CC,function(i){i(t,e)})}function ps(t,e){var i=t.storage,n=0;i.traverse(function(t){t.isGroup||n++}),n>e.get("hoverLayerThreshold")&&!Hx.node&&i.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)})}function gs(t,e){var i=t.get("blendMode")||null;Nx&&!Hx.canvasSupported&&i&&"source-over"!==i&&console.warn("Only canvas support blendMode"),e.group.traverse(function(t){t.isGroup||t.style.blend!==i&&t.setStyle("blend",i),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",i)})})}function ms(t,e){var i=t.get("z"),n=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=n&&(t.zlevel=n))})}function vs(t){var e=t._coordSysMgr;return r(new Wr(t),{getCoordinateSystems:v(e.getCoordinateSystems,e),getComponentByElement:function(e){for(;e;){var i=e.__ecComponentInfo;if(null!=i)return t._model.getComponent(i.mainType,i.index);e=e.parent}}})}function ys(t){function e(t,e){for(var n=0;n<t.length;n++){t[n][i]=e}}var i="__connectUpdateStatus";aC(SC,function(n,o){t._messageCenter.on(o,function(n){if(EC[t.group]&&0!==t[i]){if(n&&n.escapeConnect)return;var o=t.makeActionFromEvent(n),r=[];aC(kC,function(e){e!==t&&e.group===t.group&&r.push(e)}),e(r,0),aC(r,function(t){1!==t[i]&&t.dispatchAction(o)}),e(r,2)}})})}function _s(t,e,i){if(Nx){if(kb.replace(".","")-0<uC.zrender.replace(".","")-0)throw new Error("zrender/src "+kb+" is too old for ECharts "+cC+". Current version need ZRender "+uC.zrender+"+");if(!t)throw new Error("Initialize failed: invalid dom.")}var n=Ss(t);if(n)return Nx&&console.warn("There is a chart instance already initialized on the dom."),n;Nx&&(!M(t)||"CANVAS"===t.nodeName.toUpperCase()||(t.clientWidth||i&&null!=i.width)&&(t.clientHeight||i&&null!=i.height)||console.warn("Can't get dom width or height"));var o=new Ja(t,e,i);return o.id="ec_"+LC++,kC[o.id]=o,$i(t,PC,o.id),ys(o),o}function xs(t){if(_(t)){var e=t;t=null,aC(e,function(e){null!=e.group&&(t=e.group)}),t=t||"g_"+OC++,aC(e,function(e){e.group=t})}return EC[t]=!0,t}function ws(t){EC[t]=!1}function bs(t){"string"==typeof t?t=kC[t]:t instanceof Ja||(t=Ss(t)),t instanceof Ja&&!t.isDisposed()&&t.dispose()}function Ss(t){return kC[Gi(t,PC)]}function Ds(t){return kC[t]}function Ms(t,e){IC[t]=e}function Cs(t){MC.push(t)}function Ts(t,e){Ps(DC,t,e,dC)}function Is(t){CC.push(t)}function As(t,e,i){"function"==typeof e&&(i=e,e="");var n=lC(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,rC(yC.test(n)&&yC.test(e)),bC[n]||(bC[n]={action:i,actionInfo:t}),SC[e]=n}function ks(t,e){Fr.register(t,e)}function Es(t){var e=Fr.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function Ls(t,e){Ps(TC,t,e,fC,"layout")}function Os(t,e){Ps(TC,t,e,pC,"visual")}function Ps(t,e,i,n,o){if((sC(e)||lC(e))&&(i=e,e=n),Nx){if(isNaN(e)||null==e)throw new Error("Illegal priority");aC(t,function(t){rC(t.__raw!==i)})}var r=Ra.wrapStageHandler(i,o);return r.__prio=e,r.__raw=i,t.push(r),r}function Ns(t,e){AC[t]=e}function Rs(t){return jD.extend(t)}function zs(t){return OM.extend(t)}function Bs(t){return LM.extend(t)}function Hs(t){return Ia.extend(t)}function Vs(t){e("createCanvas",t)}function Ws(t,e,i){e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),NC[t]={geoJson:e,specialAreas:i}}function Fs(t){return NC[t]}function $s(t){return t}function Gs(t,e,i,n,o){this._old=t,this._new=e,this._oldKeyGetter=i||$s,this._newKeyGetter=n||$s,this.context=o}function js(t,e,i,n,o){for(var r=0;r<t.length;r++){var a="_ec_"+o[n](t[r],r),s=e[a];null==s?(i.push(a),e[a]=r):(s.length||(e[a]=s=[s]),s.push(r))}}function Ys(t){var e={},i=e.encode={},n=z(),o=[],r=[];d(t.dimensions,function(e){var a=t.getDimensionInfo(e),s=a.coordDim;if(s){Nx&&L(null==BC.get(s));var l=i[s];i.hasOwnProperty(s)||(l=i[s]=[]),l[a.coordDimIndex]=e,a.isExtraCoord||(n.set(s,1),qs(a.type)&&(o[0]=e)),a.defaultTooltip&&r.push(e)}BC.each(function(t,e){var n=i[e];i.hasOwnProperty(e)||(n=i[e]=[]);var o=a.otherDims[e];null!=o&&!1!==o&&(n[o]=a.name)})});var a=[],s={};n.each(function(t,e){var n=i[e];s[e]=n[0],a=a.concat(n)}),e.dataDimsOnCoord=a,e.encodeFirstDimNotExtra=s;var l=i.label;l&&l.length&&(o=l.slice());var h=i.tooltip;return h&&h.length?r=h.slice():r.length||(r=o.slice()),i.defaultedLabel=o,i.defaultedTooltip=r,e}function Us(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function qs(t){return!("ordinal"===t||"time"===t)}function Zs(t){return t._rawCount>65535?FC:$C}function Xs(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function Ks(t,e){d(GC.concat(e.__wrappedMethods||[]),function(i){e.hasOwnProperty(i)&&(t[i]=e[i])}),t.__wrappedMethods=e.__wrappedMethods,d(jC,function(n){t[n]=i(e[n])}),t._calculationInfo=r(e._calculationInfo)}function Qs(t){var e=t._invertedIndicesMap;d(e,function(i,n){var o=t._dimensionInfos[n],r=o.ordinalMeta;if(r){i=e[n]=new FC(r.categories.length);for(var a=0;a<i.length;a++)i[a]=NaN;for(var a=0;a<t._count;a++)i[t.get(n,a)]=a}})}function Js(t,e,i){var n;if(null!=e){var o=t._chunkSize,r=Math.floor(i/o),a=i%o,s=t.dimensions[e],l=t._storage[s][r];if(l){n=l[a];var h=t._dimensionInfos[s].ordinalMeta;h&&h.categories.length&&(n=h.categories[n])}}return n}function tl(t){return t}function el(t){return t<this._count&&t>=0?this._indices[t]:-1}function il(t,e){var i=t._idList[e];return null==i&&(i=Js(t,t._idDimIdx,e)),null==i&&(i=VC+e),i}function nl(t){return _(t)||(t=[t]),t}function ol(t,e){for(var i=0;i<e.length;i++)t._dimensionInfos[e[i]]||console.error("Unkown dimension "+e[i])}function rl(t,e){var i=t.dimensions,n=new YC(f(i,t.getDimensionInfo,t),t.hostModel);Ks(n,t);for(var o=n._storage={},r=t._storage,a=0;a<i.length;a++){var s=i[a];r[s]&&(l(e,s)>=0?(o[s]=al(r[s]),n._rawExtent[s]=sl(),n._extent[s]=null):o[s]=r[s])}return n}function al(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=Xs(t[i]);return e}function sl(){return[1/0,-1/0]}function ll(t,e,n){function o(t,e,i){null!=BC.get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,c.set(e,!0))}xr.isInstance(e)||(e=xr.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var s=(n.dimsDef||[]).slice(),l=z(n.encodeDef),h=z(),c=z(),u=[],f=hl(e,t,s,n.dimCount),p=0;p<f;p++){var g=s[p]=r({},b(s[p])?s[p]:{name:s[p]}),m=g.name,v=u[p]={otherDims:{}};null!=m&&null==h.get(m)&&(v.name=v.displayName=m,h.set(m,p)),null!=g.type&&(v.type=g.type),null!=g.displayName&&(v.displayName=g.displayName)}l.each(function(t,e){t=ki(t).slice();var i=l.set(e,[]);d(t,function(t,n){w(t)&&(t=h.get(t)),null!=t&&t<f&&(i[n]=t,o(u[t],e,n))})});var y=0;d(t,function(t,e){var n,t,r,s;if(w(t))n=t,t={};else{n=t.name;var h=t.ordinalMeta;t.ordinalMeta=null,t=i(t),t.ordinalMeta=h,r=t.dimsDef,s=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}var c=ki(l.get(n));if(!c.length)for(var f=0;f<(r&&r.length||1);f++){for(;y<u.length&&null!=u[y].coordDim;)y++;y<u.length&&c.push(y++)}d(c,function(e,i){var l=u[e];if(o(a(l,t),n,i),null==l.name&&r){var h=r[i];!b(h)&&(h={name:h}),l.name=l.displayName=h.name,l.defaultTooltip=h.defaultTooltip}s&&a(l.otherDims,s)})});var _=n.generateCoord,x=n.generateCoordCount,S=null!=x;x=_?x||1:0;for(var D=_||"value",M=0;M<f;M++){var v=u[M]=u[M]||{};null==v.coordDim&&(v.coordDim=cl(D,c,S),v.coordDimIndex=0,(!_||x<=0)&&(v.isExtraCoord=!0),x--),null==v.name&&(v.name=cl(v.coordDim,h)),null==v.type&&Er(e,M,v.name)&&(v.type="ordinal")}return u}function hl(t,e,i,n){var o=Math.max(t.dimensionsDetectCount||1,e.length,i.length,n||0);return d(e,function(t){var e=t.dimsDef;e&&(o=Math.max(o,e.length))}),o}function cl(t,e,i){if(i||null!=e.get(t)){for(var n=0;null!=e.get(t+n);)n++;t+=n}return e.set(t,!0),t}function ul(t,e,i){i=i||{};var n,o,r,a,s=i.byIndex,l=i.stackedCoordDimension,h=!(!t||!t.get("stack"));if(d(e,function(t,i){w(t)&&(e[i]=t={name:t}),h&&!t.isExtraCoord&&(s||n||!t.ordinalMeta||(n=t),o||"ordinal"===t.type||"time"===t.type||l&&l!==t.coordDim||(o=t))}),!o||s||n||(s=!0),o){r="__\0ecstackresult",a="__\0ecstackedover",n&&(n.createInvertedIndices=!0);var c=o.coordDim,u=o.type,f=0;d(e,function(t){t.coordDim===c&&f++}),e.push({name:r,coordDim:c,coordDimIndex:f,type:u,isExtraCoord:!0,isCalculationCoord:!0}),f++,e.push({name:a,coordDim:a,coordDimIndex:f,type:u,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:o&&o.name,stackedByDimension:n&&n.name,isStackedByIndex:s,stackedOverDimension:a,stackResultDimension:r}}function dl(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function fl(t,e){return dl(t,e)?t.getCalculationInfo("stackResultDimension"):e}function pl(t,e,i){i=i||{},xr.isInstance(t)||(t=xr.seriesDataToSource(t));var n,o=e.get("coordinateSystem"),r=Fr.get(o),a=yr(e);a&&(n=f(a.coordSysDims,function(t){var e={name:t},i=a.axisMap.get(t);if(i){var n=i.get("type");e.type=Us(n)}return e})),n||(n=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]);var s,l,h=ZC(t,{coordDimensions:n,generateCoord:i.generateCoord});a&&d(h,function(t,e){var i=t.coordDim,n=a.categoryAxisMap.get(i);n&&(null==s&&(s=e),t.ordinalMeta=n.getOrdinalMeta()),null!=t.otherDims.itemName&&(l=!0)}),l||null==s||(h[s].otherDims.itemName=0);var c=ul(e,h),u=new YC(h,e);u.setCalculationInfo(c);var p=null!=s&&gl(t)?function(t,e,i,n){return n===s?i:this.defaultDimValueGetter(t,e,i,n)}:null;return u.hasItemOption=!1,u.initData(t,null,p),u}function gl(t){if(t.sourceFormat===KD){var e=ml(t.data||[]);return null!=e&&!_(Li(e))}}function ml(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function vl(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function yl(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function _l(t){return t._map||(t._map=z(t.categories))}function xl(t){return b(t)&&null!=t.value?t.value:t+""}function wl(t,e,i,n){var o={},r=t[1]-t[0],a=o.interval=Xo(r/e,!0);null!=i&&a<i&&(a=o.interval=i),null!=n&&a>n&&(a=o.interval=n);var s=o.intervalPrecision=bl(a);return Dl(o.niceTickExtent=[JC(Math.ceil(t[0]/a)*a,s),JC(Math.floor(t[1]/a)*a,s)],t),o}function bl(t){return Fo(t)+2}function Sl(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function Dl(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),Sl(t,0,e),Sl(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function Ml(t,e,i,n){var o=[];if(!t)return o;e[0]<i[0]&&o.push(e[0]);for(var r=i[0];r<=i[1]&&(o.push(r),(r=JC(r+t,n))!==o[o.length-1]);)if(o.length>1e4)return[];return e[1]>(o.length?o[o.length-1]:i[1])&&o.push(e[1]),o}function Cl(t){return t.get("stack")||iT+t.seriesIndex}function Tl(t){return t.dim+t.index}function Il(t){var e=[],i=t.axis;if("category"===i.type){for(var n=i.getBandWidth(),o=0;o<t.count;o++)e.push(a({bandWidth:n,axisKey:"axis0",stackId:iT+o},t));for(var r=El(e),s=[],o=0;o<t.count;o++){var l=r.axis0[iT+o];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}function Al(t,e){var i=[];return e.eachSeriesByType(t,function(t){Pl(t)&&!Nl(t)&&i.push(t)}),i}function kl(t){var e=[];return d(t,function(t){var i=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),r=o.getExtent(),a="category"===o.type?o.getBandWidth():Math.abs(r[1]-r[0])/i.count(),s=Bo(t.get("barWidth"),a),l=Bo(t.get("barMaxWidth"),a),h=t.get("barGap"),c=t.get("barCategoryGap");e.push({bandWidth:a,barWidth:s,barMaxWidth:l,barGap:h,barCategoryGap:c,axisKey:Tl(o),stackId:Cl(t)})}),El(e)}function El(t){var e={};d(t,function(t,i){var n=t.axisKey,o=t.bandWidth,r=e[n]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},a=r.stacks;e[n]=r;var s=t.stackId;a[s]||r.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(r.remainedWidth,l),r.remainedWidth-=l);var h=t.barMaxWidth;h&&(a[s].maxWidth=h);var c=t.barGap;null!=c&&(r.gap=c);var u=t.barCategoryGap;null!=u&&(r.categoryGap=u)});var i={};return d(e,function(t,e){i[e]={};var n=t.stacks,o=t.bandWidth,r=Bo(t.categoryGap,o),a=Bo(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,h=(s-r)/(l+(l-1)*a);h=Math.max(h,0),d(n,function(t,e){var i=t.maxWidth;i&&i<h&&(i=Math.min(i,s),t.width&&(i=Math.min(i,t.width)),s-=i,t.width=i,l--)}),h=(s-r)/(l+(l-1)*a),h=Math.max(h,0);var c,u=0;d(n,function(t,e){t.width||(t.width=h),c=t,u+=t.width*(1+a)}),c&&(u-=c.width*a);var f=-u/2;d(n,function(t,n){i[e][n]=i[e][n]||{offset:f,width:t.width},f+=t.width*(1+a)})}),i}function Ll(t,e,i){if(t&&e){var n=t[Tl(e)];return null!=n&&null!=i&&(n=n[Cl(i)]),n}}function Ol(t,e){var i=Al(t,e),n=kl(i),o={};d(i,function(t){var e=t.getData(),i=t.coordinateSystem,r=i.getBaseAxis(),a=Cl(t),s=n[Tl(r)][a],l=s.offset,h=s.width,c=i.getOtherAxis(r),u=t.get("barMinHeight")||0;o[a]=o[a]||[],e.setLayout({offset:l,size:h});for(var d=e.mapDimension(c.dim),f=e.mapDimension(r.dim),p=dl(e,d),g=c.isHorizontal(),m=Rl(r,c,p),v=0,y=e.count();v<y;v++){var _=e.get(d,v),x=e.get(f,v);if(!isNaN(_)){var w=_>=0?"p":"n",b=m;p&&(o[a][x]||(o[a][x]={p:m,n:m}),b=o[a][x][w]);var S,D,M,C;if(g){var T=i.dataToPoint([_,x]);S=b,D=T[1]+l,M=T[0]-m,C=h,Math.abs(M)<u&&(M=(M<0?-1:1)*u),p&&(o[a][x][w]+=M)}else{var T=i.dataToPoint([x,_]);S=T[0]+l,D=b,M=h,C=T[1]-m,Math.abs(C)<u&&(C=(C<=0?-1:1)*u),p&&(o[a][x][w]+=C)}e.setItemLayout(v,{x:S,y:D,width:M,height:C})}}},this)}function Pl(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Nl(t){return t.pipelineContext&&t.pipelineContext.large}function Rl(t,e,i){return l(t.getAxesOnZeroOf(),e)>=0||i?e.toGlobalCoord(e.dataToCoord(0)):e.getGlobalExtent()[0]}function zl(t,e){return pT(t,fT(e))}function Bl(t,e){var i,n,o,r=t.type,a=e.getMin(),s=e.getMax(),l=null!=a,h=null!=s,c=t.getExtent();"ordinal"===r?i=e.getCategories().length:(n=e.get("boundaryGap"),_(n)||(n=[n||0,n||0]),"boolean"==typeof n[0]&&(Nx&&console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),n=[0,0]),n[0]=Bo(n[0],1),n[1]=Bo(n[1],1),o=c[1]-c[0]||Math.abs(c[0])),null==a&&(a="ordinal"===r?i?0:NaN:c[0]-n[0]*o),null==s&&(s="ordinal"===r?i?i-1:NaN:c[1]+n[1]*o),"dataMin"===a?a=c[0]:"function"==typeof a&&(a=a({min:c[0],max:c[1]})),"dataMax"===s?s=c[1]:"function"==typeof s&&(s=s({min:c[0],max:c[1]})),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN),t.setBlank(C(a)||C(s)||"ordinal"===r&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(a>0&&s>0&&!l&&(a=0),a<0&&s<0&&!h&&(s=0));var u=e.ecModel;if(u&&"time"===r){var f,p=Al("bar",u);if(d(p,function(t){f|=t.getBaseAxis()===e.axis}),f){var g=kl(p),m=Hl(a,s,e,g);a=m.min,s=m.max}}return[a,s]}function Hl(t,e,i,n){var o=i.axis.getExtent(),r=o[1]-o[0],a=Ll(n,i.axis);if(void 0===a)return{min:t,max:e};var s=1/0;d(a,function(t){s=Math.min(t.offset,s)});var l=-1/0;d(a,function(t){l=Math.max(t.offset+t.width,l)}),s=Math.abs(s),l=Math.abs(l);var h=s+l,c=e-t,u=1-(s+l)/r,f=c/u-c;return e+=f*(l/h),t-=f*(s/h),{min:t,max:e}}function Vl(t,e){var i=Bl(t,e),n=null!=e.getMin(),o=null!=e.getMax(),r=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var a=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:r,fixMin:n,fixMax:o,minInterval:"interval"===a||"time"===a?e.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s)}function Wl(t,e){if(e=e||t.get("type"))switch(e){case"category":return new QC(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new eT;default:return(vl.getClass(e)||eT).create(t)}}function Fl(t){var e=t.scale.getExtent(),i=e[0],n=e[1];return!(i>0&&n>0||i<0&&n<0)}function $l(t){var e=t.getLabelModel().get("formatter"),i="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof e?e=function(t){return function(e){return t.replace("{value}",null!=e?e:"")}}(e):"function"==typeof e?function(n,o){return null!=i&&(o=n-i),e(Gl(t,n),o)}:function(e){return t.scale.getLabel(e)}}function Gl(t,e){return"category"===t.type?t.scale.getLabel(e):e}function jl(t){var e=t.model,i=t.scale;if(e.get("axisLabel.show")&&!i.isBlank()){var n,o,r="category"===t.type,a=i.getExtent();r?o=i.count():(n=i.getTicks(),o=n.length);var s,l=t.getLabelModel(),h=$l(t),c=1;o>40&&(c=Math.ceil(o/40));for(var u=0;u<o;u+=c){var d=n?n[u]:a[0]+u,f=h(d),p=l.getTextRect(f),g=Yl(p,l.get("rotate")||0);s?s.union(g):s=g}return s}}function Yl(t,e){var i=e*Math.PI/180,n=t.plain(),o=n.width,r=n.height,a=o*Math.cos(i)+r*Math.sin(i),s=o*Math.sin(i)+r*Math.cos(i);return new ie(n.x,n.y,a,s)}function Ul(t,e){if("image"!==this.type){var i=this.style,n=this.shape;n&&"line"===n.symbolType?i.stroke=t:this.__isEmptyBrush?(i.stroke=t,i.fill=e||"#fff"):(i.fill&&(i.fill=t),i.stroke&&(i.stroke=t)),this.dirty(!1)}}function ql(t,e,i,n,o,r,a){var s=0===t.indexOf("empty");s&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var l;return l=0===t.indexOf("image://")?Yn(t.slice(8),new ie(e,i,n,o),a?"center":"cover"):0===t.indexOf("path://")?jn(t.slice(7),{},new ie(e,i,n,o),a?"center":"cover"):new IT({shape:{symbolType:t,x:e,y:i,width:n,height:o}}),l.__isEmptyBrush=s,l.setColor=Ul,l.setColor(r),l}function Zl(t){return pl(t.getSource(),t)}function Xl(t,e){var i=e;Lo.isInstance(e)||(i=new Lo(e),c(i,xT));var n=Wl(i);return n.setExtent(t[0],t[1]),Vl(n,i),n}function Kl(t){c(t,xT)}function Ql(t,e){return Math.abs(t-e)<ET}function Jl(t,e,i){var n=0,o=t[0];if(!o)return!1;for(var r=1;r<t.length;r++){var a=t[r];n+=Sn(o[0],o[1],a[0],a[1],e,i),o=a}var s=t[0];return Ql(o[0],s[0])&&Ql(o[1],s[1])||(n+=Sn(o[0],o[1],s[0],s[1],e,i)),0!==n}function th(t,e,i){if(this.name=t,this.geometries=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}function eh(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var i=t.features,n=0;n<i.length;n++)for(var o=i[n],r=o.geometry,a=r.coordinates,s=r.encodeOffsets,l=0;l<a.length;l++){var h=a[l];if("Polygon"===r.type)a[l]=ih(h,s[l],e);else if("MultiPolygon"===r.type)for(var c=0;c<h.length;c++){var u=h[c];h[c]=ih(u,s[l][c],e)}}return t.UTF8Encoding=!1,t}function ih(t,e,i){for(var n=[],o=e[0],r=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,l=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),s+=o,l+=r,o=s,r=l,n.push([s/i,l/i])}return n}function nh(t){return"category"===t.type?rh(t):lh(t)}function oh(t,e){return"category"===t.type?sh(t,e):{ticks:t.scale.getTicks()}}function rh(t){var e=t.getLabelModel(),i=ah(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}function ah(t,e){var i=hh(t,"labels"),n=vh(e),o=ch(i,n);if(o)return o;var r,a;return x(n)?r=mh(t,n):(a="auto"===n?dh(t):n,r=gh(t,a)),uh(i,n,{labels:r,labelCategoryInterval:a})}function sh(t,e){var i=hh(t,"ticks"),n=vh(e),o=ch(i,n);if(o)return o;var r,a;if(e.get("show")&&!t.scale.isBlank()||(r=[]),x(n))r=mh(t,n,!0);else if("auto"===n){var s=ah(t,t.getLabelModel());a=s.labelCategoryInterval,r=f(s.labels,function(t){return t.tickValue})}else a=n,r=gh(t,a,!0);return uh(i,n,{ticks:r,tickCategoryInterval:a})}function lh(t){var e=t.scale.getTicks(),i=$l(t);return{labels:f(e,function(e,n){return{formattedLabel:i(e,n),rawLabel:t.scale.getLabel(e),tickValue:e}})}}function hh(t,e){return OT(t)[e]||(OT(t)[e]=[])}function ch(t,e){for(var i=0;i<t.length;i++)if(t[i].key===e)return t[i].value}function uh(t,e,i){return t.push({key:e,value:i}),i}function dh(t){var e=OT(t).autoInterval;return null!=e?e:OT(t).autoInterval=t.calculateCategoryInterval()}function fh(t){var e=ph(t),i=$l(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,o=t.scale,r=o.getExtent(),a=o.count();if(r[1]-r[0]<1)return 0;var s=1;a>40&&(s=Math.max(1,Math.floor(a/40)));for(var l=r[0],h=t.dataToCoord(l+1)-t.dataToCoord(l),c=Math.abs(h*Math.cos(n)),u=Math.abs(h*Math.sin(n)),d=0,f=0;l<=r[1];l+=s){var p=0,g=0,m=we(i(l),e.font,"center","top");p=1.3*m.width,g=1.3*m.height,d=Math.max(d,p,7),f=Math.max(f,g,7)}var v=d/c,y=f/u;isNaN(v)&&(v=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(v,y))),x=OT(t.model),w=x.lastAutoInterval,b=x.lastTickCount;return null!=w&&null!=b&&Math.abs(w-_)<=1&&Math.abs(b-a)<=1&&w>_?_=w:(x.lastTickCount=a,x.lastAutoInterval=_),_}function ph(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function gh(t,e,i){function n(t){l.push(i?t:{formattedLabel:o(t),rawLabel:r.getLabel(t),tickValue:t})}var o=$l(t),r=t.scale,a=r.getExtent(),s=t.getLabelModel(),l=[],h=Math.max((e||0)+1,1),c=a[0],u=r.count();0!==c&&h>1&&u/h>2&&(c=Math.round(Math.ceil(c/h)*h));var d={min:s.get("showMinLabel"),max:s.get("showMaxLabel")};d.min&&c!==a[0]&&n(a[0]);for(var f=c;f<=a[1];f+=h)n(f);return d.max&&f!==a[1]&&n(a[1]),l}function mh(t,e,i){var n=t.scale,o=$l(t),r=[];return d(n.getTicks(),function(t){var a=n.getLabel(t);e(t,a)&&r.push(i?t:{formattedLabel:o(t),rawLabel:a,tickValue:t})}),r}function vh(t){var e=t.get("interval");return null==e?"auto":e}function yh(t,e){var i=t[1]-t[0],n=e,o=i/n/2;t[0]+=o,t[1]-=o}function _h(t,e,i,n,o){function r(t,e){return c?t>e:t<e}var a=e.length;if(t.onBand&&!n&&a){var s,l=t.getExtent();if(1===a)e[0].coord=l[0],s=e[1]={coord:l[0]};else{var h=e[1].coord-e[0].coord;d(e,function(t){t.coord-=h/2;var e=e||0;e%2>0&&(t.coord-=h/(2*(e+1)))}),s={coord:e[a-1].coord+h},e.push(s)}var c=l[0]>l[1];r(e[0].coord,l[0])&&(o?e[0].coord=l[0]:e.shift()),o&&r(l[0],e[0].coord)&&e.unshift({coord:l[0]}),r(l[1],s.coord)&&(o?s.coord=l[1]:e.pop()),o&&r(s.coord,l[1])&&e.push({coord:l[1]})}}function xh(t,e){var i=t.mapDimension("defaultedLabel",!0),n=i.length;if(1===n)return pa(t,e,i[0]);if(n){for(var o=[],r=0;r<i.length;r++){var a=pa(t,e,i[r]);o.push(a)}return o.join(" ")}}function wh(t,e,i){Ww.call(this),this.updateData(t,e,i)}function bh(t){return[t[0]/2,t[1]/2]}function Sh(t,e){this.parent.drift(t,e)}function Dh(t){this.group=new Ww,this._symbolCtor=t||wh}function Mh(t,e,i,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(i,"symbol")}function Ch(t){return null==t||b(t)||(t={isIgnore:t}),t||{}}function Th(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}function Ih(t,e,i){var n,o=t.getBaseAxis(),r=t.getOtherAxis(o),a=Ah(r,i),s=o.dim,l=r.dim,h=e.mapDimension(l),c=e.mapDimension(s),u="x"===l||"radius"===l?1:0,d=f(t.dimensions,function(t){return e.mapDimension(t)}),p=e.getCalculationInfo("stackResultDimension");return(n|=dl(e,d[0]))&&(d[0]=p),(n|=dl(e,d[1]))&&(d[1]=p),{dataDimsForPoint:d,valueStart:a,valueAxisDim:l,baseAxisDim:s,stacked:!!n,valueDim:h,baseDim:c,baseDataOffset:u,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Ah(t,e){var i=0,n=t.scale.getExtent();return"start"===e?i=n[0]:"end"===e?i=n[1]:n[0]>0?i=n[0]:n[1]<0&&(i=n[1]),i}function kh(t,e,i,n){var o=NaN;t.stacked&&(o=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(o)&&(o=t.valueStart);var r=t.baseDataOffset,a=[];return a[r]=i.get(t.baseDim,n),a[1-r]=o,e.dataToPoint(a)}function Eh(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:"+",idx:t})}).update(function(t,e){i.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){i.push({cmd:"-",idx:t})}).execute(),i}function Lh(t){return isNaN(t[0])||isNaN(t[1])}function Oh(t,e,i,n,o,r,a,s,l,h,c){return"none"!==h&&h?Ph.apply(this,arguments):Nh.apply(this,arguments)}function Ph(t,e,i,n,o,r,a,s,l,h,c){for(var u=0,d=i,f=0;f<n;f++){var p=e[d];if(d>=o||d<0)break;if(Lh(p)){if(c){d+=r;continue}break}if(d===i)t[r>0?"moveTo":"lineTo"](p[0],p[1]);else if(l>0){var g=e[u],m="y"===h?1:0,v=(p[m]-g[m])*l;ZT(KT,g),KT[m]=g[m]+v,ZT(QT,p),QT[m]=p[m]-v,t.bezierCurveTo(KT[0],KT[1],QT[0],QT[1],p[0],p[1])}else t.lineTo(p[0],p[1]);u=d,d+=r}return f}function Nh(t,e,i,n,o,r,a,s,l,h,c){for(var u=0,d=i,f=0;f<n;f++){var p=e[d];if(d>=o||d<0)break;if(Lh(p)){if(c){d+=r;continue}break}if(d===i)t[r>0?"moveTo":"lineTo"](p[0],p[1]),ZT(KT,p);else if(l>0){var g=d+r,m=e[g];if(c)for(;m&&Lh(e[g]);)g+=r,m=e[g];var v=.5,y=e[u],m=e[g];if(!m||Lh(m))ZT(QT,p);else{Lh(m)&&!c&&(m=p),Y(XT,m,y);var _,x;if("x"===h||"y"===h){var w="x"===h?0:1;_=Math.abs(p[w]-y[w]),x=Math.abs(p[w]-m[w])}else _=nw(p,y),x=nw(p,m);v=x/(x+_),qT(QT,p,XT,-l*(1-v))}YT(KT,KT,s),UT(KT,KT,a),YT(QT,QT,s),UT(QT,QT,a),t.bezierCurveTo(KT[0],KT[1],QT[0],QT[1],p[0],p[1]),qT(KT,p,XT,l*v)}else t.lineTo(p[0],p[1]);u=d,d+=r}return f}function Rh(t,e){var i=[1/0,1/0],n=[-1/0,-1/0];if(e)for(var o=0;o<t.length;o++){var r=t[o];r[0]<i[0]&&(i[0]=r[0]),r[1]<i[1]&&(i[1]=r[1]),r[0]>n[0]&&(n[0]=r[0]),r[1]>n[1]&&(n[1]=r[1])}return{min:e?i:n,max:e?n:i}}function zh(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],o=e[i];if(n[0]!==o[0]||n[1]!==o[1])return}return!0}}function Bh(t){return"number"==typeof t?t:t?.5:0}function Hh(t){var e=t.getGlobalExtent();if(t.onBand){var i=t.getBandWidth()/2-1,n=e[1]>e[0]?1:-1;e[0]+=n*i,e[1]-=n*i}return e}function Vh(t,e,i){if(!i.valueDim)return[];for(var n=[],o=0,r=e.count();o<r;o++)n.push(kh(i,t,e,o));return n}function Wh(t,e,i,n){var o=Hh(t.getAxis("x")),r=Hh(t.getAxis("y")),a=t.getBaseAxis().isHorizontal(),s=Math.min(o[0],o[1]),l=Math.min(r[0],r[1]),h=Math.max(o[0],o[1])-s,c=Math.max(r[0],r[1])-l;if(i)s-=.5,h+=.5,l-=.5,c+=.5;else{
var u=n.get("lineStyle.width")||2,d=n.get("clipOverflow")?u/2:Math.max(h,c);a?(l-=d,c+=2*d):(s-=d,h+=2*d)}var f=new oD({shape:{x:s,y:l,width:h,height:c}});return e&&(f.shape[a?"width":"height"]=0,Do(f,{shape:{width:h,height:c}},n)),f}function Fh(t,e,i,n){var o=t.getAngleAxis(),r=t.getRadiusAxis(),a=r.getExtent().slice();a[0]>a[1]&&a.reverse();var s=o.getExtent(),l=Math.PI/180;i&&(a[0]-=.5,a[1]+=.5);var h=new QS({shape:{cx:Ho(t.cx,1),cy:Ho(t.cy,1),r0:Ho(a[0],1),r:Ho(a[1],1),startAngle:-s[0]*l,endAngle:-s[1]*l,clockwise:o.inverse}});return e&&(h.shape.endAngle=-s[0]*l,Do(h,{shape:{endAngle:-s[1]*l}},n)),h}function $h(t,e,i,n){return"polar"===t.type?Fh(t,e,i,n):Wh(t,e,i,n)}function Gh(t,e,i){for(var n=e.getBaseAxis(),o="x"===n.dim||"radius"===n.dim?0:1,r=[],a=0;a<t.length-1;a++){var s=t[a+1],l=t[a];r.push(l);var h=[];switch(i){case"end":h[o]=s[o],h[1-o]=l[1-o],r.push(h);break;case"middle":var c=(l[o]+s[o])/2,u=[];h[o]=u[o]=c,h[1-o]=l[1-o],u[1-o]=s[1-o],r.push(h),r.push(u);break;default:h[o]=l[o],h[1-o]=s[1-o],r.push(h)}}return t[a]&&r.push(t[a]),r}function jh(t,e){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()){if("cartesian2d"!==e.type)return void(Nx&&console.warn("Visual map on line style is only supported on cartesian2d."));for(var n,o,r=i.length-1;r>=0;r--){var a=i[r].dimension,s=t.dimensions[a],l=t.getDimensionInfo(s);if("x"===(n=l&&l.coordDim)||"y"===n){o=i[r];break}}if(!o)return void(Nx&&console.warn("Visual map on line style only support x or y dimension."));var h=e.getAxis(n),c=f(o.stops,function(t){return{coord:h.toGlobalCoord(h.dataToCoord(t.value)),color:t.color}}),u=c.length,p=o.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),p.reverse());var g=c[0].coord-10,m=c[u-1].coord+10,v=m-g;if(v<.001)return"transparent";d(c,function(t){t.offset=(t.coord-g)/v}),c.push({offset:u?c[u-1].offset:.5,color:p[1]||"transparent"}),c.unshift({offset:u?c[0].offset:.5,color:p[0]||"transparent"});var y=new uD(0,0,0,0,c,!0);return y[n]=g,y[n+"2"]=m,y}}function Yh(t,e,i){var n=t.get("showAllSymbol"),o="auto"===n;if(!n||o){var r=i.getAxesByScale("ordinal")[0];if(r&&(!o||!Uh(r,e))){var a=e.mapDimension(r.dim),s={};return d(r.getViewLabels(),function(t){s[t.tickValue]=1}),function(t){return!s.hasOwnProperty(e.get(a,t))}}}}function Uh(t,e){var i=t.getExtent(),n=Math.abs(i[1]-i[0])/t.scale.count();isNaN(n)&&(n=0);for(var o=e.count(),r=Math.max(1,Math.round(o/5)),a=0;a<o;a+=r)if(1.5*wh.getSymbolSize(e,a)[t.isHorizontal()?1:0]>n)return!1;return!0}function qh(t){return this._axes[t]}function Zh(t){rI.call(this,t)}function Xh(t,e){return e.type||(e.data?"category":"value")}function Kh(t,e,i){return t.getCoordSysModel()===e}function Qh(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this.model=t}function Jh(t,e,i){i.getAxesOnZeroOf=function(){return n?[n]:[]};var n,o=t[e],r=i.model,a=r.get("axisLine.onZero"),s=r.get("axisLine.onZeroAxisIndex");if(a){if(null!=s)return void(tc(o[s])&&(n=o[s]));for(var l in o)if(o.hasOwnProperty(l)&&tc(o[l])){n=o[l];break}}}function tc(t){return t&&"category"!==t.type&&"time"!==t.type&&Fl(t)}function ec(t,e){var i=t.getExtent(),n=i[0]+i[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}}function ic(t,e){return f(pI,function(e){var i=t.getReferringComponents(e)[0];if(Nx&&!i)throw new Error(e+' "'+T(t.get(e+"Index"),t.get(e+"Id"),0)+'" not found');return i})}function nc(t){return"cartesian2d"===t.get("coordinateSystem")}function oc(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}function rc(t,e,i,n){var o,r,a=jo(i-t.rotation),s=n[0]>n[1],l="start"===e&&!s||"start"!==e&&s;return Yo(a-gI/2)?(r=l?"bottom":"top",o="center"):Yo(a-1.5*gI)?(r=l?"top":"bottom",o="center"):(r="middle",o=a<1.5*gI&&a>gI/2?l?"left":"right":l?"right":"left"),{rotation:a,textAlign:o,textVerticalAlign:r}}function ac(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function sc(t,e,i){var n=t.get("axisLabel.showMinLabel"),o=t.get("axisLabel.showMaxLabel");e=e||[],i=i||[];var r=e[0],a=e[1],s=e[e.length-1],l=e[e.length-2],h=i[0],c=i[1],u=i[i.length-1],d=i[i.length-2];!1===n?(lc(r),lc(h)):hc(r,a)&&(n?(lc(a),lc(c)):(lc(r),lc(h))),!1===o?(lc(s),lc(u)):hc(l,s)&&(o?(lc(l),lc(d)):(lc(s),lc(u)))}function lc(t){t&&(t.ignore=!0)}function hc(t,e,i){var n=t&&t.getBoundingRect().clone(),o=e&&e.getBoundingRect().clone();if(n&&o){var r=ft([]);return vt(r,r,-t.rotation),n.applyTransform(gt([],r,t.getLocalTransform())),o.applyTransform(gt([],r,e.getLocalTransform())),n.intersect(o)}}function cc(t){return"middle"===t||"center"===t}function uc(t,e,i){var n=e.axis;if(e.get("axisTick.show")&&!n.scale.isBlank()){for(var o=e.getModel("axisTick"),r=o.getModel("lineStyle"),s=o.get("length"),l=n.getTicksCoords(),h=[],c=[],u=t._transform,d=[],f=0;f<l.length;f++){var p=l[f].coord;h[0]=p,h[1]=0,c[0]=p,c[1]=i.tickDirection*s,u&&(ot(h,h,u),ot(c,c,u));var g=new rD(Zn({anid:"tick_"+l[f].tickValue,shape:{x1:h[0],y1:h[1],x2:c[0],y2:c[1]},style:a(r.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));t.group.add(g),d.push(g)}return d}}function dc(t,e,i){var n=e.axis;if(T(i.axisLabelShow,e.get("axisLabel.show"))&&!n.scale.isBlank()){var o=e.getModel("axisLabel"),r=o.get("margin"),a=n.getViewLabels(),s=(T(i.labelRotate,o.get("rotate"))||0)*gI/180,l=yI(i.rotation,s,i.labelDirection),h=e.getCategories(!0),c=[],u=ac(e),f=e.get("triggerEvent");return d(a,function(a,s){var d=a.tickValue,p=a.formattedLabel,g=a.rawLabel,m=o;h&&h[d]&&h[d].textStyle&&(m=new Lo(h[d].textStyle,o,e.ecModel));var v=m.getTextColor()||e.get("axisLine.lineStyle.color"),y=n.dataToCoord(d),_=[y,i.labelOffset+i.labelDirection*r],x=new qS({anid:"label_"+d,position:_,rotation:l.rotation,silent:u,z2:10});fo(x.style,m,{text:p,textAlign:m.getShallow("align",!0)||l.textAlign,textVerticalAlign:m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||l.textVerticalAlign,textFill:"function"==typeof v?v("category"===n.type?g:"value"===n.type?d+"":d,s):v}),f&&(x.eventData=oc(e),x.eventData.targetType="axisLabel",x.eventData.value=g),t._dumbGroup.add(x),x.updateTransform(),c.push(x),t.group.add(x),x.decomposeTransform()}),c}}function fc(t,e){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return pc(i,t,e),i.seriesInvolved&&mc(i,t),i}function pc(t,e,i){var n=e.getComponent("tooltip"),o=e.getComponent("axisPointer"),r=o.get("link",!0)||[],a=[];_I(i.getCoordinateSystems(),function(i){function s(n,s,l){var c=l.model.getModel("axisPointer",o),d=c.get("show");if(d&&("auto"!==d||n||bc(c))){null==s&&(s=c.get("triggerTooltip")),c=n?gc(l,u,o,e,n,s):c;var f=c.get("snap"),p=Sc(l.model),g=s||f||"category"===l.type,m=t.axesInfo[p]={key:p,axis:l,coordSys:i,axisPointerModel:c,triggerTooltip:s,involveSeries:g,snap:f,useHandle:bc(c),seriesModels:[]};h[p]=m,t.seriesInvolved|=g;var v=vc(r,l);if(null!=v){var y=a[v]||(a[v]={axesInfo:{}});y.axesInfo[p]=m,y.mapper=r[v].mapper,m.linkGroup=y}}}if(i.axisPointerEnabled){var l=Sc(i.model),h=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=i;var c=i.model,u=c.getModel("tooltip",n);if(_I(i.getAxes(),xI(s,!1,null)),i.getTooltipAxes&&n&&u.get("show")){var d="axis"===u.get("trigger"),f="cross"===u.get("axisPointer.type"),p=i.getTooltipAxes(u.get("axisPointer.axis"));(d||f)&&_I(p.baseAxes,xI(s,!f||"cross",d)),f&&_I(p.otherAxes,xI(s,"cross",!1))}}})}function gc(t,e,n,o,r,s){var l=e.getModel("axisPointer"),h={};_I(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){h[t]=i(l.get(t))}),h.snap="category"!==t.type&&!!s,"cross"===l.get("type")&&(h.type="line");var c=h.label||(h.label={});if(null==c.show&&(c.show=!1),"cross"===r){var u=l.get("label.show");if(c.show=null==u||u,!s){var d=h.lineStyle=l.get("crossStyle");d&&a(c,d.textStyle)}}return t.model.getModel("axisPointer",new Lo(h,n,o))}function mc(t,e){e.eachSeries(function(e){var i=e.coordinateSystem,n=e.get("tooltip.trigger",!0),o=e.get("tooltip.show",!0);i&&"none"!==n&&!1!==n&&"item"!==n&&!1!==o&&!1!==e.get("axisPointer.show",!0)&&_I(t.coordSysAxesInfo[Sc(i.model)],function(t){var n=t.axis;i.getAxis(n.dim)===n&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())})},this)}function vc(t,e){for(var i=e.model,n=e.dim,o=0;o<t.length;o++){var r=t[o]||{};if(yc(r[n+"AxisId"],i.id)||yc(r[n+"AxisIndex"],i.componentIndex)||yc(r[n+"AxisName"],i.name))return o}}function yc(t,e){return"all"===t||_(t)&&l(t,e)>=0||t===e}function _c(t){var e=xc(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,o=i.option,r=i.get("status"),a=i.get("value");null!=a&&(a=n.parse(a));var s=bc(i);null==r&&(o.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),o.value=a,s&&(o.status=e.axis.scale.isBlank()?"hide":"show")}}function xc(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Sc(t)]}function wc(t){var e=xc(t);return e&&e.axisPointerModel}function bc(t){return!!t.get("handle.show")}function Sc(t){return t.type+"||"+t.id}function Dc(t,e,i,n,o,r){var a=wI.getAxisPointerClass(t.axisPointerClass);if(a){var s=wc(e);s?(t._axisPointer||(t._axisPointer=new a)).render(e,s,n,r):Mc(t,n)}}function Mc(t,e,i){var n=t._axisPointer;n&&n.dispose(e,i),t._axisPointer=null}function Cc(t,e,i){i=i||{};var n=t.coordinateSystem,o=e.axis,r={},a=o.getAxesOnZeroOf()[0],s=o.position,l=a?"onZero":s,h=o.dim,c=n.getRect(),u=[c.x,c.x+c.width,c.y,c.y+c.height],d={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,p="x"===h?[u[2]-f,u[3]+f]:[u[0]-f,u[1]+f];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));p[d.onZero]=Math.max(Math.min(g,p[1]),p[0])}r.position=["y"===h?p[d[l]]:u[0],"x"===h?p[d[l]]:u[3]],r.rotation=Math.PI/2*("x"===h?0:1);var m={top:-1,bottom:1,left:-1,right:1};r.labelDirection=r.tickDirection=r.nameDirection=m[s],r.labelOffset=a?p[d[s]]-p[d.onZero]:0,e.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),T(i.labelInside,e.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var v=e.get("axisLabel.rotate");return r.labelRotate="top"===l?-v:v,r.z2=1,r}function Tc(t,e,i,n,o,r,a){uo(t,e,i.getModel("label"),i.getModel("emphasis.label"),{labelFetcher:o,labelDataIndex:r,defaultText:xh(o.getData(),r),isRectText:!0,autoColor:n}),Ic(t),Ic(e)}function Ic(t,e){"outside"===t.textPosition&&(t.textPosition=e)}function Ac(t,e,i){i.style.text=null,So(i,{shape:{width:0}},e,t,function(){i.parent&&i.parent.remove(i)})}function kc(t,e,i){i.style.text=null,So(i,{shape:{r:i.shape.r0}},e,t,function(){i.parent&&i.parent.remove(i)})}function Ec(t,e,i,n,o,r,s,l){var h=e.getItemVisual(i,"color"),c=e.getItemVisual(i,"opacity"),u=n.getModel("itemStyle"),d=n.getModel("emphasis.itemStyle").getBarItemStyle();l||t.setShape("r",u.get("barBorderRadius")||0),t.useStyle(a({fill:h,opacity:c},u.getBarItemStyle()));var f=n.getShallow("cursor");f&&t.attr("cursor",f);var p=s?o.height>0?"bottom":"top":o.width>0?"left":"right";l||Tc(t.style,d,n,h,r,i,p),co(t,d)}function Lc(t,e){var i=t.get(AI)||0;return Math.min(i,Math.abs(e.width),Math.abs(e.height))}function Oc(t,e,i){var n=t.getData(),o=[],r=n.getLayout("valueAxisHorizontal")?1:0;o[1-r]=n.getLayout("valueAxisStart");var a=new LI({shape:{points:n.getLayout("largePoints")},incremental:!!i,__startPoint:o,__valueIdx:r});e.add(a),Pc(a,t,n)}function Pc(t,e,i){var n=i.getVisual("borderColor")||i.getVisual("color"),o=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(o),t.style.fill=null,t.style.stroke=n,t.style.lineWidth=i.getLayout("barWidth")}function Nc(t,e,i,n){var o=e.getData(),r=this.dataIndex,a=o.getName(r),s=e.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:t,name:a,seriesId:e.id}),o.each(function(t){Rc(o.getItemGraphicEl(t),o.getItemLayout(t),e.isSelected(o.getName(t)),s,i)})}function Rc(t,e,i,n,o){var r=(e.startAngle+e.endAngle)/2,a=Math.cos(r),s=Math.sin(r),l=i?n:0,h=[a*l,s*l];o?t.animate().when(200,{position:h}).start("bounceOut"):t.attr("position",h)}function zc(t,e){function i(){r.ignore=r.hoverIgnore,a.ignore=a.hoverIgnore}function n(){r.ignore=r.normalIgnore,a.ignore=a.normalIgnore}Ww.call(this);var o=new QS({z2:2}),r=new nD,a=new qS;this.add(o),this.add(r),this.add(a),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n)}function Bc(t,e,i,n,o,r,a){function s(e,i){for(var n=e;n>=0&&(t[n].y-=i,!(n>0&&t[n].y>t[n-1].y+t[n-1].height));n--);}function l(t,e,i,n,o,r){for(var a=e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++)if("center"!==t[s].position){var h=Math.abs(t[s].y-n),c=t[s].len,u=t[s].len2,d=h<o+c?Math.sqrt((o+c+u)*(o+c+u)-h*h):Math.abs(t[s].x-i);e&&d>=a&&(d=a-10),!e&&d<=a&&(d=a+10),t[s].x=i+d*r,a=d}}t.sort(function(t,e){return t.y-e.y});for(var h,c=0,u=t.length,d=[],f=[],p=0;p<u;p++)h=t[p].y-c,h<0&&function(e,i,n,o){for(var r=e;r<i;r++)if(t[r].y+=n,r>e&&r+1<i&&t[r+1].y>t[r].y+t[r].height)return void s(r,n/2);s(i-1,n/2)}(p,u,-h),c=t[p].y+t[p].height;a-c<0&&s(u-1,c-a);for(var p=0;p<u;p++)t[p].y>=i?f.push(t[p]):d.push(t[p]);l(d,!1,e,i,n,o),l(f,!0,e,i,n,o)}function Hc(t,e,i,n,o,r){for(var a=[],s=[],l=0;l<t.length;l++)t[l].x<e?a.push(t[l]):s.push(t[l]);Bc(s,e,i,n,1,o,r),Bc(a,e,i,n,-1,o,r);for(var l=0;l<t.length;l++){var h=t[l].linePoints;if(h){var c=h[1][0]-h[2][0];t[l].x<e?h[2][0]=t[l].x+3:h[2][0]=t[l].x-3,h[1][1]=h[2][1]=t[l].y,h[1][0]=h[2][0]+c}}}function Vc(){this.group=new Ww}function Wc(t,e,i){NT.call(this,t,e,i),this.type="value",this.angle=0,this.name="",this.model}function Fc(t,e,i){this._model=t,this.dimensions=[],this._indicatorAxes=f(t.getIndicatorModels(),function(t,e){var i="indicator_"+e,n=new Wc(i,new eT);return n.name=t.get("name"),n.model=t,t.axis=n,this.dimensions.push(i),n},this),this.resize(t,i),this.cx,this.cy,this.r,this.startAngle}function $c(t,e){return a({show:e},t)}function Gc(t){return _(t)||(t=[+t,+t]),t}function jc(){gw.call(this)}function Yc(t){this.name=t,this.zoomLimit,gw.call(this),this._roamTransformable=new jc,this._rawTransformable=new jc,this._center,this._zoom}function Uc(t,e,i,n){var o=i.seriesModel,r=o?o.coordinateSystem:null;return r===this?r[t](n):null}function qc(t,e,i,n,o){Yc.call(this,t),this.map=e,this._nameCoordMap=z(),this.loadGeoJson(i,n,o)}function Zc(t,e,i,n){var o=i.geoModel,r=i.seriesModel,a=o?o.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return a===this?a[t](n):null}function Xc(t,e){var i=t.get("boundingCoords");if(null!=i){var n=i[0],o=i[1];isNaN(n[0])||isNaN(n[1])||isNaN(o[0])||isNaN(o[1])?Nx&&console.error("Invalid boundingCoords"):this.setBoundingRect(n[0],n[1],o[0]-n[0],o[1]-n[1])}var r,a=this.getBoundingRect(),s=t.get("layoutCenter"),l=t.get("layoutSize"),h=e.getWidth(),c=e.getHeight(),u=t.get("aspectScale")||.75,d=a.width/a.height*u,f=!1;s&&l&&(s=[Bo(s[0],h),Bo(s[1],c)],l=Bo(l,Math.min(h,c)),isNaN(s[0])||isNaN(s[1])||isNaN(l)?Nx&&console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead."):f=!0);var p;if(f){var p={};d>1?(p.width=l,p.height=l/d):(p.height=l,p.width=l*d),p.y=s[1]-p.height/2,p.x=s[0]-p.width/2}else r=t.getBoxLayoutParams(),r.aspect=d,p=cr(r,{width:h,height:c});this.setViewRect(p.x,p.y,p.width,p.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function Kc(t,e){d(e.get("geoCoord"),function(e,i){t.addGeoCoord(i,e)})}function Qc(t,e,i){eu(t)[e]=i}function Jc(t,e,i){var n=eu(t);n[e]===i&&(n[e]=null)}function tu(t,e){return!!eu(t)[e]}function eu(t){return t[fA]||(t[fA]={})}function iu(t){this.pointerChecker,this._zr=t,this._opt={};var e=v,n=e(nu,this),o=e(ou,this),r=e(ru,this),s=e(au,this),l=e(su,this);sw.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,h){this.disable(),this._opt=a(i(h)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==e&&(e=!0),!0!==e&&"move"!==e&&"pan"!==e||(t.on("mousedown",n),t.on("mousemove",o),t.on("mouseup",r)),!0!==e&&"scale"!==e&&"zoom"!==e||(t.on("mousewheel",s),t.on("pinch",l))},this.disable=function(){t.off("mousedown",n),t.off("mousemove",o),t.off("mouseup",r),t.off("mousewheel",s),t.off("pinch",l)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function nu(t){if(!(mi(t)||t.target&&t.target.draggable)){var e=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,i)&&(this._x=e,this._y=i,this._dragging=!0)}}function ou(t){if(!mi(t)&&hu(this,"moveOnMouseMove",t)&&this._dragging&&"pinch"!==t.gestureEvent&&!tu(this._zr,"globalPan")){var e=t.offsetX,i=t.offsetY,n=this._x,o=this._y,r=e-n,a=i-o;this._x=e,this._y=i,this._opt.preventDefaultMouseMove&&vb(t.event),this.trigger("pan",r,a,n,o,e,i)}}function ru(t){mi(t)||(this._dragging=!1)}function au(t){if(hu(this,"zoomOnMouseWheel",t)&&0!==t.wheelDelta){var e=t.wheelDelta>0?1.1:1/1.1;lu.call(this,t,e,t.offsetX,t.offsetY)}}function su(t){if(!tu(this._zr,"globalPan")){var e=t.pinchScale>1?1.1:1/1.1;lu.call(this,t,e,t.pinchX,t.pinchY)}}function lu(t,e,i,n){this.pointerChecker&&this.pointerChecker(t,i,n)&&(vb(t.event),this.trigger("zoom",e,i,n))}function hu(t,e,i){var n=t._opt[e];return n&&(!w(n)||i.event[n+"Key"])}function cu(t,e,i){var n=t.target,o=n.position;o[0]+=e,o[1]+=i,n.dirty()}function uu(t,e,i,n){var o=t.target,r=t.zoomLimit,a=o.position,s=o.scale,l=t.zoom=t.zoom||1;if(l*=e,r){var h=r.min||0,c=r.max||1/0;l=Math.max(Math.min(c,l),h)}var u=l/t.zoom;t.zoom=l,a[0]-=(i-a[0])*(u-1),a[1]-=(n-a[1])*(u-1),s[0]*=u,s[1]*=u,o.dirty()}function du(t,e,i){var n=e.getComponentByElement(t.topTarget),o=n&&n.coordinateSystem;return n&&n!==i&&!pA[n.mainType]&&o&&o.model!==i}function fu(t,e){var i=t.getItemStyle(),n=t.get("areaColor");return null!=n&&(i.fill=n),i}function pu(t,e,i,n,o){i.off("click"),i.off("mousedown"),e.get("selectedMode")&&(i.on("mousedown",function(){t._mouseDownFlag=!0}),i.on("click",function(r){if(t._mouseDownFlag){t._mouseDownFlag=!1;for(var a=r.target;!a.__regions;)a=a.parent;if(a){var s={type:("geo"===e.mainType?"geo":"map")+"ToggleSelect",batch:f(a.__regions,function(t){return{name:t.name,from:o.uid}})};s[e.mainType+"Id"]=e.id,n.dispatchAction(s),gu(e,i)}}}))}function gu(t,e){e.eachChild(function(e){d(e.__regions,function(i){e.trigger(t.isSelected(i.name)?"emphasis":"normal")})})}function mu(t,e){var i=new Ww;this._controller=new iu(t.getZr()),this._controllerHost={target:e?i:null},this.group=i,this._updateGroup=e,this._mouseDownFlag}function vu(t,e,i){var n=t.getZoom(),o=t.getCenter(),r=e.zoom,a=t.dataToPoint(o);if(null!=e.dx&&null!=e.dy){a[0]-=e.dx,a[1]-=e.dy;var o=t.pointToData(a);t.setCenter(o)}if(null!=r){if(i){var s=i.min||0,l=i.max||1/0;r=Math.max(Math.min(n*r,l),s)/n}t.scale[0]*=r,t.scale[1]*=r;var h=t.position,c=(e.originX-h[0])*(r-1),u=(e.originY-h[1])*(r-1);h[0]-=c,h[1]-=u,t.updateTransform();var o=t.pointToData(a);t.setCenter(o),t.setZoom(r*n)}return{center:t.getCenter(),zoom:t.getZoom()}}function yu(t,e){var i={};return d(t,function(t){t.each(t.mapDimension("value"),function(e,n){var o="ec-"+t.getName(n);i[o]=i[o]||[],isNaN(e)||i[o].push(e)})}),t[0].map(t[0].mapDimension("value"),function(n,o){for(var r="ec-"+t[0].getName(o),a=0,s=1/0,l=-1/0,h=i[r].length,c=0;c<h;c++)s=Math.min(s,i[r][c]),l=Math.max(l,i[r][c]),a+=i[r][c];var u;return u="min"===e?s:"max"===e?l:"average"===e?a/h:a,0===h?NaN:u})}function _u(t){var e=t.mainData,i=t.datas;i||(i={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,Mu(e,i,t),_A(i,function(i){_A(e.TRANSFERABLE_METHODS,function(e){i.wrapMethod(e,y(xu,t))})}),e.wrapMethod("cloneShallow",y(bu,t)),_A(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,y(wu,t))}),L(i[e.dataType]===e)}function xu(t,e){if(Du(this)){var i=r({},this[xA]);i[this.dataType]=e,Mu(e,i,t)}else Cu(e,this.dataType,this[wA],t);return e}function wu(t,e){return t.struct&&t.struct.update(this),e}function bu(t,e){return _A(e[xA],function(i,n){i!==e&&Cu(i.cloneShallow(),n,e,t)}),e}function Su(t){var e=this[wA];return null==t||null==e?e:e[xA][t]}function Du(t){return t[wA]===t}function Mu(t,e,i){t[xA]={},_A(e,function(e,n){Cu(e,n,t,i)})}function Cu(t,e,i,n){i[xA][e]=t,t[wA]=i,t.dataType=e,n.struct&&(t[n.structAttr]=n.struct,n.struct[n.datasAttr[e]]=t),t.getLinkedData=Su}function Tu(t,e,i){this.root,this.data,this._nodes=[],this.hostModel=t,this.levelModels=f(e||[],function(e){return new Lo(e,t,t.ecModel)}),this.leavesModel=new Lo(i||{},t,t.ecModel)}function Iu(t,e){var i=e.children;t.parentNode!==e&&(i.push(t),t.parentNode=e)}function Au(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,i,n=[t];e=n.pop();)if(i=e.children,e.isExpand&&i.length)for(var o=i.length,r=o-1;r>=0;r--){var a=i[r];a.hierNode={defaultAncestor:null,ancestor:a,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},n.push(a)}}function ku(t,e){var i=t.isExpand?t.children:[],n=t.parentNode.children,o=t.hierNode.i?n[t.hierNode.i-1]:null;if(i.length){Nu(t);var r=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;o?(t.hierNode.prelim=o.hierNode.prelim+e(t,o),t.hierNode.modifier=t.hierNode.prelim-r):t.hierNode.prelim=r}else o&&(t.hierNode.prelim=o.hierNode.prelim+e(t,o));t.parentNode.hierNode.defaultAncestor=Ru(t,o,t.parentNode.hierNode.defaultAncestor||n[0],e)}function Eu(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function Lu(t){return arguments.length?t:Wu}function Ou(t,e){var i={};return t-=Math.PI/2,i.x=e*Math.cos(t),i.y=e*Math.sin(t),i}function Pu(t,e){return cr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Nu(t){for(var e=t.children,i=e.length,n=0,o=0;--i>=0;){var r=e[i];r.hierNode.prelim+=n,r.hierNode.modifier+=n,o+=r.hierNode.change,n+=r.hierNode.shift+o}}function Ru(t,e,i,n){if(e){for(var o=t,r=t,a=r.parentNode.children[0],s=e,l=o.hierNode.modifier,h=r.hierNode.modifier,c=a.hierNode.modifier,u=s.hierNode.modifier;s=zu(s),r=Bu(r),s&&r;){o=zu(o),a=Bu(a),o.hierNode.ancestor=t;var d=s.hierNode.prelim+u-r.hierNode.prelim-h+n(s,r);d>0&&(Vu(Hu(s,t,i),t,d),h+=d,l+=d),u+=s.hierNode.modifier,h+=r.hierNode.modifier,l+=o.hierNode.modifier,c+=a.hierNode.modifier}s&&!zu(o)&&(o.hierNode.thread=s,o.hierNode.modifier+=u-l),r&&!Bu(a)&&(a.hierNode.thread=r,a.hierNode.modifier+=h-c,i=t)}return i}function zu(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function Bu(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function Hu(t,e,i){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:i}function Vu(t,e,i){var n=i/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=n,e.hierNode.shift+=i,e.hierNode.modifier+=i,e.hierNode.prelim+=i,t.hierNode.change+=n}function Wu(t,e){return t.parentNode===e.parentNode?1:2}function Fu(t,e){var i=t.getItemLayout(e);return i&&!isNaN(i.x)&&!isNaN(i.y)&&"none"!==t.getItemVisual(e,"symbol")}function $u(t,e,i){return i.itemModel=e,i.itemStyle=e.getModel("itemStyle").getItemStyle(),i.hoverItemStyle=e.getModel("emphasis.itemStyle").getItemStyle(),i.lineStyle=e.getModel("lineStyle").getLineStyle(),i.labelModel=e.getModel("label"),i.hoverLabelModel=e.getModel("emphasis.label"),!1===t.isExpand&&0!==t.children.length?i.symbolInnerColor=i.itemStyle.fill:i.symbolInnerColor="#fff",i}function Gu(t,e,i,n,o,r){var s=!i,l=t.tree.getNodeByDataIndex(e),h=l.getModel(),r=$u(l,h,r),c=t.tree.root,u=l.parentNode===c?l:l.parentNode||l,d=t.getItemGraphicEl(u.dataIndex),f=u.getLayout(),p=d?{x:d.position[0],y:d.position[1],rawX:d.__radialOldRawX,rawY:d.__radialOldRawY}:f,g=l.getLayout();s?(i=new wh(t,e,r),i.attr("position",[p.x,p.y])):i.updateData(t,e,r),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=g.rawX,i.__radialRawY=g.rawY,n.add(i),t.setItemGraphicEl(e,i),So(i,{position:[g.x,g.y]},o);var m=i.getSymbolPath();if("radial"===r.layout){var v,y,_=c.children[0],x=_.getLayout(),w=_.children.length;if(g.x===x.x&&!0===l.isExpand){var b={};b.x=(_.children[0].getLayout().x+_.children[w-1].getLayout().x)/2,b.y=(_.children[0].getLayout().y+_.children[w-1].getLayout().y)/2,v=Math.atan2(b.y-x.y,b.x-x.x),v<0&&(v=2*Math.PI+v),y=b.x<x.x,y&&(v-=Math.PI)}else v=Math.atan2(g.y-x.y,g.x-x.x),v<0&&(v=2*Math.PI+v),0===l.children.length||0!==l.children.length&&!1===l.isExpand?(y=g.x<x.x)&&(v-=Math.PI):(y=g.x>x.x)||(v-=Math.PI);var S=y?"left":"right";m.setStyle({textPosition:S,textRotation:-v,textOrigin:"center",verticalAlign:"middle"})}if(l.parentNode&&l.parentNode!==c){var D=i.__edge;D||(D=i.__edge=new sD({shape:Yu(r,p,p),style:a({opacity:0},r.lineStyle)})),So(D,{shape:Yu(r,f,g),style:{opacity:1}},o),n.add(D)}}function ju(t,e,i,n,o,r){for(var a,s=t.tree.getNodeByDataIndex(e),l=t.tree.root,h=s.getModel(),r=$u(s,h,r),c=s.parentNode===l?s:s.parentNode||s;null==(a=c.getLayout());)c=c.parentNode===l?c:c.parentNode||c;So(i,{position:[a.x+1,a.y+1]},o,function(){n.remove(i),t.setItemGraphicEl(e,null)}),i.fadeOut(null,{keepLabel:!0});var u=i.__edge;u&&So(u,{shape:Yu(r,a,a),style:{opacity:0}},o,function(){n.remove(u)})}function Yu(t,e,i){var n,o,r,a,s=t.orient;if("radial"===t.layout){var l=e.rawX,h=e.rawY,c=i.rawX,u=i.rawY,d=Ou(l,h),f=Ou(l,h+(u-h)*t.curvature),p=Ou(c,u+(h-u)*t.curvature),g=Ou(c,u);return{x1:d.x,y1:d.y,x2:g.x,y2:g.y,cpx1:f.x,cpy1:f.y,cpx2:p.x,cpy2:p.y}}var l=e.x,h=e.y,c=i.x,u=i.y;return"LR"!==s&&"RL"!==s||(n=l+(c-l)*t.curvature,o=h,r=c+(l-c)*t.curvature,a=u),"TB"!==s&&"BT"!==s||(n=l,o=h+(u-h)*t.curvature,r=c,a=u+(h-u)*t.curvature),{x1:l,y1:h,x2:c,y2:u,cpx1:n,cpy1:o,cpx2:r,cpy2:a}}function Uu(t,e,i){for(var n,o=[t],r=[];n=o.pop();)if(r.push(n),n.isExpand){var a=n.children;if(a.length)for(var s=0;s<a.length;s++)o.push(a[s])}for(;n=r.pop();)e(n,i)}function qu(t,e){for(var i,n=[t];i=n.pop();)if(e(i),i.isExpand){var o=i.children;if(o.length)for(var r=o.length-1;r>=0;r--)n.push(o[r])}}function Zu(t,e){var i=Pu(t,e);t.layoutInfo=i;var n=t.get("layout"),o=0,r=0,a=null;"radial"===n?(o=2*Math.PI,r=Math.min(i.height,i.width)/2,a=Lu(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(o=i.width,r=i.height,a=Lu());var s=t.getData().tree.root,l=s.children[0];if(l){Au(s),Uu(l,ku,a),s.hierNode.modifier=-l.hierNode.prelim,qu(l,Eu);var h=l,c=l,u=l;qu(l,function(t){var e=t.getLayout().x;e<h.getLayout().x&&(h=t),e>c.getLayout().x&&(c=t),t.depth>u.depth&&(u=t)});var d=h===c?1:a(h,c)/2,f=d-h.getLayout().x,p=0,g=0,m=0,v=0;if("radial"===n)p=o/(c.getLayout().x+d+f),g=r/(u.depth-1||1),qu(l,function(t){m=(t.getLayout().x+f)*p,v=(t.depth-1)*g;var e=Ou(m,v);t.setLayout({x:e.x,y:e.y,rawX:m,rawY:v},!0)});else{var y=t.getOrient();"RL"===y||"LR"===y?(g=r/(c.getLayout().x+d+f),p=o/(u.depth-1||1),qu(l,function(t){v=(t.getLayout().x+f)*g,m="LR"===y?(t.depth-1)*p:o-(t.depth-1)*p,t.setLayout({x:m,y:v},!0)})):"TB"!==y&&"BT"!==y||(p=o/(c.getLayout().x+d+f),g=r/(u.depth-1||1),qu(l,function(t){m=(t.getLayout().x+f)*p,v="TB"===y?(t.depth-1)*g:r-(t.depth-1)*g,t.setLayout({x:m,y:v},!0)}))}}}function Xu(t,e,i){if(t&&l(e,t.type)>=0){var n=i.getData().tree.root,o=t.targetNode;if(o&&n.contains(o))return{node:o};var r=t.targetNodeId;if(null!=r&&(o=n.getNodeById(r)))return{node:o}}}function Ku(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function Qu(t,e){return l(Ku(t),e)>=0}function Ju(t,e){for(var i=[];t;){var n=t.dataIndex;i.push({name:t.name,dataIndex:n,value:e.getRawValue(n)}),t=t.parentNode}return i.reverse(),i}function td(t){var e=0;d(t.children,function(t){td(t);var i=t.value;_(i)&&(i=i[0]),e+=i});var i=t.value;_(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=e),i<0&&(i=0),_(t.value)?t.value[0]=i:t.value=i}function ed(t,e){var i=e.get("color");if(i){t=t||[];var n;if(d(t,function(t){var e=new Lo(t),i=e.get("color");(e.get("itemStyle.color")||i&&"none"!==i)&&(n=!0)}),!n){(t[0]||(t[0]={})).color=i.slice()}return t}}function id(t){this.group=new Ww,t.add(this.group)}function nd(t,e,i,n,o,r){var a=[[o?t:t-DA,e],[t+i,e],[t+i,e+n],[o?t:t-DA,e+n]];return!r&&a.splice(2,0,[t+i+DA,e+n/2]),!o&&a.push([t,e+n/2]),a}function od(t,e,i){t.eventData={componentType:"series",componentSubType:"treemap",seriesIndex:e.componentIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&Ju(i,e)}}function rd(){var t,e=[],i={};return{add:function(t,n,o,r,a){return w(r)&&(a=r,r=0),!i[t.id]&&(i[t.id]=1,e.push({el:t,target:n,time:o,delay:r,easing:a}),!0)},done:function(e){return t=e,this},start:function(){function n(){--o||(e.length=0,i={},t&&t())}for(var o=e.length,r=0,a=e.length;r<a;r++){var s=e[r];s.el.animateTo(s.target,s.time,s.delay,s.easing,n)}return this}}}function ad(){return{nodeGroup:[],background:[],content:[]}}function sd(t,e,n,o,a,s,l,h,c,u){function d(t,e){w?!t.invisible&&s.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function f(e,n,o,r,a,s){var h=l.getModel(),c=T(t.getFormattedLabel(l.dataIndex,"normal",null,null,s?"upperLabel":"label"),h.get("name"));if(!s&&v.isLeafRoot){var u=t.get("drillDownIcon",!0);c=u?u+" "+c:c}var d=h.getModel(s?EA:AA),f=h.getModel(s?LA:kA),p=d.getShallow("show");uo(e,n,d,f,{defaultText:p?c:null,autoColor:o,isRectText:!0}),s&&(e.textRect=i(s)),e.truncate=p&&d.get("ellipsis")?{outerWidth:r,outerHeight:a,minChar:2}:null}function p(t,i,o,r){var s=null!=S&&n[t][S],l=a[t];return s?(n[t][S]=null,g(l,s,t)):w||(s=new i({z:ld(o,r)}),s.__tmDepth=o,s.__tmStorageName=t,m(l,s,t)),e[t][b]=s}function g(t,e,i){(t[b]={}).old="nodeGroup"===i?e.position.slice():r({},e.shape)}function m(t,e,i){var n=t[b]={},r=l.parentNode;if(r&&(!o||"drillDown"===o.direction)){var s=0,h=0,c=a.background[r.getRawIndex()];!o&&c&&c.old&&(s=c.old.width,h=c.old.height),n.old="nodeGroup"===i?[0,h]:{x:s,y:h,width:0,height:0}}n.fadein="nodeGroup"!==i}if(l){var v=l.getLayout();if(v&&v.isInView){var y=v.width,_=v.height,x=v.borderWidth,w=v.invisible,b=l.getRawIndex(),S=h&&h.getRawIndex(),D=l.viewChildren,M=v.upperHeight,C=D&&D.length,I=l.getModel("itemStyle"),A=l.getModel("emphasis.itemStyle"),k=p("nodeGroup",CA);if(k){if(c.add(k),k.attr("position",[v.x||0,v.y||0]),k.__tmNodeWidth=y,k.__tmNodeHeight=_,v.isAboveViewRoot)return k;var E=p("background",TA,u,PA);if(E&&function(e,i,n){i.dataIndex=l.dataIndex,i.seriesIndex=t.seriesIndex,i.setShape({x:0,y:0,width:y,height:_});var o=l.getVisual("borderColor",!0),r=A.get("borderColor");d(i,function(){var t=zA(I);t.fill=o;var e=RA(A);if(e.fill=r,n){var a=y-2*x;f(t,e,o,a,M,{x:x,y:0,width:a,height:M})}else t.text=e.text=null;i.setStyle(t),co(i,e)}),e.add(i)}(k,E,C&&v.upperHeight),!C){var L=p("content",TA,u,NA);L&&function(e,i){i.dataIndex=l.dataIndex,i.seriesIndex=t.seriesIndex;var n=Math.max(y-2*x,0),o=Math.max(_-2*x,0);i.culling=!0,i.setShape({x:x,y:x,width:n,height:o});var r=l.getVisual("color",!0);d(i,function(){var t=zA(I);t.fill=r;var e=RA(A);f(t,e,r,n,o),i.setStyle(t),co(i,e)}),e.add(i)}(k,L)}return k}}}}function ld(t,e){var i=t*OA+e;return(i-1)/i}function hd(t){var e=t.pieceList;t.hasSpecialVisual=!1,d(e,function(e,i){e.originIndex=i,null!=e.visual&&(t.hasSpecialVisual=!0)})}function cd(t){var e=t.categories,i=t.visual,n=t.categoryMap={};if(WA(e,function(t,e){n[t]=e}),!_(i)){var o=[];b(i)?WA(i,function(t,e){var i=n[e];o[null!=i?i:$A]=t}):o[$A]=i,i=_d(t,o)}for(var r=e.length-1;r>=0;r--)null==i[r]&&(delete n[e[r]],e.pop())}function ud(t,e){var i=t.visual,n=[];b(i)?WA(i,function(t){n.push(t)}):null!=i&&n.push(i);var o={color:1,symbol:1};e||1!==n.length||o.hasOwnProperty(t.type)||(n[1]=n[0]),_d(t,n)}function dd(t){return{applyVisual:function(e,i,n){e=this.mapValueToVisual(e),n("color",t(i("color"),e))},_doMap:vd([0,1])}}function fd(t){var e=this.option.visual;return e[Math.round(zo(t,[0,1],[0,e.length-1],!0))]||{}}function pd(t){return function(e,i,n){n(t,this.mapValueToVisual(e))}}function gd(t){
var e=this.option.visual;return e[this.option.loop&&t!==$A?t%e.length:t]}function md(){return this.option.visual[0]}function vd(t){return{linear:function(e){return zo(e,t,this.option.visual,!0)},category:gd,piecewise:function(e,i){var n=yd.call(this,i);return null==n&&(n=zo(e,t,this.option.visual,!0)),n},fixed:md}}function yd(t){var e=this.option,i=e.pieceList;if(e.hasSpecialVisual){var n=GA.findPieceIndex(t,i),o=i[n];if(o&&o.visual)return o.visual[this.type]}}function _d(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=f(e,function(t){return Ot(t)})),e}function xd(t,e,i){return t?e<=i:e<i}function wd(t,e,i,n,o,r){var a=t.getModel(),s=t.getLayout();if(s&&!s.invisible&&s.isInView){var l,h=t.getModel(qA),c=i[t.depth],u=bd(h,e,c,n),f=h.get("borderColor"),p=h.get("borderColorSaturation");null!=p&&(l=Sd(u),f=Dd(p,l)),t.setVisual("borderColor",f);var g=t.viewChildren;if(g&&g.length){var m=Cd(t,a,s,h,u,g);d(g,function(t,e){if(t.depth>=o.length||t===o[t.depth]){wd(t,Id(a,u,t,e,m,r),i,n,o,r)}})}else l=Sd(u),t.setVisual("color",l)}}function bd(t,e,i,n){var o=r({},e);return d(["color","colorAlpha","colorSaturation"],function(r){var a=t.get(r,!0);null==a&&i&&(a=i[r]),null==a&&(a=e[r]),null==a&&(a=n.get(r)),null!=a&&(o[r]=a)}),o}function Sd(t){var e=Md(t,"color");if(e){var i=Md(t,"colorAlpha"),n=Md(t,"colorSaturation");return n&&(e=Vt(e,null,null,n)),i&&(e=Wt(e,i)),e}}function Dd(t,e){return null!=e?Vt(e,null,null,t):null}function Md(t,e){var i=t[e];if(null!=i&&"none"!==i)return i}function Cd(t,e,i,n,o,r){if(r&&r.length){var a=Td(e,"color")||null!=o.color&&"none"!==o.color&&(Td(e,"colorAlpha")||Td(e,"colorSaturation"));if(a){var s=e.get("visualMin"),l=e.get("visualMax"),h=i.dataExtent.slice();null!=s&&s<h[0]&&(h[0]=s),null!=l&&l>h[1]&&(h[1]=l);var c=e.get("colorMappingBy"),u={type:a.name,dataExtent:h,visual:a.range};"color"!==u.type||"index"!==c&&"id"!==c?u.mappingMethod="linear":(u.mappingMethod="category",u.loop=!0);var d=new GA(u);return d.__drColorMappingBy=c,d}}}function Td(t,e){var i=t.get(e);return UA(i)&&i.length?{name:e,range:i}:null}function Id(t,e,i,n,o,a){var s=r({},e);if(o){var l=o.type,h="color"===l&&o.__drColorMappingBy,c="index"===h?n:"id"===h?a.mapIdToIndex(i.getId()):i.getValue(t.get("visualDimension"));s[l]=o.mapValueToVisual(c)}return s}function Ad(t,e,i,n){var o,r;if(!t.isRemoved()){var a=t.getLayout();o=a.width,r=a.height;var s=t.getModel(),l=s.get(tk),h=s.get(ek)/2,c=Hd(s),u=Math.max(l,c),d=l-h,f=u-h,s=t.getModel();t.setLayout({borderWidth:l,upperHeight:u,upperLabelHeight:c},!0),o=XA(o-2*d,0),r=XA(r-d-f,0);var p=o*r,g=kd(t,s,p,e,i,n);if(g.length){var m={x:d,y:f,width:o,height:r},v=KA(o,r),y=1/0,_=[];_.area=0;for(var x=0,w=g.length;x<w;){var b=g[x];_.push(b),_.area+=b.getLayout().area;var S=Pd(_,v,e.squareRatio);S<=y?(x++,y=S):(_.area-=_.pop().getLayout().area,Nd(_,v,m,h,!1),v=KA(m.width,m.height),_.length=_.area=0,y=1/0)}if(_.length&&Nd(_,v,m,h,!0),!i){var D=s.get("childrenVisibleMin");null!=D&&p<D&&(i=!0)}for(var x=0,w=g.length;x<w;x++)Ad(g[x],e,i,n+1)}}}function kd(t,e,i,n,o,r){var a=t.children||[],s=n.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=n.leafDepth&&n.leafDepth<=r;if(o&&!l)return t.viewChildren=[];a=g(a,function(t){return!t.isRemoved()}),Ld(a,s);var h=Od(e,a,s);if(0===h.sum)return t.viewChildren=[];if(h.sum=Ed(e,i,h.sum,s,a),0===h.sum)return t.viewChildren=[];for(var c=0,u=a.length;c<u;c++){var d=a[c].getValue()/h.sum*i;a[c].setLayout({area:d})}return l&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0),t.viewChildren=a,t.setLayout({dataExtent:h.dataExtent},!0),a}function Ed(t,e,i,n,o){if(!n)return i;for(var r=t.get("visibleMin"),a=o.length,s=a,l=a-1;l>=0;l--){var h=o["asc"===n?a-l-1:l].getValue();h/i*e<r&&(s=l,i-=h)}return"asc"===n?o.splice(0,a-s):o.splice(s,a-s),i}function Ld(t,e){return e&&t.sort(function(t,i){var n="asc"===e?t.getValue()-i.getValue():i.getValue()-t.getValue();return 0===n?"asc"===e?t.dataIndex-i.dataIndex:i.dataIndex-t.dataIndex:n}),t}function Od(t,e,i){for(var n=0,o=0,r=e.length;o<r;o++)n+=e[o].getValue();var a,s=t.get("visualDimension");if(e&&e.length)if("value"===s&&i)a=[e[e.length-1].getValue(),e[0].getValue()],"asc"===i&&a.reverse();else{var a=[1/0,-1/0];JA(e,function(t){var e=t.getValue(s);e<a[0]&&(a[0]=e),e>a[1]&&(a[1]=e)})}else a=[NaN,NaN];return{sum:n,dataExtent:a}}function Pd(t,e,i){for(var n,o=0,r=1/0,a=0,s=t.length;a<s;a++)(n=t[a].getLayout().area)&&(n<r&&(r=n),n>o&&(o=n));var l=t.area*t.area,h=e*e*i;return l?XA(h*o/l,l/(h*r)):1/0}function Nd(t,e,i,n,o){var r=e===i.width?0:1,a=1-r,s=["x","y"],l=["width","height"],h=i[s[r]],c=e?t.area/e:0;(o||c>i[l[a]])&&(c=i[l[a]]);for(var u=0,d=t.length;u<d;u++){var f=t[u],p={},g=c?f.getLayout().area/c:0,m=p[l[a]]=XA(c-2*n,0),v=i[s[r]]+i[l[r]]-h,y=u===d-1||v<g?v:g,_=p[l[r]]=XA(y-2*n,0);p[s[a]]=i[s[a]]+KA(n,m/2),p[s[r]]=h+KA(n,_/2),h+=y,f.setLayout(p,!0)}i[s[a]]+=c,i[l[a]]-=c}function Rd(t,e,i,n,o){var r=(e||{}).node,a=[n,o];if(!r||r===i)return a;for(var s,l=n*o,h=l*t.option.zoomToNodeRatio;s=r.parentNode;){for(var c=0,u=s.children,d=0,f=u.length;d<f;d++)c+=u[d].getValue();var p=r.getValue();if(0===p)return a;h*=c/p;var g=s.getModel(),m=g.get(tk);h+=4*m*m+(3*m+Math.max(m,Hd(g)))*Math.pow(h,.5),h>ID&&(h=ID),r=s}h<l&&(h=l);var v=Math.pow(h/l,.5);return[n*v,o*v]}function zd(t,e,i){if(e)return{x:e.x,y:e.y};var n={x:0,y:0};if(!i)return n;var o=i.node,r=o.getLayout();if(!r)return n;for(var a=[r.width/2,r.height/2],s=o;s;){var l=s.getLayout();a[0]+=l.x,a[1]+=l.y,s=s.parentNode}return{x:t.width/2-a[0],y:t.height/2-a[1]}}function Bd(t,e,i,n,o){var r=t.getLayout(),a=i[o],s=a&&a===t;if(!(a&&!s||o===i.length&&t!==n)){t.setLayout({isInView:!0,invisible:!s&&!e.intersect(r),isAboveViewRoot:s},!0);var l=new ie(e.x-r.x,e.y-r.y,e.width,e.height);JA(t.viewChildren||[],function(t){Bd(t,l,i,n,o+1)})}}function Hd(t){return t.get(ik)?t.get(nk):0}function Vd(t){return"_EC_"+t}function Wd(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function Fd(t,e,i){this.node1=t,this.node2=e,this.dataIndex=null==i?-1:i}function $d(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}function Gd(t){return"_"+t+"Type"}function jd(t,e,i){var n=e.getItemVisual(i,"color"),o=e.getItemVisual(i,t),r=e.getItemVisual(i,t+"Size");if(o&&"none"!==o){_(r)||(r=[r,r]);var a=ql(o,-r[0]/2,-r[1]/2,r[0],r[1],n);return a.name=t,a}}function Yd(t){var e=new dk({name:"line"});return Ud(e.shape,t),e}function Ud(t,e){var i=e[0],n=e[1],o=e[2];t.x1=i[0],t.y1=i[1],t.x2=n[0],t.y2=n[1],t.percent=1,o?(t.cpx1=o[0],t.cpy1=o[1]):(t.cpx1=NaN,t.cpy1=NaN)}function qd(){var t=this,e=t.childOfName("fromSymbol"),i=t.childOfName("toSymbol"),n=t.childOfName("label");if(e||i||!n.ignore){for(var o=1,r=this.parent;r;)r.scale&&(o/=r.scale[0]),r=r.parent;var a=t.childOfName("line");if(this.__dirty||a.__dirty){var s=a.shape.percent,l=a.pointAt(0),h=a.pointAt(s),c=Y([],h,l);if(J(c,c),e){e.attr("position",l);var u=a.tangentAt(0);e.attr("rotation",Math.PI/2-Math.atan2(u[1],u[0])),e.attr("scale",[o*s,o*s])}if(i){i.attr("position",h);var u=a.tangentAt(1);i.attr("rotation",-Math.PI/2-Math.atan2(u[1],u[0])),i.attr("scale",[o*s,o*s])}if(!n.ignore){n.attr("position",h);var d,f,p,g=5*o;if("end"===n.__position)d=[c[0]*g+h[0],c[1]*g+h[1]],f=c[0]>.8?"left":c[0]<-.8?"right":"center",p=c[1]>.8?"top":c[1]<-.8?"bottom":"middle";else if("middle"===n.__position){var m=s/2,u=a.tangentAt(m),v=[u[1],-u[0]],y=a.pointAt(m);v[1]>0&&(v[0]=-v[0],v[1]=-v[1]),d=[y[0]+v[0]*g,y[1]+v[1]*g],f="center",p="bottom";var _=-Math.atan2(u[1],u[0]);h[0]<l[0]&&(_=Math.PI+_),n.attr("rotation",_)}else d=[-c[0]*g+l[0],-c[1]*g+l[1]],f=c[0]>.8?"right":c[0]<-.8?"left":"center",p=c[1]>.8?"bottom":c[1]<-.8?"top":"middle";n.attr({style:{textVerticalAlign:n.__verticalAlign||p,textAlign:n.__textAlign||f},position:d,scale:[o,o]})}}}}function Zd(t,e,i){Ww.call(this),this._createLine(t,e,i)}function Xd(t){this._ctor=t||Zd,this.group=new Ww}function Kd(t,e,i,n){if(ef(e.getItemLayout(i))){var o=new t._ctor(e,i,n);e.setItemGraphicEl(i,o),t.group.add(o)}}function Qd(t,e,i,n,o,r){var a=e.getItemGraphicEl(n);if(!ef(i.getItemLayout(o)))return void t.group.remove(a);a?a.updateData(i,o,r):a=new t._ctor(i,o,r),i.setItemGraphicEl(o,a),t.group.add(a)}function Jd(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}function tf(t){return isNaN(t[0])||isNaN(t[1])}function ef(t){return!tf(t[0])&&!tf(t[1])}function nf(t,e,i){for(var n,o=t[0],r=t[1],a=t[2],s=1/0,l=i*i,h=.1,c=.1;c<=.9;c+=.1){mk[0]=_k(o[0],r[0],a[0],c),mk[1]=_k(o[1],r[1],a[1],c);var u=wk(xk(mk,e)-l);u<s&&(s=u,n=c)}for(var d=0;d<32;d++){var f=n+h;vk[0]=_k(o[0],r[0],a[0],n),vk[1]=_k(o[1],r[1],a[1],n),yk[0]=_k(o[0],r[0],a[0],f),yk[1]=_k(o[1],r[1],a[1],f);var u=xk(vk,e)-l;if(wk(u)<.01)break;var p=xk(yk,e)-l;h/=2,u<0?p>=0?n+=h:n-=h:p>=0?n-=h:n+=h}return n}function of(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function rf(t,e,i){var n=t.getGraphicEl(),o=of(t,e);null!=i&&(null==o&&(o=1),o*=i),n.downplay&&n.downplay(),n.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",o)})}function af(t,e){var i=of(t,e),n=t.getGraphicEl();n.highlight&&n.highlight(),n.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",i)})}function sf(t){return t instanceof Array||(t=[t,t]),t}function lf(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=t.getGraph();i.eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),hf(i)}}function hf(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.curveness")||0,i=F(t.node1.getLayout()),n=F(t.node2.getLayout()),o=[i,n];+e&&o.push([(i[0]+n[0])/2-(i[1]-n[1])*e,(i[1]+n[1])/2-(n[0]-i[0])*e]),t.setLayout(o)})}function cf(t){var e=t.coordinateSystem;if(!e||"view"===e.type){var i=e.getBoundingRect(),n=t.getData(),o=n.graph,r=0,a=n.getSum("value"),s=2*Math.PI/(a||n.count()),l=i.width/2+i.x,h=i.height/2+i.y,c=Math.min(i.width,i.height)/2;o.eachNode(function(t){var e=t.getValue("value");r+=s*(a?e:1)/2,t.setLayout([c*Math.cos(r)+l,c*Math.sin(r)+h]),r+=s*(a?e:1)/2}),n.setLayout({cx:l,cy:h}),o.eachEdge(function(t){var e,i=t.getModel().get("lineStyle.curveness")||0,n=F(t.node1.getLayout()),o=F(t.node2.getLayout()),r=(n[0]+o[0])/2,a=(n[1]+o[1])/2;+i&&(i*=3,e=[l*i+r*(1-i),h*i+a*(1-i)]),t.setLayout([n,o,e])})}}function uf(t,e,i){for(var n=i.rect,o=n.width,r=n.height,a=[n.x+o/2,n.y+r/2],s=null==i.gravity?.1:i.gravity,l=0;l<t.length;l++){var h=t[l];h.p||(h.p=V(o*(Math.random()-.5)+a[0],r*(Math.random()-.5)+a[1])),h.pp=F(h.p),h.edges=null}var c=.6;return{warmUp:function(){c=.5},setFixed:function(e){t[e].fixed=!0},setUnfixed:function(e){t[e].fixed=!1},step:function(i){for(var n=[],o=t.length,r=0;r<e.length;r++){var l=e[r],h=l.n1,u=l.n2;Y(n,u.p,h.p);var d=U(n)-l.d,f=u.w/(h.w+u.w);isNaN(f)&&(f=0),J(n,n),!h.fixed&&kk(h.p,h.p,n,f*d*c),!u.fixed&&kk(u.p,u.p,n,-(1-f)*d*c)}for(var r=0;r<o;r++){var p=t[r];p.fixed||(Y(n,a,p.p),kk(p.p,p.p,n,s*c))}for(var r=0;r<o;r++)for(var h=t[r],g=r+1;g<o;g++){var u=t[g];Y(n,u.p,h.p);var d=U(n);0===d&&($(n,Math.random()-.5,Math.random()-.5),d=1);var m=(h.rep+u.rep)/d/d;!h.fixed&&kk(h.pp,h.pp,n,m),!u.fixed&&kk(u.pp,u.pp,n,-m)}for(var v=[],r=0;r<o;r++){var p=t[r];p.fixed||(Y(v,p.p,p.pp),kk(p.p,p.p,v,c),W(p.pp,p.p))}c*=.992,i&&i(t,e,c<.01)}}}function df(t,e,i){var n=t.getBoxLayoutParams();return n.aspect=i,cr(n,{width:e.getWidth(),height:e.getHeight()})}function ff(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),r=Math.min(n,o);return{cx:Bo(i[0],e.getWidth()),cy:Bo(i[1],e.getHeight()),r:Bo(t.get("radius"),r/2)}}function pf(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}function gf(t,e){function i(){r.ignore=r.hoverIgnore,a.ignore=a.hoverIgnore}function n(){r.ignore=r.normalIgnore,a.ignore=a.normalIgnore}Ww.call(this);var o=new iD,r=new nD,a=new qS;this.add(o),this.add(r),this.add(a),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n)}function mf(t,e){return cr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function vf(t,e){for(var i=t.mapDimension("value"),n=t.mapArray(i,function(t){return t}),o=[],r="ascending"===e,a=0,s=t.count();a<s;a++)o[a]=a;return"function"==typeof e?o.sort(e):"none"!==e&&o.sort(function(t,e){return r?n[t]-n[e]:n[e]-n[t]}),o}function yf(t){t.each(function(e){var i,n,o,r,a=t.getItemModel(e),s=a.getModel("label"),l=s.get("position"),h=a.getModel("labelLine"),c=t.getItemLayout(e),u=c.points,d="inner"===l||"inside"===l||"center"===l;if(d)n=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,o=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,i="center",r=[[n,o],[n,o]];else{var f,p,g,m=h.get("length");"left"===l?(f=(u[3][0]+u[0][0])/2,p=(u[3][1]+u[0][1])/2,g=f-m,n=g-5,i="right"):(f=(u[1][0]+u[2][0])/2,p=(u[1][1]+u[2][1])/2,g=f+m,n=g+5,i="left");var v=p;r=[[f,p],[g,v]],o=v}c.label={linePoints:r,x:n,y:o,verticalAlign:"middle",textAlign:i,inside:d}})}function _f(t){if(!t.parallel){var e=!1;d(t.series,function(t){t&&"parallel"===t.type&&(e=!0)}),e&&(t.parallel=[{}])}}function xf(t){d(ki(t.parallelAxis),function(e){if(b(e)){var i=e.parallelIndex||0,o=ki(t.parallel)[i];o&&o.parallelAxisDefault&&n(e,o.parallelAxisDefault,!1)}})}function wf(t,e){var i=t[e]-t[1-e];return{span:Math.abs(i),sign:i>0?-1:i<0?1:e?-1:1}}function bf(t,e){return Math.min(e[1],Math.max(e[0],t))}function Sf(t,e,i){this._axesMap=z(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,i)}function Df(t,e){return $k(Gk(t,e[0]),e[1])}function Mf(t,e){var i=e.layoutLength/(e.axisCount-1);return{position:i*t,axisNameAvailableWidth:i,axisLabelShow:!0}}function Cf(t,e){var i,n,o=e.layoutLength,r=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,h=s,c=!1;return t<l[0]?(i=t*s,n=s):t<=l[1]?(i=e.axisExpandWindow0Pos+t*r-e.axisExpandWindow[0],h=r,c=!0):(i=o-(a-1-t)*s,n=s),{position:i,axisNameAvailableWidth:h,axisLabelShow:c,nameTruncateMaxWidth:n}}function Tf(t,e){var i=[];return t.eachComponent("parallel",function(n,o){var r=new Sf(n,t,e);r.name="parallel_"+o,r.resize(n,e),n.coordinateSystem=r,r.model=n,i.push(r)}),t.eachSeries(function(e){if("parallel"===e.get("coordinateSystem")){var i=t.queryComponents({mainType:"parallel",index:e.get("parallelIndex"),id:e.get("parallelId")})[0];e.coordinateSystem=i.coordinateSystem}}),i}function If(t,e){return e.type||(e.data?"category":"value")}function Af(t){Nx&&L(t),sw.call(this),this._zr=t,this.group=new Ww,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,Nx&&this._mounted,this._uid="brushController_"+cE++,this._handlers={},Qk(uE,function(t,e){this._handlers[e]=v(t,this)},this)}function kf(t,e){var o=t._zr;t._enableGlobalPan||Qc(o,aE,t._uid),Qk(t._handlers,function(t,e){o.on(e,t)}),t._brushType=e.brushType,t._brushOption=n(i(hE),e,!0)}function Ef(t){var e=t._zr;Jc(e,aE,t._uid),Qk(t._handlers,function(t,i){e.off(i,t)}),t._brushType=t._brushOption=null}function Lf(t,e){var i=dE[e.brushType].createCover(t,e);return i.__brushOption=e,Nf(i,e),t.group.add(i),i}function Of(t,e){var i=zf(e);return i.endCreating&&(i.endCreating(t,e),Nf(e,e.__brushOption)),e}function Pf(t,e){var i=e.__brushOption;zf(e).updateCoverShape(t,e,i.range,i)}function Nf(t,e){var i=e.z;null==i&&(i=nE),t.traverse(function(t){t.z=i,t.z2=i})}function Rf(t,e){zf(e).updateCommon(t,e),Pf(t,e)}function zf(t){return dE[t.__brushOption.brushType]}function Bf(t,e,i){var n=t._panels;if(!n)return!0;var o,r=t._transform;return Qk(n,function(t){t.isTargetByCursor(e,i,r)&&(o=t)}),o}function Hf(t,e){var i=t._panels;if(!i)return!0;var n=e.__brushOption.panelId;return null==n||i[n]}function Vf(t){var e=t._covers,i=e.length;return Qk(e,function(e){t.group.remove(e)},t),e.length=0,!!i}function Wf(t,e){var n=Jk(t._covers,function(t){var e=t.__brushOption,n=i(e.range);return{brushType:e.brushType,panelId:e.panelId,range:n}});t.trigger("brush",n,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Ff(t){var e=t._track;if(!e.length)return!1;var i=e[e.length-1],n=e[0],o=i[0]-n[0],r=i[1]-n[1];return iE(o*o+r*r,.5)>oE}function $f(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function Gf(t,e,i,n){var o=new Ww;return o.add(new oD({name:"main",style:qf(i),silent:!0,draggable:!0,cursor:"move",drift:Kk(t,e,o,"nswe"),ondragend:Kk(Wf,e,{isEnd:!0})})),Qk(n,function(i){o.add(new oD({name:i,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Kk(t,e,o,i),ondragend:Kk(Wf,e,{isEnd:!0})}))}),o}function jf(t,e,i,n){var o=n.brushStyle.lineWidth||0,r=eE(o,rE),a=i[0][0],s=i[1][0],l=a-o/2,h=s-o/2,c=i[0][1],u=i[1][1],d=c-r+o/2,f=u-r+o/2,p=c-a,g=u-s,m=p+o,v=g+o;Uf(t,e,"main",a,s,p,g),n.transformable&&(Uf(t,e,"w",l,h,r,v),Uf(t,e,"e",d,h,r,v),Uf(t,e,"n",l,h,m,r),Uf(t,e,"s",l,f,m,r),Uf(t,e,"nw",l,h,r,r),Uf(t,e,"ne",d,h,r,r),Uf(t,e,"sw",l,f,r,r),Uf(t,e,"se",d,f,r,r))}function Yf(t,e){var i=e.__brushOption,n=i.transformable,o=e.childAt(0);o.useStyle(qf(i)),o.attr({silent:!n,cursor:n?"move":"default"}),Qk(["w","e","n","s","se","sw","ne","nw"],function(i){var o=e.childOfName(i),r=Kf(t,i);o&&o.attr({silent:!n,invisible:!n,cursor:n?lE[r]+"-resize":null})})}function Uf(t,e,i,n,o,r,a){var s=e.childOfName(i);s&&s.setShape(ip(ep(t,e,[[n,o],[n+r,o+a]])))}function qf(t){return a({strokeNoScale:!0},t.brushStyle)}function Zf(t,e,i,n){var o=[tE(t,i),tE(e,n)],r=[eE(t,i),eE(e,n)];return[[o[0],r[0]],[o[1],r[1]]]}function Xf(t){return Mo(t.group)}function Kf(t,e){if(e.length>1){e=e.split("");var i=[Kf(t,e[0]),Kf(t,e[1])];return("e"===i[0]||"w"===i[0])&&i.reverse(),i.join("")}var n={w:"left",e:"right",n:"top",s:"bottom"},o={left:"w",right:"e",top:"n",bottom:"s"},i=To(n[e],Xf(t));return o[i]}function Qf(t,e,i,n,o,r,a,s){var l=n.__brushOption,h=t(l.range),c=tp(i,r,a);Qk(o.split(""),function(t){var e=sE[t];h[e[0]][e[1]]+=c[e[0]]}),l.range=e(Zf(h[0][0],h[1][0],h[0][1],h[1][1])),Rf(i,n),Wf(i,{isEnd:!1})}function Jf(t,e,i,n,o){var r=e.__brushOption.range,a=tp(t,i,n);Qk(r,function(t){t[0]+=a[0],t[1]+=a[1]}),Rf(t,e),Wf(t,{isEnd:!1})}function tp(t,e,i){var n=t.group,o=n.transformCoordToLocal(e,i),r=n.transformCoordToLocal(0,0);return[o[0]-r[0],o[1]-r[1]]}function ep(t,e,n){var o=Hf(t,e);return o&&!0!==o?o.clipPath(n,t._transform):i(n)}function ip(t){var e=tE(t[0][0],t[1][0]),i=tE(t[0][1],t[1][1]);return{x:e,y:i,width:eE(t[0][0],t[1][0])-e,height:eE(t[0][1],t[1][1])-i}}function np(t,e,i){if(t._brushType){var n=t._zr,o=t._covers,r=Bf(t,e,i);if(!t._dragging)for(var a=0;a<o.length;a++){var s=o[a].__brushOption;if(r&&(!0===r||s.panelId===r.panelId)&&dE[s.brushType].contain(o[a],i[0],i[1]))return}r&&n.setCursorStyle("crosshair")}}function op(t){var e=t.event;e.preventDefault&&e.preventDefault()}function rp(t,e,i){return t.childOfName("main").contain(e,i)}function ap(t,e,n,o){var r,a=t._creatingCover,s=t._creatingPanel,l=t._brushOption;if(t._track.push(n.slice()),Ff(t)||a){if(s&&!a){"single"===l.brushMode&&Vf(t);var h=i(l);h.brushType=sp(h.brushType,s),h.panelId=!0===s?null:s.panelId,a=t._creatingCover=Lf(t,h),t._covers.push(a)}if(a){var c=dE[sp(t._brushType,s)];a.__brushOption.range=c.getCreatingRange(ep(t,a,t._track)),o&&(Of(t,a),c.updateCommon(t,a)),Pf(t,a),r={isEnd:o}}}else o&&"single"===l.brushMode&&l.removeOnClick&&Bf(t,e,n)&&Vf(t)&&(r={isEnd:o,removeOnClick:!0});return r}function sp(t,e){return"auto"===t?(Nx&&L(e&&e.defaultBrushType,'MUST have defaultBrushType when brushType is "atuo"'),e.defaultBrushType):t}function lp(t){if(this._dragging){op(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY),i=ap(this,t,e,!0);this._dragging=!1,this._track=[],this._creatingCover=null,i&&Wf(this,i)}}function hp(t){return{createCover:function(e,i){return Gf(Kk(Qf,function(e){var i=[e,[0,100]];return t&&i.reverse(),i},function(e){return e[t]}),e,i,[["w","e"],["n","s"]][t])},getCreatingRange:function(e){var i=$f(e);return[tE(i[0][t],i[1][t]),eE(i[0][t],i[1][t])]},updateCoverShape:function(e,i,n,o){var r,a=Hf(e,i);if(!0!==a&&a.getLinearBrushOtherExtent)r=a.getLinearBrushOtherExtent(t,e._transform);else{var s=e._zr;r=[0,[s.getWidth(),s.getHeight()][1-t]]}var l=[n,r];t&&l.reverse(),jf(e,i,l,o)},updateCommon:Yf,contain:rp}}function cp(t){return t=fp(t),function(e,i){return Ao(e,t)}}function up(t,e){return t=fp(t),function(i){var n=null!=e?e:i,o=n?t.width:t.height,r=n?t.x:t.y;return[r,r+(o||0)]}}function dp(t,e,i){return t=fp(t),function(n,o,r){return t.contain(o[0],o[1])&&!du(n,e,i)}}function fp(t){return ie.create(t)}function pp(t,e,i){return i&&"axisAreaSelect"===i.type&&e.findComponents({mainType:"parallelAxis",query:i})[0]===t}function gp(t){var e=t.axis;return f(t.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(t[0],!0),e.dataToCoord(t[1],!0)]}})}function mp(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}function vp(t,e){var i=t._model;return i.get("axisExpandable")&&i.get("axisExpandTriggerOn")===e}function yp(t,e){if(!t.encodeDefine){var i=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(i){var n=t.encodeDefine=z();d(i.dimensions,function(t){var e=_p(t);n.set(t,e)})}}}function _p(t){return+t.replace("dim","")}function xp(t,e,i){var n=t.model,o=t.getRect(),r=new oD({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),a="horizontal"===n.get("layout")?"width":"height";return r.setShape(a,0),Do(r,{shape:{width:o.width,height:o.height}},e,i),r}function wp(t,e,i,n){for(var o=[],r=0;r<i.length;r++){var a=i[r],s=t.get(t.mapDimension(a),e);Mp(s,n.getAxis(a).type)||o.push(n.dataToPoint(s,a))}return o}function bp(t,e,i,n,o){var r=wp(t,i,n,o),a=new nD({shape:{points:r},silent:!0,z2:10});return e.add(a),t.setItemGraphicEl(i,a),a}function Sp(t){var e=t.get("smooth",!0);return!0===e&&(e=mE),{lineStyle:t.getModel("lineStyle").getLineStyle(),smooth:null!=e?e:mE}}function Dp(t,e,i,n){var o=n.lineStyle;if(e.hasItemOption){o=e.getItemModel(i).getModel("lineStyle").getLineStyle()}t.useStyle(o);var r=t.style;r.fill=null,r.stroke=e.getItemVisual(i,"color"),r.opacity=e.getItemVisual(i,"opacity"),n.smooth&&(t.shape.smooth=n.smooth)}function Mp(t,e){return"category"===e?null==t:null==t||isNaN(t)}function Cp(t,e,i){var n=new oD({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Do(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}function Tp(){function t(e,n){if(n>=i.length)return e;for(var o=-1,r=e.length,a=i[n++],s={},l={};++o<r;){var h=a(e[o]),c=l[h];c?c.push(e[o]):l[h]=[e[o]]}return d(l,function(e,i){s[i]=t(e,n)}),s}function e(t,o){if(o>=i.length)return t;var r=[],a=n[o++];return d(t,function(t,i){r.push({key:i,values:e(t,o)})}),a?r.sort(function(t,e){return a(t.key,e.key)}):r}var i=[],n=[];return{key:function(t){return i.push(t),this},sortKeys:function(t){return n[i.length-1]=t,this},entries:function(i){return e(t(i,0),0)}}}function Ip(t,e){return cr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function Ap(t,e,i,n,o,r,a){Ep(t,e,i,o),Pp(t,e,r,n,a),Wp(t)}function kp(t){d(t,function(t){var e=Gp(t.outEdges,qp),i=Gp(t.inEdges,qp),n=Math.max(e,i);t.setLayout({value:n},!0)})}function Ep(t,e,i,n){for(var o=[],r=[],a=[],s=[],l=0,h=0,c=0;c<e.length;c++)o[c]=1;for(var c=0;c<t.length;c++)r[c]=t[c].inEdges.length,0===r[c]&&a.push(t[c]);for(;a.length;)d(a,function(n){n.setLayout({x:l},!0),n.setLayout({dx:i},!0),d(n.outEdges,function(i){var n=e.indexOf(i);o[n]=0;var a=i.node2,l=t.indexOf(a);0==--r[l]&&s.push(a)})}),++l,a=s,s=[];for(var c=0;c<o.length;c++)if(Nx&&1===o[c])throw new Error("Sankey is a DAG, the original data has cycle!");Lp(t,l),h=(n-i)/(l-1),Op(t,h)}function Lp(t,e){d(t,function(t){t.outEdges.length||t.setLayout({x:e-1},!0)})}function Op(t,e){d(t,function(t){var i=t.getLayout().x*e;t.setLayout({x:i},!0)})}function Pp(t,e,i,n,o){var r=Tp().key(function(t){return t.getLayout().x}).sortKeys(Up).entries(t).map(function(t){return t.values});Np(t,r,e,i,n),Rp(r,n,i);for(var a=1;o>0;o--)a*=.99,zp(r,a),Rp(r,n,i),Hp(r,a),Rp(r,n,i)}function Np(t,e,i,n,o){var r=[];d(e,function(t){var e=t.length,i=0;d(t,function(t){i+=t.getLayout().value});var a=(n-(e-1)*o)/i;r.push(a)}),r.sort(function(t,e){return t-e});var a=r[0];d(e,function(t){d(t,function(t,e){t.setLayout({y:e},!0);var i=t.getLayout().value*a;t.setLayout({dy:i},!0)})}),d(i,function(t){var e=+t.getValue()*a;t.setLayout({dy:e},!0)})}function Rp(t,e,i){d(t,function(t){var n,o,r,a=0,s=t.length;for(t.sort(Yp),r=0;r<s;r++){if(n=t[r],(o=a-n.getLayout().y)>0){var l=n.getLayout().y+o;n.setLayout({y:l},!0)}a=n.getLayout().y+n.getLayout().dy+e}if((o=a-e-i)>0){var l=n.getLayout().y-o;for(n.setLayout({y:l},!0),a=n.getLayout().y,r=s-2;r>=0;--r)n=t[r],o=n.getLayout().y+n.getLayout().dy+e-a,o>0&&(l=n.getLayout().y-o,n.setLayout({y:l},!0)),a=n.getLayout().y}})}function zp(t,e){d(t.slice().reverse(),function(t){d(t,function(t){if(t.outEdges.length){var i=Gp(t.outEdges,Bp)/Gp(t.outEdges,qp),n=t.getLayout().y+(i-jp(t))*e;t.setLayout({y:n},!0)}})})}function Bp(t){return jp(t.node2)*t.getValue()}function Hp(t,e){d(t,function(t){d(t,function(t){if(t.inEdges.length){var i=Gp(t.inEdges,Vp)/Gp(t.inEdges,qp),n=t.getLayout().y+(i-jp(t))*e;t.setLayout({y:n},!0)}})})}function Vp(t){return jp(t.node1)*t.getValue()}function Wp(t){d(t,function(t){t.outEdges.sort(Fp),t.inEdges.sort($p)}),d(t,function(t){var e=0,i=0;d(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),d(t.inEdges,function(t){t.setLayout({ty:i},!0),i+=t.getLayout().dy})})}function Fp(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}function $p(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}function Gp(t,e){for(var i=0,n=t.length,o=-1;++o<n;){var r=+e.call(t,t[o],o);isNaN(r)||(i+=r)}return i}function jp(t){return t.getLayout().y+t.getLayout().dy/2}function Yp(t,e){return t.getLayout().y-e.getLayout().y}function Up(t,e){return t-e}function qp(t){return t.getValue()}function Zp(t,e,i,n,o){var r=t.ends,a=new ME({shape:{points:o?Kp(r,n,t):r}});return Xp(t,a,e,i,o),a}function Xp(t,e,i,n,o){var r=i.hostModel;(0,_D[o?"initProps":"updateProps"])(e,{shape:{points:t.ends}},r,n);var a=i.getItemModel(n),s=a.getModel(SE),l=i.getItemVisual(n,"color"),h=s.getItemStyle(["borderColor"]);h.stroke=l,h.strokeNoScale=!0,e.useStyle(h),e.z2=100,co(e,a.getModel(DE).getItemStyle())}function Kp(t,e,i){return f(t,function(t){return t=t.slice(),t[e]=i.initBaseline,t})}function Qp(t){var e=[],i=[];return t.eachSeriesByType("boxplot",function(t){var n=t.getBaseAxis(),o=l(i,n);o<0&&(o=i.length,i[o]=n,e[o]={axis:n,seriesModels:[]}),e[o].seriesModels.push(t)}),e}function Jp(t){var e,i,n=t.axis,o=t.seriesModels,r=o.length,a=t.boxWidthList=[],s=t.boxOffsetList=[],l=[];if("category"===n.type)i=n.getBandWidth();else{var h=0;IE(o,function(t){h=Math.max(h,t.getData().count())}),e=n.getExtent(),Math.abs(e[1]-e[0])}IE(o,function(t){var e=t.get("boxWidth");_(e)||(e=[e,e]),l.push([Bo(e[0],i)||0,Bo(e[1],i)||0])});var c=.8*i-2,u=c/r*.3,d=(c-u*(r-1))/r,f=d/2-c/2;IE(o,function(t,e){s.push(f),f+=u+d,a.push(Math.min(Math.max(d,l[e][0]),l[e][1]))})}function tg(t,e,i){function n(t,i,n){var o=s.get(i,n),r=[];r[h]=t,r[c]=o;var l;return isNaN(t)||isNaN(o)?l=[NaN,NaN]:(l=a.dataToPoint(r),l[h]+=e),l}function o(t,e,i){var n=e.slice(),o=e.slice();n[h]+=l,o[h]-=l,i?t.push(n,o):t.push(o,n)}function r(t,e){var i=e.slice(),n=e.slice();i[h]-=l,n[h]+=l,t.push(i,n)}var a=t.coordinateSystem,s=t.getData(),l=i/2,h="horizontal"===t.get("layout")?0:1,c=1-h,u=["x","y"],d=s.mapDimension(u[h]),f=s.mapDimension(u[c],!0);if(!(null==d||f.length<5))for(var p=0;p<s.count();p++){var g=s.get(d,p),m=n(g,f[2],p),v=n(g,f[0],p),y=n(g,f[1],p),_=n(g,f[3],p),x=n(g,f[4],p),w=[];o(w,y,0),o(w,_,1),w.push(v,y,x,_),r(w,v),r(w,x),r(w,m),s.setItemLayout(p,{initBaseline:m[c],ends:w})}}function eg(t,e,i){var n=t.ends;return new OE({shape:{points:i?ng(n,t):n},z2:100})}function ig(t,e,i,n){var o=e.getItemModel(i),r=o.getModel(kE),a=e.getItemVisual(i,"color"),s=e.getItemVisual(i,"borderColor")||a,l=r.getItemStyle(LE);t.useStyle(l),t.style.strokeNoScale=!0,t.style.fill=a,t.style.stroke=s,t.__simpleBox=n,co(t,o.getModel(EE).getItemStyle())}function ng(t,e){return f(t,function(t){return t=t.slice(),t[1]=e.initBaseline,t})}function og(t,e,i){var n=t.getData(),o=n.getLayout("largePoints"),r=new PE({shape:{points:o},__sign:1});e.add(r);var a=new PE({shape:{points:o},__sign:-1});e.add(a),rg(1,r,t,n),rg(-1,a,t,n),i&&(r.incremental=!0,a.incremental=!0)}function rg(t,e,i,n){var o=t>0?"P":"N",r=n.getVisual("borderColor"+o)||n.getVisual("color"+o),a=i.getModel(kE).getItemStyle(LE);e.useStyle(a),e.style.fill=null,e.style.stroke=r}function ag(t,e,i,n,o){return i>n?-1:i<n?1:e>0?t.get(o,e-1)<=n?1:-1:1}function sg(t,e){var i,n=t.getBaseAxis(),o="category"===n.type?n.getBandWidth():(i=n.getExtent(),Math.abs(i[1]-i[0])/e.count()),r=Bo(I(t.get("barMaxWidth"),o),o),a=Bo(I(t.get("barMinWidth"),1),o),s=t.get("barWidth");return null!=s?Bo(s,o):Math.max(Math.min(o/2,r),a)}function lg(t){return _(t)||(t=[+t,+t]),t}function hg(t,e){t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?e.color:null,fill:"fill"===e.brushType?e.color:null}})})}function cg(t,e){Ww.call(this);var i=new wh(t,e),n=new Ww;this.add(i),this.add(n),n.beforeUpdate=function(){this.attr(i.getScale())},this.updateData(t,e)}function ug(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(Nx&&console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }"),t.data=f(e,function(t){var e=[t[0].coord,t[1].coord],i={coords:e};return t[0].name&&(i.fromName=t[0].name),t[1].name&&(i.toName=t[1].name),o([i,t[0],t[1]])}))}function dg(t,e,i){Ww.call(this),this.add(this.createLine(t,e,i)),this._updateEffectSymbol(t,e)}function fg(t,e,i){Ww.call(this),this._createPolyline(t,e,i)}function pg(t,e,i){dg.call(this,t,e,i),this._lastFrame=0,this._lastFramePercent=0}function gg(){this.group=new Ww}function mg(t){return t instanceof Array||(t=[t,t]),t}function vg(){var t=Xx();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function yg(t,e,i){var n=t[1]-t[0];e=f(e,function(e){return{interval:[(e.interval[0]-t[0])/n,(e.interval[1]-t[0])/n]}});var o=e.length,r=0;return function(t){for(var n=r;n<o;n++){var a=e[n].interval;if(a[0]<=t&&t<=a[1]){r=n;break}}if(n===o)for(var n=r-1;n>=0;n--){var a=e[n].interval;if(a[0]<=t&&t<=a[1]){r=n;break}}return n>=0&&n<o&&i[n]}}function _g(t,e){var i=t[1]-t[0];return e=[(e[0]-t[0])/i,(e[1]-t[0])/i],function(t){return t>=e[0]&&t<=e[1]}}function xg(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}function wg(t,e,i,n){var o=t.getItemLayout(e),r=i.get("symbolRepeat"),a=i.get("symbolClip"),s=i.get("symbolPosition")||"start",l=i.get("symbolRotate"),h=(l||0)*Math.PI/180||0,c=i.get("symbolPatternSize")||2,u=i.isAnimationEnabled(),d={dataIndex:e,layout:o,itemModel:i,symbolType:t.getItemVisual(e,"symbol")||"circle",color:t.getItemVisual(e,"color"),symbolClip:a,symbolRepeat:r,symbolRepeatDirection:i.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:h,animationModel:u?i:null,hoverAnimation:u&&i.get("hoverAnimation"),z2:i.getShallow("z",!0)||0};bg(i,r,o,n,d),Dg(t,e,o,r,a,d.boundingLength,d.pxSign,c,n,d),Mg(i,d.symbolScale,h,n,d);var f=d.symbolSize,p=i.get("symbolOffset");return _(p)&&(p=[Bo(p[0],f[0]),Bo(p[1],f[1])]),Cg(i,f,o,r,a,p,s,d.valueLineWidth,d.boundingLength,d.repeatCutLength,n,d),d}function bg(t,e,i,n,o){var r,a=n.valueDim,s=t.get("symbolBoundingData"),l=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),h=l.toGlobalCoord(l.dataToCoord(0)),c=1-+(i[a.wh]<=0);if(_(s)){var u=[Sg(l,s[0])-h,Sg(l,s[1])-h];u[1]<u[0]&&u.reverse(),r=u[c]}else r=null!=s?Sg(l,s)-h:e?n.coordSysExtent[a.index][c]-h:i[a.wh];o.boundingLength=r,e&&(o.repeatCutLength=i[a.wh]),o.pxSign=r>0?1:r<0?-1:0}function Sg(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function Dg(t,e,i,n,o,r,a,s,l,h){
var c=l.valueDim,u=l.categoryDim,d=Math.abs(i[u.wh]),f=t.getItemVisual(e,"symbolSize");_(f)?f=f.slice():(null==f&&(f="100%"),f=[f,f]),f[u.index]=Bo(f[u.index],d),f[c.index]=Bo(f[c.index],n?d:Math.abs(r)),h.symbolSize=f,(h.symbolScale=[f[0]/s,f[1]/s])[c.index]*=(l.isHorizontal?-1:1)*a}function Mg(t,e,i,n,o){var r=t.get(iL)||0;r&&(oL.attr({scale:e.slice(),rotation:i}),oL.updateTransform(),r/=oL.getLineScale(),r*=e[n.valueDim.index]),o.valueLineWidth=r}function Cg(t,e,i,n,o,a,s,l,h,c,u,d){var f=u.categoryDim,p=u.valueDim,g=d.pxSign,m=Math.max(e[p.index]+l,0),v=m;if(n){var y=Math.abs(h),_=T(t.get("symbolMargin"),"15%")+"",x=!1;_.lastIndexOf("!")===_.length-1&&(x=!0,_=_.slice(0,_.length-1)),_=Bo(_,e[p.index]);var w=Math.max(m+2*_,0),b=x?0:2*_,S=Qo(n),D=S?n:$g((y+b)/w);_=(y-D*m)/2/(x?D:D-1),w=m+2*_,b=x?0:2*_,S||"fixed"===n||(D=c?$g((Math.abs(c)+b)/w):0),v=D*w-b,d.repeatTimes=D,d.symbolMargin=_}var M=g*(v/2),C=d.pathPosition=[];C[f.index]=i[f.wh]/2,C[p.index]="start"===s?M:"end"===s?h-M:h/2,a&&(C[0]+=a[0],C[1]+=a[1]);var I=d.bundlePosition=[];I[f.index]=i[f.xy],I[p.index]=i[p.xy];var A=d.barRectShape=r({},i);A[p.wh]=g*Math.max(Math.abs(i[p.wh]),Math.abs(C[p.index]+M)),A[f.wh]=i[f.wh];var k=d.clipShape={};k[f.xy]=-i[f.xy],k[f.wh]=u.ecSize[f.wh],k[p.xy]=0,k[p.wh]=i[p.wh]}function Tg(t){var e=t.symbolPatternSize,i=ql(t.symbolType,-e/2,-e/2,e,e,t.color);return i.attr({culling:!0}),"image"!==i.type&&i.setStyle({strokeNoScale:!0}),i}function Ig(t,e,i,n){function o(t){var e=c.slice(),n=i.pxSign,o=t;return("start"===i.symbolRepeatDirection?n>0:n<0)&&(o=d-1-t),e[u.index]=p*(o-d/2+.5)+c[u.index],{position:e,scale:i.symbolScale.slice(),rotation:i.rotation}}function r(){Vg(t,function(t){t.trigger("emphasis")})}function a(){Vg(t,function(t){t.trigger("normal")})}var s=t.__pictorialBundle,l=i.symbolSize,h=i.valueLineWidth,c=i.pathPosition,u=e.valueDim,d=i.repeatTimes||0,f=0,p=l[e.valueDim.index]+h+2*i.symbolMargin;for(Vg(t,function(t){t.__pictorialAnimationIndex=f,t.__pictorialRepeatTimes=d,f<d?Wg(t,null,o(f),i,n):Wg(t,null,{scale:[0,0]},i,n,function(){s.remove(t)}),Ng(t,i),f++});f<d;f++){var g=Tg(i);g.__pictorialAnimationIndex=f,g.__pictorialRepeatTimes=d,s.add(g);var m=o(f);Wg(g,{position:m.position,scale:[0,0]},{scale:m.scale,rotation:m.rotation},i,n),g.on("mouseover",r).on("mouseout",a),Ng(g,i)}}function Ag(t,e,i,n){function o(){this.trigger("emphasis")}function r(){this.trigger("normal")}var a=t.__pictorialBundle,s=t.__pictorialMainPath;s?Wg(s,null,{position:i.pathPosition.slice(),scale:i.symbolScale.slice(),rotation:i.rotation},i,n):(s=t.__pictorialMainPath=Tg(i),a.add(s),Wg(s,{position:i.pathPosition.slice(),scale:[0,0],rotation:i.rotation},{scale:i.symbolScale.slice()},i,n),s.on("mouseover",o).on("mouseout",r)),Ng(s,i)}function kg(t,e,i){var n=r({},e.barRectShape),o=t.__pictorialBarRect;o?Wg(o,null,{shape:n},e,i):(o=t.__pictorialBarRect=new oD({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(o))}function Eg(t,e,i,n){if(i.symbolClip){var o=t.__pictorialClipPath,a=r({},i.clipShape),s=e.valueDim,l=i.animationModel,h=i.dataIndex;if(o)So(o,{shape:a},l,h);else{a[s.wh]=0,o=new oD({shape:a}),t.__pictorialBundle.setClipPath(o),t.__pictorialClipPath=o;var c={};c[s.wh]=i.clipShape[s.wh],_D[n?"updateProps":"initProps"](o,{shape:c},l,h)}}}function Lg(t,e){var i=t.getItemModel(e);return i.getAnimationDelayParams=Og,i.isAnimationEnabled=Pg,i}function Og(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function Pg(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Ng(t,e){t.off("emphasis").off("normal");var i=e.symbolScale.slice();e.hoverAnimation&&t.on("emphasis",function(){this.animateTo({scale:[1.1*i[0],1.1*i[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:i.slice()},400,"elasticOut")})}function Rg(t,e,i,n){var o=new Ww,r=new Ww;return o.add(r),o.__pictorialBundle=r,r.attr("position",i.bundlePosition.slice()),i.symbolRepeat?Ig(o,e,i):Ag(o,e,i),kg(o,i,n),Eg(o,e,i,n),o.__pictorialShapeStr=Hg(t,i),o.__pictorialSymbolMeta=i,o}function zg(t,e,i){var n=i.animationModel,o=i.dataIndex;So(t.__pictorialBundle,{position:i.bundlePosition.slice()},n,o),i.symbolRepeat?Ig(t,e,i,!0):Ag(t,e,i,!0),kg(t,i,!0),Eg(t,e,i,!0)}function Bg(t,e,i,n){var o=n.__pictorialBarRect;o&&(o.style.text=null);var r=[];Vg(n,function(t){r.push(t)}),n.__pictorialMainPath&&r.push(n.__pictorialMainPath),n.__pictorialClipPath&&(i=null),d(r,function(t){So(t,{scale:[0,0]},i,e,function(){n.parent&&n.parent.remove(n)})}),t.setItemGraphicEl(e,null)}function Hg(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function Vg(t,e,i){d(t.__pictorialBundle.children(),function(n){n!==t.__pictorialBarRect&&e.call(i,n)})}function Wg(t,e,i,n,o,r){e&&t.attr(e),n.symbolClip&&!o?i&&t.attr(i):i&&_D[o?"updateProps":"initProps"](t,i,n.animationModel,n.dataIndex,r)}function Fg(t,e,i){var n=i.color,o=i.dataIndex,r=i.itemModel,s=r.getModel("itemStyle").getItemStyle(["color"]),l=r.getModel("emphasis.itemStyle").getItemStyle(),h=r.getShallow("cursor");Vg(t,function(t){t.setColor(n),t.setStyle(a({fill:n,opacity:i.opacity},s)),co(t,l),h&&(t.cursor=h),t.z2=i.z2});var c={},u=e.valueDim.posDesc[+(i.boundingLength>0)],d=t.__pictorialBarRect;Tc(d.style,c,r,n,e.seriesModel,o,u),co(d,c)}function $g(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}function Gg(t,e,i){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,e,i),this.model=t}function jg(t,e){var i=[];return t.eachComponent("singleAxis",function(n,o){var r=new Gg(n,t,e);r.name="single_"+o,r.resize(n,e),n.coordinateSystem=r,i.push(r)}),t.eachSeries(function(e){if("singleAxis"===e.get("coordinateSystem")){var i=t.queryComponents({mainType:"singleAxis",index:e.get("singleAxisIndex"),id:e.get("singleAxisId")})[0];e.coordinateSystem=i&&i.coordinateSystem}}),i}function Yg(t,e){e=e||{};var i=t.coordinateSystem,n=t.axis,o={},r=n.position,a=n.orient,s=i.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],h={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};o.position=["vertical"===a?h.vertical[r]:l[0],"horizontal"===a?h.horizontal[r]:l[3]];var c={horizontal:0,vertical:1};o.rotation=Math.PI/2*c[a];var u={top:-1,bottom:1,right:1,left:-1};o.labelDirection=o.tickDirection=o.nameDirection=u[r],t.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),T(e.labelInside,t.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var d=e.rotate;return null==d&&(d=t.get("axisLabel.rotate")),o.labelRotation="top"===r?-d:d,o.z2=1,o}function Ug(t,e){return e.type||(e.data?"category":"value")}function qg(t,e,i,n,o){var a=t.axis;if(!a.scale.isBlank()&&a.containData(e)){if(!t.involveSeries)return void i.showPointer(t,e);var s=Zg(e,t),l=s.payloadBatch,h=s.snapToValue;l[0]&&null==o.seriesIndex&&r(o,l[0]),!n&&t.snap&&a.containData(h)&&null!=h&&(e=h),i.showPointer(t,e,l,o),i.showTooltip(t,s,h)}}function Zg(t,e){var i=e.axis,n=i.dim,o=t,r=[],a=Number.MAX_VALUE,s=-1;return uL(e.seriesModels,function(e,l){var h,c,u=e.getData().mapDimension(n,!0);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(u,t,i);c=d.dataIndices,h=d.nestestValue}else{if(c=e.getData().indicesOfNearest(u[0],t,"category"===i.type?.5:null),!c.length)return;h=e.getData().get(u[0],c[0])}if(null!=h&&isFinite(h)){var f=t-h,p=Math.abs(f);p<=a&&((p<a||f>=0&&s<0)&&(a=p,s=f,o=h,r.length=0),uL(c,function(t){r.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:r,snapToValue:o}}function Xg(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function Kg(t,e,i,n){var o=i.payloadBatch,r=e.axis,a=r.model,s=e.axisPointerModel;if(e.triggerTooltip&&o.length){var l=e.coordSys.model,h=Sc(l),c=t.map[h];c||(c=t.map[h]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:r.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:n,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:o.slice()})}}function Qg(t,e,i){var n=i.axesInfo=[];uL(e,function(e,i){var o=e.axisPointerModel.option,r=t[i];r?(!e.useHandle&&(o.status="show"),o.value=r.value,o.seriesDataIndices=(r.payloadBatch||[]).slice()):!e.useHandle&&(o.status="hide"),"show"===o.status&&n.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:o.value})})}function Jg(t,e,i,n){if(nm(e)||!t.list.length)return void n({type:"hideTip"});var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}function tm(t,e,i){var n=i.getZr(),o=fL(n).axisPointerLastHighlights||{},r=fL(n).axisPointerLastHighlights={};uL(t,function(t,e){var i=t.axisPointerModel.option;"show"===i.status&&uL(i.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;r[e]=t})});var a=[],s=[];d(o,function(t,e){!r[e]&&s.push(t)}),d(r,function(t,e){!o[e]&&a.push(t)}),s.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:s}),a.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:a})}function em(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}function im(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=e.componentIndex,i.axisName=i[n+"AxisName"]=e.name,i.axisId=i[n+"AxisId"]=e.id,i}function nm(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function om(t,e,i){if(!Hx.node){var n=e.getZr();gL(n).records||(gL(n).records={}),rm(n,e);(gL(n).records[t]||(gL(n).records[t]={})).handler=i}}function rm(t,e){function i(i,n){t.on(i,function(i){var o=hm(e);mL(gL(t).records,function(t){t&&n(t,i,o.dispatchAction)}),am(o.pendings,e)})}gL(t).initialized||(gL(t).initialized=!0,i("click",y(lm,"click")),i("mousemove",y(lm,"mousemove")),i("globalout",sm))}function am(t,e){var i,n=t.showTip.length,o=t.hideTip.length;n?i=t.showTip[n-1]:o&&(i=t.hideTip[o-1]),i&&(i.dispatchAction=null,e.dispatchAction(i))}function sm(t,e,i){t.handler("leave",null,i)}function lm(t,e,i,n){e.handler(t,i,n)}function hm(t){var e={showTip:[],hideTip:[]},i=function(n){var o=e[n.type];o?o.push(n):(n.dispatchAction=i,t.dispatchAction(n))};return{dispatchAction:i,pendings:e}}function cm(t,e){if(!Hx.node){var i=e.getZr();(gL(i).records||{})[t]&&(gL(i).records[t]=null)}}function um(){}function dm(t,e,i,n){fm(yL(i).lastProp,n)||(yL(i).lastProp=n,e?So(i,n,t):(i.stopAnimation(),i.attr(n)))}function fm(t,e){if(b(t)&&b(e)){var i=!0;return d(e,function(e,n){i=i&&fm(t[n],e)}),!!i}return t===e}function pm(t,e){t[e.get("label.show")?"show":"hide"]()}function gm(t){return{position:t.position.slice(),rotation:t.rotation||0}}function mm(t,e,i){var n=e.get("z"),o=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=o&&(t.zlevel=o),t.silent=i)})}function vm(t){var e,i=t.get("type"),n=t.getModel(i+"Style");return"line"===i?(e=n.getLineStyle(),e.fill=null):"shadow"===i&&(e=n.getAreaStyle(),e.stroke=null),e}function ym(t,e,i,n,o){var r=i.get("value"),a=xm(r,e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),s=i.getModel("label"),l=ED(s.get("padding")||0),h=s.getFont(),c=we(a,h),u=o.position,d=c.width+l[1]+l[3],f=c.height+l[0]+l[2],p=o.align;"right"===p&&(u[0]-=d),"center"===p&&(u[0]-=d/2);var g=o.verticalAlign;"bottom"===g&&(u[1]-=f),"middle"===g&&(u[1]-=f/2),_m(u,d,f,n);var m=s.get("backgroundColor");m&&"auto"!==m||(m=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:d,height:f,r:s.get("borderRadius")},position:u.slice(),style:{text:a,textFont:h,textFill:s.getTextColor(),textPosition:"inside",fill:m,stroke:s.get("borderColor")||"transparent",lineWidth:s.get("borderWidth")||0,shadowBlur:s.get("shadowBlur"),shadowColor:s.get("shadowColor"),shadowOffsetX:s.get("shadowOffsetX"),shadowOffsetY:s.get("shadowOffsetY")},z2:10}}function _m(t,e,i,n){var o=n.getWidth(),r=n.getHeight();t[0]=Math.min(t[0]+e,o)-e,t[1]=Math.min(t[1]+i,r)-i,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function xm(t,e,i,n,o){t=e.scale.parse(t);var r=e.scale.getLabel(t,{precision:o.precision}),a=o.formatter;if(a){var s={value:Gl(e,t),seriesData:[]};d(n,function(t){var e=i.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,o=e&&e.getDataParams(n);o&&s.seriesData.push(o)}),w(a)?r=a.replace("{value}",r):x(a)&&(r=a(s))}return r}function wm(t,e,i){var n=dt();return vt(n,n,i.rotation),mt(n,n,i.position),Co([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function bm(t,e,i,n,o,r){var a=mI.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get("label.margin"),ym(e,n,o,r,{position:wm(n.axis,t,i),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function Sm(t,e,i){return i=i||0,{x1:t[i],y1:t[1-i],x2:e[i],y2:e[1-i]}}function Dm(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}}function Mm(t,e,i,n,o,r){return{cx:t,cy:e,r0:i,r:n,startAngle:o,endAngle:r,clockwise:!0}}function Cm(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}function Tm(t){return"x"===t.dim?0:1}function Im(t){return t.isHorizontal()?0:1}function Am(t,e){var i=t.getRect();return[i[SL[e]],i[SL[e]]+i[DL[e]]]}function km(t,e,i){var n=new oD({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Do(n,{shape:{width:t.width+20,height:t.height+20}},e,i),n}function Em(t,e,i){if(t.count())for(var n,o=e.coordinateSystem,r=e.getLayerSeries(),a=t.mapDimension("single"),s=t.mapDimension("value"),l=f(r,function(e){return f(e.indices,function(e){var i=o.dataToPoint(t.get(a,e));return i[1]=t.get(s,e),i})}),h=Lm(l),c=h.y0,u=i/h.max,d=r.length,p=r[0].indices.length,g=0;g<p;++g){n=c[g]*u,t.setItemLayout(r[0].indices[g],{layerIndex:0,x:l[0][g][0],y0:n,y:l[0][g][1]*u});for(var m=1;m<d;++m)n+=l[m-1][g][1]*u,t.setItemLayout(r[m].indices[g],{layerIndex:m,x:l[m][g][0],y0:n,y:l[m][g][1]*u})}}function Lm(t){for(var e,i=t.length,n=t[0].length,o=[],r=[],a=0,s={},l=0;l<n;++l){for(var h=0,e=0;h<i;++h)e+=t[h][l][1];e>a&&(a=e),o.push(e)}for(var c=0;c<n;++c)r[c]=(a-o[c])/2;a=0;for(var u=0;u<n;++u){var d=o[u]+r[u];d>a&&(a=d)}return s.y0=r,s.max=a,s}function Om(t){var e=0;d(t.children,function(t){Om(t);var i=t.value;_(i)&&(i=i[0]),e+=i});var i=t.value;_(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=e),i<0&&(i=0),_(t.value)?t.value[0]=i:t.value=i}function Pm(t,e,i){function n(){a.ignore=a.hoverIgnore}function o(){a.ignore=a.normalIgnore}Ww.call(this);var r=new QS({z2:EL});r.seriesIndex=e.seriesIndex;var a=new qS({z2:LL,silent:t.getModel("label").get("silent")});this.add(r),this.add(a),this.updateData(!0,t,"normal",e,i),this.on("emphasis",n).on("normal",o).on("mouseover",n).on("mouseout",o)}function Nm(t,e,i){var n=t.getVisual("color"),o=t.getVisual("visualMeta");o&&0!==o.length||(n=null);var r=t.getModel("itemStyle").get("color");if(r)return r;if(n)return n;if(0===t.depth)return i.option.color[0];var a=i.option.color.length;return r=i.option.color[Rm(t)%a]}function Rm(t){for(var e=t;e.depth>1;)e=e.parentNode;return l(t.getAncestors()[0].children,e)}function zm(t,e,i){return i!==kL.NONE&&(i===kL.SELF?t===e:i===kL.ANCESTOR?t===e||t.isAncestorOf(e):t===e||t.isDescendantOf(e))}function Bm(t,e){var i=t.children||[];t.children=Hm(i,e),i.length&&d(t.children,function(t){Bm(t,e)})}function Hm(t,e){if("function"==typeof e)return t.sort(e);var i="asc"===e;return t.sort(function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0===n?(t.dataIndex-e.dataIndex)*(i?-1:1):n})}function Vm(t,e){return e=e||[0,0],f(["x","y"],function(i,n){var o=this.getAxis(i),r=e[n],a=t[n]/2;return"category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(r-a)-o.dataToCoord(r+a))},this)}function Wm(t,e){return e=e||[0,0],f([0,1],function(i){var n=e[i],o=t[i]/2,r=[],a=[];return r[i]=n-o,a[i]=n+o,r[1-i]=a[1-i]=e[1-i],Math.abs(this.dataToPoint(r)[i]-this.dataToPoint(a)[i])},this)}function Fm(t,e){var i=this.getAxis(),n=e instanceof Array?e[0]:e,o=(t instanceof Array?t[0]:t)/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(n-o)-i.dataToCoord(n+o))}function $m(t,e){return f(["Radius","Angle"],function(i,n){var o=this["get"+i+"Axis"](),r=e[n],a=t[n]/2,s="dataTo"+i,l="category"===o.type?o.getBandWidth():Math.abs(o[s](r-a)-o[s](r+a));return"Angle"===i&&(l=l*Math.PI/180),l},this)}function Gm(t){var e,i=t.type;if("path"===i){var n=t.shape;e=jn(n.pathData,null,{x:n.x||0,y:n.y||0,width:n.width||0,height:n.height||0},"center"),e.__customPathData=t.pathData}else if("image"===i)e=new ni({}),e.__customImagePath=t.style.image;else if("text"===i)e=new qS({}),e.__customText=t.style.text;else{var o=_D[i.charAt(0).toUpperCase()+i.slice(1)];Nx&&L(o,'graphic type "'+i+'" can not be found.'),e=new o}return e.__customGraphicType=i,e.name=t.name,e}function jm(t,e,n,o,r,a){var s={},l=n.style||{};if(n.shape&&(s.shape=i(n.shape)),n.position&&(s.position=n.position.slice()),n.scale&&(s.scale=n.scale.slice()),n.origin&&(s.origin=n.origin.slice()),n.rotation&&(s.rotation=n.rotation),"image"===t.type&&n.style){var h=s.style={};d(["x","y","width","height"],function(e){Ym(e,h,l,t.style,a)})}if("text"===t.type&&n.style){var h=s.style={};d(["x","y"],function(e){Ym(e,h,l,t.style,a)}),!l.hasOwnProperty("textFill")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty("textStroke")&&l.stroke&&(l.textStroke=l.stroke)}if("group"!==t.type&&(t.useStyle(l),a)){t.style.opacity=0;var c=l.opacity;null==c&&(c=1),Do(t,{style:{opacity:c}},o,e)}a?t.attr(s):So(t,s,o,e),t.attr({z2:n.z2||0,silent:n.silent}),!1!==n.styleEmphasis&&co(t,n.styleEmphasis)}function Ym(t,e,i,n,o){null==i[t]||o||(e[t]=i[t],i[t]=n[t])}function Um(t,e,i,n){function o(t){null==t&&(t=v),D&&(y=e.getItemModel(t),_=y.getModel(jL),x=y.getModel(YL),w=e.getItemVisual(t,"color"),D=!1)}function s(t,i){return null==i&&(i=v),e.get(e.getDimension(t||0),i)}function l(i,n){null==n&&(n=v),o(n);var a=y.getModel($L).getItemStyle();null!=w&&(a.fill=w);var s=e.getItemVisual(n,"opacity");return null!=s&&(a.opacity=s),fo(a,_,null,{autoColor:w,isRectText:!0}),a.text=_.getShallow("show")?I(t.getFormattedLabel(n,"normal"),xh(e,n)):null,i&&r(a,i),a}function h(i,n){null==n&&(n=v),o(n);var a=y.getModel(GL).getItemStyle();return fo(a,x,null,{isRectText:!0},!0),a.text=x.getShallow("show")?A(t.getFormattedLabel(n,"emphasis"),t.getFormattedLabel(n,"normal"),xh(e,n)):null,i&&r(a,i),a}function c(t,i){return null==i&&(i=v),e.getItemVisual(i,t)}function u(t){if(g.getBaseAxis){return Il(a({axis:g.getBaseAxis()},t),n)}}function d(){return i.getCurrentSeriesIndices()}function f(t){return wo(t,i)}var p=t.get("renderItem"),g=t.coordinateSystem,m={};g&&(Nx&&(L(p,"series.render is required."),L(g.prepareCustoms||qL[g.type],"This coordSys does not support custom series.")),m=g.prepareCustoms?g.prepareCustoms():qL[g.type](g));var v,y,_,x,w,b=a({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:s,style:l,styleEmphasis:h,visual:c,barLayout:u,currentSeriesIndices:d,font:f},m.api||{}),S={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:m.coordSys,dataInsideLength:e.count(),encode:qm(t.getData())},D=!0;return function(t){return v=t,D=!0,p&&p(a({dataIndexInside:t,dataIndex:e.getRawIndex(t)},S),b)||{}}}function qm(t){var e={};return d(t.dimensions,function(i,n){var o=t.getDimensionInfo(i);if(!o.isExtraCoord){var r=o.coordDim;(e[r]=e[r]||[])[o.coordDimIndex]=n}}),e}function Zm(t,e,i,n,o,r){return t=Xm(t,e,i,n,o,r),t&&r.setItemGraphicEl(e,t),t}function Xm(t,e,i,n,o,r){var a=i.type;if(!t||a===t.__customGraphicType||"path"===a&&i.pathData===t.__customPathData||"image"===a&&i.style.image===t.__customImagePath||"text"===a&&i.style.text===t.__customText||(o.remove(t),t=null),null!=a){var s=!t;if(!t&&(t=Gm(i)),jm(t,e,i,n,r,s),"group"===a){var l=t.children()||[],h=i.children||[];if(i.diffChildrenByName)Km({oldChildren:l,newChildren:h,dataIndex:e,animatableModel:n,group:t,data:r});else{for(var c=0;c<h.length;c++)Xm(t.childAt(c),e,h[c],n,t,r);for(;c<l.length;c++)l[c]&&t.remove(l[c])}}return o.add(t),t}}function Km(t){new Gs(t.oldChildren,t.newChildren,Qm,Qm,t).add(Jm).update(Jm).remove(tv).execute()}function Qm(t,e){var i=t&&t.name;return null!=i?i:UL+e}function Jm(t,e){var i=this.context,n=null!=t?i.newChildren[t]:null;Xm(null!=e?i.oldChildren[e]:null,i.dataIndex,n,i.animatableModel,i.group,i.data)}function tv(t){var e=this.context,i=e.oldChildren[t];i&&e.group.remove(i)}function ev(t,e,i,n){var o=i.type;Nx&&L(o,"graphic type MUST be set");var r=_D[o.charAt(0).toUpperCase()+o.slice(1)];Nx&&L(r,"graphic type can not be found");var a=new r(i);e.add(a),n.set(t,a),a.__ecGraphicId=t}function iv(t,e){var i=t&&t.parent;i&&("group"===t.type&&t.traverse(function(t){iv(t,e)}),e.removeKey(t.__ecGraphicId),i.remove(t))}function nv(t){return t=r({},t),d(["id","parentId","$action","hv","bounding"].concat(VD),function(e){delete t[e]}),t}function ov(t,e){var i;return d(e,function(e){null!=t[e]&&"auto"!==t[e]&&(i=!0)}),i}function rv(t,e){var i=t.exist;if(e.id=t.keyInfo.id,!e.type&&i&&(e.type=i.type),null==e.parentId){var n=e.parentOption;n?e.parentId=n.id:i&&(e.parentId=i.parentId)}e.parentOption=null}function av(t,e,i){var o=r({},i),a=t[e],s=i.$action||"merge";if("merge"===s)if(a){if(Nx){var l=i.type;L(!l||a.type===l,'Please set $action: "replace" to change `type`')}n(a,o,!0),fr(a,o,{ignoreSize:!0}),gr(i,a)}else t[e]=o;else"replace"===s?t[e]=o:"remove"===s&&a&&(t[e]=null)}function sv(t,e){t&&(t.hv=e.hv=[ov(e,["left","right"]),ov(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0)))}function lv(t,e,i){var n,o={},r="toggleSelected"===t;return i.eachComponent("legend",function(i){r&&null!=n?i[n?"select":"unSelect"](e.name):(i[t](e.name),n=i.isSelected(e.name)),d(i.getData(),function(t){var e=t.get("name");if("\n"!==e&&""!==e){var n=i.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&n:o[e]=n}})}),{name:e.name,selected:o}}function hv(t,e,i){var n=e.getBoxLayoutParams(),o=e.get("padding"),r={width:i.getWidth(),height:i.getHeight()},a=cr(n,r,o);FD(e.get("orient"),t,e.get("itemGap"),a.width,a.height),ur(t,n,r,o)}function cv(t,e){var i=ED(e.get("padding")),n=e.getItemStyle(["color","opacity"]);n.fill=e.get("backgroundColor");var t=new oD({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1});return t}function uv(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function dv(t,e,i,n){var o=i.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:t.name,name:e,excludeSeriesId:n})}function fv(t,e,i,n){var o=i.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:t.name,name:e,excludeSeriesId:n})}function pv(t,e,i){var n=t.getOrient(),o=[1,1];o[n.index]=0,fr(e,i,{type:"box",ignoreSize:o})}function gv(t){var e="left "+t+"s cubic-bezier(0.23, 1, 0.32, 1),top "+t+"s cubic-bezier(0.23, 1, 0.32, 1)";return f(lO,function(t){return t+"transition:"+e}).join(";")}function mv(t){var e=[],i=t.get("fontSize"),n=t.getTextColor();return n&&e.push("color:"+n),e.push("font:"+t.getFont()),i&&e.push("line-height:"+Math.round(3*i/2)+"px"),aO(["decoration","align"],function(i){var n=t.get(i);n&&e.push("text-"+i+":"+n)}),e.join(";")}function vv(t){var e=[],i=t.get("transitionDuration"),n=t.get("backgroundColor"),o=t.getModel("textStyle"),r=t.get("padding");return i&&e.push(gv(i)),n&&(Hx.canvasSupported?e.push("background-Color:"+n):(e.push("background-Color:#"+zt(n)),e.push("filter:alpha(opacity=70)"))),aO(["width","color","radius"],function(i){var n="border-"+i,o=sO(n),r=t.get(o);null!=r&&e.push(n+":"+r+("color"===i?"":"px"))}),e.push(mv(o)),null!=r&&e.push("padding:"+ED(r).join("px ")+"px"),e.join(";")+";"}function yv(t,e){if(Hx.wxa)return null;var i=document.createElement("div"),n=this._zr=e.getZr();this.el=i,this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var o=this;i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(e){if(e=e||window.event,!o._enterable){var i=n.handler;fi(t,e,!0),i.dispatch("mousemove",e)}},i.onmouseleave=function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1}}function _v(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(Lo.isInstance(i)&&(i=i.get("tooltip",!0)),"string"==typeof i&&(i={formatter:i}),e=new Lo(i,e,e.ecModel))}return e}function xv(t,e){return t.dispatchAction||v(e.dispatchAction,e)}function wv(t,e,i,n,o,r,a){var s=Sv(i),l=s.width,h=s.height;return null!=r&&(t+l+r>n?t-=l+r:t+=r),null!=a&&(e+h+a>o?e-=h+a:e+=a),[t,e]}function bv(t,e,i,n,o){var r=Sv(i),a=r.width,s=r.height;return t=Math.min(t+a,n)-a,e=Math.min(e+s,o)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function Sv(t){var e=t.clientWidth,i=t.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(t);n&&(e+=parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10)+parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),i+=parseInt(n.paddingTop,10)+parseInt(n.paddingBottom,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:i}}function Dv(t,e,i){var n=i[0],o=i[1],r=0,a=0,s=e.width,l=e.height;switch(t){case"inside":r=e.x+s/2-n/2,a=e.y+l/2-o/2;break;case"top":r=e.x+s/2-n/2,a=e.y-o-5;break;case"bottom":r=e.x+s/2-n/2,a=e.y+l+5;break;case"left":r=e.x-n-5,a=e.y+l/2-o/2;break;case"right":r=e.x+s+5,a=e.y+l/2-o/2}return[r,a]}function Mv(t){return"center"===t||"middle"===t}function Cv(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function Tv(t){return t.dim}function Iv(t,e,i){var n=i.getWidth(),o=i.getHeight(),r={},a=Av(g(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,s=i.getBaseAxis(),l=Cv(t),h=a[Tv(s)][l],c=h.offset,u=h.width,d=i.getOtherAxis(s),f=t.get("center")||["50%","50%"],p=Bo(f[0],n),g=Bo(f[1],o),m=t.get("barMinHeight")||0,v=t.get("barMinAngle")||0;r[l]=r[l]||[];for(var y=e.mapDimension(d.dim),_=e.mapDimension(s.dim),x=dl(e,y),w=d.getExtent()[0],b=0,S=e.count();b<S;b++){var D=e.get(y,b),M=e.get(_,b);if(!isNaN(D)){var C=D>=0?"p":"n",T=w;x&&(r[l][M]||(r[l][M]={p:w,n:w}),T=r[l][M][C]);var I,A,k,E;if("radius"===d.dim){var L=d.dataToRadius(D)-w,O=s.dataToAngle(M);Math.abs(L)<m&&(L=(L<0?-1:1)*m),I=T,A=T+L,k=O-c,E=k-u,x&&(r[l][M][C]=A)}else{var P=d.dataToAngle(D,!0)-w,N=s.dataToRadius(M);Math.abs(P)<v&&(P=(P<0?-1:1)*v),I=N+c,A=I+u,k=T,E=T+P,x&&(r[l][M][C]=E)}e.setItemLayout(b,{cx:p,cy:g,r0:I,r:A,startAngle:-k*Math.PI/180,endAngle:-E*Math.PI/180})}}}},this)}function Av(t,e){var i={};d(t,function(t,e){var n=t.getData(),o=t.coordinateSystem,r=o.getBaseAxis(),a=r.getExtent(),s="category"===r.type?r.getBandWidth():Math.abs(a[1]-a[0])/n.count(),l=i[Tv(r)]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},h=l.stacks;i[Tv(r)]=l;var c=Cv(t);h[c]||l.autoWidthCount++,h[c]=h[c]||{width:0,maxWidth:0};var u=Bo(t.get("barWidth"),s),d=Bo(t.get("barMaxWidth"),s),f=t.get("barGap"),p=t.get("barCategoryGap");u&&!h[c].width&&(u=Math.min(l.remainedWidth,u),h[c].width=u,l.remainedWidth-=u),d&&(h[c].maxWidth=d),null!=f&&(l.gap=f),null!=p&&(l.categoryGap=p)});var n={};return d(i,function(t,e){n[e]={};var i=t.stacks,o=t.bandWidth,r=Bo(t.categoryGap,o),a=Bo(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,h=(s-r)/(l+(l-1)*a);h=Math.max(h,0),d(i,function(t,e){var i=t.maxWidth;i&&i<h&&(i=Math.min(i,s),t.width&&(i=Math.min(i,t.width)),s-=i,t.width=i,l--)}),h=(s-r)/(l+(l-1)*a),h=Math.max(h,0);var c,u=0;d(i,function(t,e){t.width||(t.width=h),c=t,u+=t.width*(1+a)}),c&&(u-=c.width*a);var f=-u/2;d(i,function(t,i){n[e][i]=n[e][i]||{offset:f,width:t.width},f+=t.width*(1+a)})}),n}function kv(t,e){NT.call(this,"radius",t,e),this.type="category"}function Ev(t,e){e=e||[0,360],NT.call(this,"angle",t,e),this.type="category"}function Lv(t,e){return e.type||(e.data?"category":"value")}function Ov(t,e,i){var n=e.get("center"),o=i.getWidth(),r=i.getHeight();t.cx=Bo(n[0],o),t.cy=Bo(n[1],r);var a=t.getRadiusAxis(),s=Math.min(o,r)/2,l=Bo(e.get("radius"),s);a.inverse?a.setExtent(l,0):a.setExtent(0,l)}function Pv(t,e){var i=this,n=i.getAngleAxis(),o=i.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===i){var e=t.getData();d(e.mapDimension("radius",!0),function(t){o.scale.unionExtentFromData(e,fl(e,t))}),d(e.mapDimension("angle",!0),function(t){n.scale.unionExtentFromData(e,fl(e,t))})}}),Vl(n.scale,n.model),Vl(o.scale,o.model),"category"===n.type&&!n.onBand){var r=n.getExtent(),a=360/n.scale.count();n.inverse?r[1]+=a:r[1]-=a,n.setExtent(r[0],r[1])}}function Nv(t,e){if(t.type=e.get("type"),t.scale=Wl(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType){t.inverse^=e.get("clockwise");var i=e.get("startAngle");t.setExtent(i,i+(t.inverse?-360:360))}e.axis=t,t.model=e}function Rv(t,e,i){e[1]>e[0]&&(e=e.slice().reverse());var n=t.coordToPoint([e[0],i]),o=t.coordToPoint([e[1],i]);return{x1:n[0],y1:n[1],x2:o[0],y2:o[1]}}function zv(t){return t.getRadiusAxis().inverse?0:1}function Bv(t){var e=t[0],i=t[t.length-1];e&&i&&Math.abs(Math.abs(e.coord-i.coord)-360)<1e-4&&t.pop()}function Hv(t,e,i){return{position:[t.cx,t.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function Vv(t,e,i,n,o){var r=e.axis,a=r.dataToCoord(t),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var l,h,c,u=n.getRadiusAxis().getExtent();if("radius"===r.dim){var d=dt();vt(d,d,s),mt(d,d,[n.cx,n.cy]),l=Co([a,-o],d);var f=e.getModel("axisLabel").get("rotate")||0,p=mI.innerTextLayout(s,f*Math.PI/180,-1);h=p.textAlign,c=p.textVerticalAlign}else{var g=u[1];l=n.coordToPoint([g+o,a]);var m=n.cx,v=n.cy;h=Math.abs(l[0]-m)/g<.3?"center":l[0]>m?"left":"right",c=Math.abs(l[1]-v)/g<.3?"middle":l[1]>v?"top":"bottom"}return{position:l,align:h,verticalAlign:c}}function Wv(t,e){e.update="updateView",As(e,function(e,i){var n={};return i.eachComponent({mainType:"geo",query:e},function(i){i[t](e.name),d(i.coordinateSystem.regions,function(t){n[t.name]=i.isSelected(t.name)||!1})}),{selected:n,name:e.name}})}function Fv(t){var e={};d(t,function(t){e[t]=1}),t.length=0,d(e,function(e,i){t.push(i)})}function $v(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function Gv(t,e,n){function o(){var t=function(){};return t.prototype.__hidden=t.prototype,new t}var r={};return DO(e,function(e){var a=r[e]=o();DO(t[e],function(t,o){if(GA.isValidType(o)){var r={type:o,visual:t};n&&n(r,e),a[o]=new GA(r),"opacity"===o&&(r=i(r),r.type="colorAlpha",a.__hidden.__alphaForOpacity=new GA(r))}})}),r}function jv(t,e,n){var o;d(n,function(t){e.hasOwnProperty(t)&&$v(e[t])&&(o=!0)}),o&&d(n,function(n){e.hasOwnProperty(n)&&$v(e[n])?t[n]=i(e[n]):delete t[n]})}function Yv(t,e,i,n,o,r){function a(t){return i.getItemVisual(c,t)}function s(t,e){i.setItemVisual(c,t,e)}function l(t,l){c=null==r?t:l;var u=i.getRawDataItem(c);if(!u||!1!==u.visualMap)for(var d=n.call(o,t),f=e[d],p=h[d],g=0,m=p.length;g<m;g++){var v=p[g];f[v]&&f[v].applyVisual(t,a,s)}}var h={};d(t,function(t){var i=GA.prepareVisualTypes(e[t]);h[t]=i});var c;null==r?i.each(l):i.each([r],l)}function Uv(t,e,i,n){function o(t,o){function a(t){return o.getItemVisual(l,t)}function s(t,e){o.setItemVisual(l,t,e)}null!=n&&(n=o.getDimension(n));for(var l;null!=(l=t.next());){
var h=o.getRawDataItem(l);if(h&&!1===h.visualMap)return;for(var c=null!=n?o.get(n,l,!0):l,u=i(c),d=e[u],f=r[u],p=0,g=f.length;p<g;p++){var m=f[p];d[m]&&d[m].applyVisual(c,a,s)}}}var r={};return d(t,function(t){var i=GA.prepareVisualTypes(e[t]);r[t]=i}),{progress:o}}function qv(t){var e=["x","y"],i=["width","height"];return{point:function(e,i,n){if(e){var o=n.range;return Zv(e[t],o)}},rect:function(n,o,r){if(n){var a=r.range,s=[n[e[t]],n[e[t]]+n[i[t]]];return s[1]<s[0]&&s.reverse(),Zv(s[0],a)||Zv(s[1],a)||Zv(a[0],s)||Zv(a[1],s)}}}}function Zv(t,e){return e[0]<=t&&t<=e[1]}function Xv(t,e,i,n,o){for(var r=0,a=o[o.length-1];r<o.length;r++){var s=o[r];if(Kv(t,e,i,n,s[0],s[1],a[0],a[1]))return!0;a=s}}function Kv(t,e,i,n,o,r,a,s){var l=Jv(i-t,o-a,n-e,r-s);if(Qv(l))return!1;var h=Jv(o-t,o-a,r-e,r-s)/l;if(h<0||h>1)return!1;var c=Jv(i-t,o-t,n-e,r-e)/l;return!(c<0||c>1)}function Qv(t){return t<=1e-6&&t>=-1e-6}function Jv(t,e,i,n){return t*n-e*i}function ty(t,e,i){var n=this._targetInfoList=[],o={},r=iy(e,t);CO(LO,function(t,e){(!i||!i.include||TO(i.include,e)>=0)&&t(r,n,o)})}function ey(t){return t[0]>t[1]&&t.reverse(),t}function iy(t,e){return Wi(t,e,{includeMainTypes:kO})}function ny(t,e,i,n){Nx&&L("cartesian2d"===i.type,"lineX/lineY brush is available only in cartesian2d.");var o=i.getAxis(["x","y"][t]),r=ey(f([0,1],function(t){return e?o.coordToData(o.toLocalCoord(n[t])):o.toGlobalCoord(o.dataToCoord(n[t]))})),a=[];return a[t]=r,a[1-t]=[NaN,NaN],{values:r,xyMinMax:a}}function oy(t,e,i,n){return[e[0]-n[t]*i[0],e[1]-n[t]*i[1]]}function ry(t,e){var i=ay(t),n=ay(e),o=[i[0]/n[0],i[1]/n[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function ay(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}function sy(t,e,i,n,o){if(o){var r=t.getZr();if(!r[HO]){r[BO]||(r[BO]=ly);Pa(r,BO,i,e)(t,n)}}}function ly(t,e){if(!t.isDisposed()){var i=t.getZr();i[HO]=!0,t.dispatchAction({type:"brushSelect",batch:e}),i[HO]=!1}}function hy(t,e,i,n){for(var o=0,r=e.length;o<r;o++){var a=e[o];if(t[a.brushType](n,i,a.selectors,a))return!0}}function cy(t){var e=t.brushSelector;if(w(e)){var i=[];return d(MO,function(t,n){i[n]=function(i,n,o,r){var a=n.getItemLayout(i);return t[e](a,o,r)}}),i}if(x(e)){var n={};return d(MO,function(t,i){n[i]=e}),n}return e}function uy(t,e){var i=t.option.seriesIndex;return null!=i&&"all"!==i&&(_(i)?l(i,e)<0:e!==i)}function dy(t){var e=t.selectors={};return d(MO[t.brushType],function(i,n){e[n]=function(n){return i(n,e,t)}}),t}function fy(t){return new ie(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}function py(t,e){return n({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Lo(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}function gy(t,e,i,n){(!n||n.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(i)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}function my(t,e){$O[t]=e}function vy(t){return $O[t]}function yy(t,e,i){this.model=t,this.ecModel=e,this.api=i,this._brushType,this._brushMode}function _y(t,e,i){this._model=t}function xy(t,e,i,n){var o=i.calendarModel,r=i.seriesModel,a=o?o.coordinateSystem:r?r.coordinateSystem:null;return a===this?a[t](n):null}function wy(t,e){var i=t.cellSize;_(i)?1===i.length&&(i[1]=i[0]):i=t.cellSize=[i,i];var n=f([0,1],function(t){return dr(e,t)&&(i[t]="auto"),null!=i[t]&&"auto"!==i[t]});fr(t,e,{type:"box",ignoreSize:n})}function by(t){return l(XO,t)>=0}function Sy(t,e,i){function n(t,e){return l(e.nodes,t)>=0}function o(t,n){var o=!1;return e(function(e){d(i(t,e)||[],function(t){n.records[e.name][t]&&(o=!0)})}),o}function r(t,n){n.nodes.push(t),e(function(e){d(i(t,e)||[],function(t){n.records[e.name][t]=!0})})}return function(i){function a(t){!n(t,s)&&o(t,s)&&(r(t,s),l=!0)}var s={nodes:[],records:{}};if(e(function(t){s.records[t.name]={}}),!i)return s;r(i,s);var l;do{l=!1,t(a)}while(l);return s}}function Dy(t,e,i){var n=[1/0,-1/0];return QO(i,function(t){var i=t.getData();i&&QO(i.mapDimension(e,!0),function(t){var e=i.getApproximateExtent(t);e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])})}),n[1]<n[0]&&(n=[NaN,NaN]),My(t,n),n}function My(t,e){var i=t.getAxisModel(),n=i.getMin(!0),o="category"===i.get("type"),r=o&&i.getCategories().length;null!=n&&"dataMin"!==n&&"function"!=typeof n?e[0]=n:o&&(e[0]=r>0?0:NaN);var a=i.getMax(!0);return null!=a&&"dataMax"!==a&&"function"!=typeof a?e[1]=a:o&&(e[1]=r>0?r-1:NaN),i.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0)),e}function Cy(t,e){var i=t.getAxisModel(),n=t._percentWindow,o=t._valueWindow;if(n){var r=$o(o,[0,500]);r=Math.min(r,20);var a=e||0===n[0]&&100===n[1];i.setRange(a?null:+o[0].toFixed(r),a?null:+o[1].toFixed(r))}}function Ty(t){var e=t._minMaxSpan={},i=t._dataZoomModel;QO(["min","max"],function(n){e[n+"Span"]=i.get(n+"Span");var o=i.get(n+"ValueSpan");if(null!=o&&(e[n+"ValueSpan"]=o,null!=(o=t.getAxisModel().axis.scale.parse(o)))){var r=t._dataExtent;e[n+"Span"]=zo(r[0]+o,r,[0,100],!0)}})}function Iy(t){var e={};return eP(["start","end","startValue","endValue","throttle"],function(i){t.hasOwnProperty(i)&&(e[i]=t[i])}),e}function Ay(t,e){var i=t._rangePropMode,n=t.get("rangeMode");eP([["start","startValue"],["end","endValue"]],function(t,o){var r=null!=e[t[0]],a=null!=e[t[1]];r&&!a?i[o]="percent":!r&&a?i[o]="value":n?i[o]=n[o]:r&&(i[o]="percent")})}function ky(t){return{x:"y",y:"x",radius:"angle",angle:"radius"}[t]}function Ey(t){return"vertical"===t?"ns-resize":"ew-resize"}function Ly(t,e){var i=Ny(t),n=e.dataZoomId,o=e.coordId;d(i,function(t,i){var r=t.dataZoomInfos;r[n]&&l(e.allCoordIds,o)<0&&(delete r[n],t.count--)}),zy(i);var r=i[o];r||(r=i[o]={coordId:o,dataZoomInfos:{},count:0},r.controller=Ry(t,r),r.dispatchAction=y(Wy,t)),!r.dataZoomInfos[n]&&r.count++,r.dataZoomInfos[n]=e;var a=Fy(r.dataZoomInfos);r.controller.enable(a.controlType,a.opt),r.controller.setPointerChecker(e.containsPoint),Pa(r,"dispatchAction",e.throttleRate,"fixRate")}function Oy(t,e){var i=Ny(t);d(i,function(t){t.controller.dispose();var i=t.dataZoomInfos;i[e]&&(delete i[e],t.count--)}),zy(i)}function Py(t){return t.type+"\0_"+t.id}function Ny(t){var e=t.getZr();return e[gP]||(e[gP]={})}function Ry(t,e){var i=new iu(t.getZr());return i.on("pan",pP(By,e)),i.on("zoom",pP(Hy,e)),i}function zy(t){d(t,function(e,i){e.count||(e.controller.dispose(),delete t[i])})}function By(t,e,i,n,o,r,a){Vy(t,function(s){return s.panGetRange(t.controller,e,i,n,o,r,a)})}function Hy(t,e,i,n){Vy(t,function(o){return o.zoomGetRange(t.controller,e,i,n)})}function Vy(t,e){var i=[];d(t.dataZoomInfos,function(t){var n=e(t);!t.disabled&&n&&i.push({dataZoomId:t.dataZoomId,start:n[0],end:n[1]})}),i.length&&t.dispatchAction(i)}function Wy(t,e){t.dispatchAction({type:"dataZoom",batch:e})}function Fy(t){var e,i={},n={type_true:2,type_move:1,type_false:0,type_undefined:-1};return d(t,function(t){var o=!t.disabled&&(!t.zoomLock||"move");n["type_"+o]>n["type_"+e]&&(e=o),r(i,t.roamControllerOpt)}),{controlType:e,opt:i}}function $y(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}function Gy(t,e,i,n){function o(t){return l[t]}function r(t,e){l[t]=e}for(var a=e.targetVisuals[n],s=GA.prepareVisualTypes(a),l={color:t.getData().getVisual("color")},h=0,c=s.length;h<c;h++){var u=s[h],d=a["opacity"===u?"__alphaForOpacity":u];d&&d.applyVisual(i,o,r)}return l.color}function jy(t,e,i){if(i[0]===i[1])return i.slice();for(var n=(i[1]-i[0])/200,o=i[0],r=[],a=0;a<=200&&o<i[1];a++)r.push(o),o+=n;return r.push(i[1]),r}function Yy(t,e,i){var n=t.option,o=n.align;if(null!=o&&"auto"!==o)return o;for(var r={width:e.getWidth(),height:e.getHeight()},a="horizontal"===n.orient?1:0,s=[["left","right","width"],["top","bottom","height"]],l=s[a],h=[0,null,10],c={},u=0;u<3;u++)c[s[1-a][u]]=h[u],c[l[u]]=2===u?i[0]:n[l[u]];var d=[["x","width",3],["y","height",0]][a],f=cr(c,r,n.padding);return l[(f.margin[d[2]]||0)+f[d[0]]+.5*f[d[1]]<.5*r[d[1]]?0:1]}function Uy(t){return d(t||[],function(e){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null)}),t}function qy(t,e,i,n){return new iD({shape:{points:t},draggable:!!i,cursor:e,drift:i,onmousemove:function(t){vb(t.event)},ondragend:n})}function Zy(t,e){return 0===t?[[0,0],[e,0],[e,-e]]:[[0,0],[e,0],[e,e]]}function Xy(t,e,i,n){return t?[[0,-zP(e,BP(i,0))],[VP,0],[0,zP(e,BP(n-i,0))]]:[[0,0],[5,-5],[5,5]]}function Ky(t,e,i){var n=HP/2,o=t.get("hoverLinkDataSize");return o&&(n=NP(o,e,i,!0)/2),n}function Qy(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function Jy(t){return"vertical"===t?"ns-resize":"ew-resize"}function t_(t,e){var i=t.inverse;("vertical"===t.orient?!i:i)&&e.reverse()}function e_(t){Ei(t,"label",["show"])}function i_(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function n_(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function o_(t,e,i,n,o,r){var a=[],s=dl(e,n),l=s?e.getCalculationInfo("stackResultDimension"):n,h=c_(e,l,t),c=e.indicesOfNearest(l,h)[0];a[o]=e.get(i,c),a[r]=e.get(n,c);var u=Wo(e.get(n,c));return u=Math.min(u,20),u>=0&&(a[r]=+a[r].toFixed(u)),a}function r_(t,e){var n=t.getData(),o=t.coordinateSystem;if(e&&!n_(e)&&!_(e.coord)&&o){var r=o.dimensions,a=a_(e,n,o,t);if(e=i(e),e.type&&ZP[e.type]&&a.baseAxis&&a.valueAxis){var s=UP(r,a.baseAxis.dim),l=UP(r,a.valueAxis.dim);e.coord=ZP[e.type](n,a.baseDataDim,a.valueDataDim,s,l),e.value=e.coord[l]}else{for(var h=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],c=0;c<2;c++)ZP[h[c]]&&(h[c]=c_(n,n.mapDimension(r[c]),h[c]));e.coord=h}}return e}function a_(t,e,i,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=i.getAxis(s_(n,o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function s_(t,e){var i=t.getData(),n=i.dimensions;e=i.getDimension(e);for(var o=0;o<n.length;o++){var r=i.getDimensionInfo(n[o]);if(r.name===e)return r.coordDim}}function l_(t,e){return!(t&&t.containData&&e.coord&&!i_(e))||t.containData(e.coord)}function h_(t,e,i,n){return n<2?t.coord&&t.coord[n]:t.value}function c_(t,e,i){if("average"===i){var n=0,o=0;return t.each(e,function(t,e){isNaN(t)||(n+=t,o++)}),n/o}return"median"===i?t.getMedian(e):t.getDataExtent(e,!0)["max"===i?1:0]}function u_(t,e,i){var n=e.coordinateSystem;t.each(function(o){var r,a=t.getItemModel(o),s=Bo(a.get("x"),i.getWidth()),l=Bo(a.get("y"),i.getHeight());if(isNaN(s)||isNaN(l)){if(e.getMarkerPosition)r=e.getMarkerPosition(t.getValues(t.dimensions,o));else if(n){var h=t.get(n.dimensions[0],o),c=t.get(n.dimensions[1],o);r=n.dataToPoint([h,c])}}else r=[s,l];isNaN(s)||(r[0]=s),isNaN(l)||(r[1]=l),t.setItemLayout(o,r)})}function d_(t,e,i){var n;n=t?f(t&&t.dimensions,function(t){return a({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}];var o=new YC(n,i),r=f(i.get("data"),y(r_,e));return t&&(r=g(r,y(l_,t))),o.initData(r,null,t?h_:function(t){return t.value}),o}function f_(t){return!isNaN(t)&&!isFinite(t)}function p_(t,e,i,n){var o=1-t,r=n.dimensions[t];return f_(e[o])&&f_(i[o])&&e[t]===i[t]&&n.getAxis(r).containData(e[t])}function g_(t,e){if("cartesian2d"===t.type){var i=e[0].coord,n=e[1].coord;if(i&&n&&(p_(1,i,n,t)||p_(0,i,n,t)))return!0}return l_(t,e[0])&&l_(t,e[1])}function m_(t,e,i,n,o){var r,a=n.coordinateSystem,s=t.getItemModel(e),l=Bo(s.get("x"),o.getWidth()),h=Bo(s.get("y"),o.getHeight());if(isNaN(l)||isNaN(h)){if(n.getMarkerPosition)r=n.getMarkerPosition(t.getValues(t.dimensions,e));else{var c=a.dimensions,u=t.get(c[0],e),d=t.get(c[1],e);r=a.dataToPoint([u,d])}if("cartesian2d"===a.type){var f=a.getAxis("x"),p=a.getAxis("y"),c=a.dimensions;f_(t.get(c[0],e))?r[0]=f.toGlobalCoord(f.getExtent()[i?0:1]):f_(t.get(c[1],e))&&(r[1]=p.toGlobalCoord(p.getExtent()[i?0:1]))}isNaN(l)||(r[0]=l),isNaN(h)||(r[1]=h)}else r=[l,h];t.setItemLayout(e,r)}function v_(t,e,i){var n;n=t?f(t&&t.dimensions,function(t){return a({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}];var o=new YC(n,i),r=new YC(n,i),s=new YC([],i),l=f(i.get("data"),y(KP,e,t,i));t&&(l=g(l,y(g_,t)));var h=t?h_:function(t){return t.value};return o.initData(f(l,function(t){return t[0]}),null,h),r.initData(f(l,function(t){return t[1]}),null,h),s.initData(f(l,function(t){return t[2]})),s.hasItemOption=!0,{from:o,to:r,line:s}}function y_(t){return!isNaN(t)&&!isFinite(t)}function __(t,e,i,n){var o=1-t;return y_(e[o])&&y_(i[o])}function x_(t,e){var i=e.coord[0],n=e.coord[1];return!("cartesian2d"!==t.type||!i||!n||!__(1,i,n,t)&&!__(0,i,n,t))||(l_(t,{coord:i,x:e.x0,y:e.y0})||l_(t,{coord:n,x:e.x1,y:e.y1}))}function w_(t,e,i,n,o){var r,a=n.coordinateSystem,s=t.getItemModel(e),l=Bo(s.get(i[0]),o.getWidth()),h=Bo(s.get(i[1]),o.getHeight());if(isNaN(l)||isNaN(h)){if(n.getMarkerPosition)r=n.getMarkerPosition(t.getValues(i,e));else{var c=t.get(i[0],e),u=t.get(i[1],e),d=[c,u];a.clampData&&a.clampData(d,d),r=a.dataToPoint(d,!0)}if("cartesian2d"===a.type){var f=a.getAxis("x"),p=a.getAxis("y"),c=t.get(i[0],e),u=t.get(i[1],e);y_(c)?r[0]=f.toGlobalCoord(f.getExtent()["x0"===i[0]?0:1]):y_(u)&&(r[1]=p.toGlobalCoord(p.getExtent()["y0"===i[1]?0:1]))}isNaN(l)||(r[0]=l),isNaN(h)||(r[1]=h)}else r=[l,h];return r}function b_(t,e,i){var n,o,r=["x0","y0","x1","y1"];t?(n=f(t&&t.dimensions,function(t){var i=e.getData();return a({name:t},i.getDimensionInfo(i.mapDimension(t))||{})}),o=new YC(f(r,function(t,e){return{name:t,type:n[e%2].type}}),i)):(n=[{name:"value",type:"float"}],o=new YC(n,i));var s=f(i.get("data"),y(QP,e,t,i));t&&(s=g(s,y(x_,t)));var l=t?function(t,e,i,n){return t.coord[Math.floor(n/2)][n%2]}:function(t){return t.value};return o.initData(s,null,l),o.hasItemOption=!0,o}function S_(t){var e=t.type,i={number:"value",time:"time"};if(i[e]&&(t.axisType=i[e],delete t.type),D_(t),M_(t,"controlPosition")){var n=t.controlStyle||(t.controlStyle={});M_(n,"position")||(n.position=t.controlPosition),"none"!==n.position||M_(n,"show")||(n.show=!1,delete n.position),delete t.controlPosition}d(t.data||[],function(t){b(t)&&!_(t)&&(!M_(t,"value")&&M_(t,"name")&&(t.value=t.name),D_(t))})}function D_(t){var e=t.itemStyle||(t.itemStyle={}),i=e.emphasis||(e.emphasis={}),n=t.label||t.label||{},o=n.normal||(n.normal={}),r={normal:1,emphasis:1};d(n,function(t,e){r[e]||M_(o,e)||(o[e]=t)}),i.label&&!M_(n,"emphasis")&&(n.emphasis=i.label,delete i.label)}function M_(t,e){return t.hasOwnProperty(e)}function C_(t,e){return cr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function T_(t,e,n,o){return jn(t.get(e).replace(/^path:\/\//,""),i(o||{}),new ie(n[0],n[1],n[2],n[3]),"center")}function I_(t,e,i,o,r,a){var s=e.get("color");if(r)r.setColor(s),i.add(r),a&&a.onUpdate(r);else{r=ql(t.get("symbol"),-1,-1,2,2,s),r.setStyle("strokeNoScale",!0),i.add(r),a&&a.onCreate(r)}var l=e.getItemStyle(["color","symbol","symbolSize"]);r.setStyle(l),o=n({rectHover:!0,z2:100},o,!0);var h=t.get("symbolSize");h=h instanceof Array?h.slice():[+h,+h],h[0]/=2,h[1]/=2,o.scale=h;var c=t.get("symbolOffset");if(c){var u=o.position=o.position||[0,0];u[0]+=Bo(c[0],h[0]),u[1]+=Bo(c[1],h[1])}var d=t.get("symbolRotate");return o.rotation=(d||0)*Math.PI/180||0,r.attr(o),r.updateTransform(),r}function A_(t,e,i,n,o){if(!t.dragging){var r=n.getModel("checkpointStyle"),a=i.dataToCoord(n.getData().get(["value"],e));o||!r.get("animation",!0)?t.attr({position:[a,0]}):(t.stopAnimation(!0),t.animateTo({position:[a,0]},r.get("animationDuration",!0),r.get("animationEasing",!0)))}}function k_(t){return 0===t.indexOf("my")}function E_(t){this.model=t}function L_(t){this.model=t}function O_(t){var e={},i=[],n=[];return t.eachRawSeries(function(t){var o=t.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)i.push(t);else{var r=o.getBaseAxis();if("category"===r.type){var a=r.dim+"_"+r.index;e[a]||(e[a]={categoryAxis:r,valueAxis:o.getOtherAxis(r),series:[]},n.push({axisDim:r.dim,axisIndex:r.index})),e[a].series.push(t)}else i.push(t)}}),{seriesGroupByCategoryAxis:e,other:i,meta:n}}function P_(t){var e=[];return d(t,function(t,i){var n=t.categoryAxis,o=t.valueAxis,r=o.dim,a=[" "].concat(f(t.series,function(t){return t.name})),s=[n.model.getCategories()];d(t.series,function(t){s.push(t.getRawData().mapArray(r,function(t){return t}))});for(var l=[a.join(gN)],h=0;h<s[0].length;h++){for(var c=[],u=0;u<s.length;u++)c.push(s[u][h]);l.push(c.join(gN))}e.push(l.join("\n"))}),e.join("\n\n"+pN+"\n\n")}function N_(t){return f(t,function(t){var e=t.getRawData(),i=[t.name],n=[];return e.each(e.dimensions,function(){for(var t=arguments.length,o=arguments[t-1],r=e.getName(o),a=0;a<t-1;a++)n[a]=arguments[a];i.push((r?r+gN:"")+n.join(gN))}),i.join("\n")}).join("\n\n"+pN+"\n\n")}function R_(t){var e=O_(t);return{value:g([P_(e.seriesGroupByCategoryAxis),N_(e.other)],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+pN+"\n\n"),meta:e.meta}}function z_(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function B_(t){if(t.slice(0,t.indexOf("\n")).indexOf(gN)>=0)return!0}function H_(t){for(var e=t.split(/\n+/g),i=z_(e.shift()).split(mN),n=[],o=f(i,function(t){return{name:t,data:[]}}),r=0;r<e.length;r++){var a=z_(e[r]).split(mN);n.push(a.shift());for(var s=0;s<a.length;s++)o[s]&&(o[s].data[r]=a[s])}return{series:o,categories:n}}function V_(t){for(var e=t.split(/\n+/g),i=z_(e.shift()),n=[],o=0;o<e.length;o++){var r,a=z_(e[o]).split(mN),s="",l=!1;isNaN(a[0])?(l=!0,s=a[0],a=a.slice(1),n[o]={name:s,value:[]},r=n[o].value):r=n[o]=[];for(var h=0;h<a.length;h++)r.push(+a[h]);1===r.length&&(l?n[o].value=r[0]:n[o]=r[0])}return{name:i,data:n}}function W_(t,e){var i=t.split(new RegExp("\n*"+pN+"\n*","g")),n={series:[]};return d(i,function(t,i){if(B_(t)){var o=H_(t),r=e[i],a=r.axisDim+"Axis";r&&(n[a]=n[a]||[],n[a][r.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else{var o=V_(t);n.series.push(o)}}),n}function F_(t){this._dom=null,this.model=t}function $_(t,e){return f(t,function(t,i){var n=e&&e[i];return b(n)&&!_(n)?(b(t)&&!_(t)&&(t=t.value),a({value:t},n)):t})}function G_(t,e){var i=q_(t);vN(e,function(e,n){for(var o=i.length-1;o>=0;o--){if(i[o][n])break}if(o<0){var r=t.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(r){var a=r.getPercentRange();i[0][n]={dataZoomId:n,start:a[0],end:a[1]}}}}),i.push(e)}function j_(t){var e=q_(t),i=e[e.length-1];e.length>1&&e.pop();var n={};return vN(i,function(t,i){for(var o=e.length-1;o>=0;o--){var t=e[o][i];if(t){n[i]=t;break}}}),n}function Y_(t){t[yN]=null}function U_(t){return q_(t).length}function q_(t){var e=t[yN];return e||(e=t[yN]=[{}]),e}function Z_(t,e,i){(this._brushController=new Af(i.getZr())).on("brush",v(this._onBrush,this)).mount(),this._isZoomActive}function X_(t){var e={};return d(["xAxisIndex","yAxisIndex"],function(i){e[i]=t[i],null==e[i]&&(e[i]="all"),(!1===e[i]||"none"===e[i])&&(e[i]=[])}),e}function K_(t,e){t.setIconStatus("back",U_(e)>1?"emphasis":"normal")}function Q_(t,e,i,n,o){var r=i._isZoomActive;n&&"takeGlobalCursor"===n.type&&(r="dataZoomSelect"===n.key&&n.dataZoomSelectActive),i._isZoomActive=r,t.setIconStatus("zoom",r?"emphasis":"normal");var a=new ty(X_(t.option),e,{include:["grid"]});i._brushController.setPanels(a.makePanelOpts(o,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"})).enableBrush(!!r&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}function J_(t){this.model=t}function tx(t){return MN(t)}function ex(){if(!IN&&AN){IN=!0;var t=AN.styleSheets;t.length<31?AN.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}}function ix(t){return parseInt(t,10)}function nx(t,e){ex(),this.root=t,this.storage=e;var i=document.createElement("div"),n=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var o=e.delFromStorage,r=e.addToStorage;e.delFromStorage=function(t){o.call(e,t),t&&t.onRemove&&t.onRemove(n)},e.addToStorage=function(t){t.onAdd&&t.onAdd(n),r.call(e,t)},this._firstPaint=!0}function ox(t){return function(){Nw('In IE8.0 VML mode painter not support method "'+t+'"')}}function rx(t){return document.createElementNS(dR,t)}function ax(t){return mR(1e4*t)/1e4}function sx(t){return t<bR&&t>-bR}function lx(t,e){var i=e?t.textFill:t.fill;return null!=i&&i!==gR}function hx(t,e){var i=e?t.textStroke:t.stroke;return null!=i&&i!==gR}function cx(t,e){e&&ux(t,"transform","matrix("+pR.call(e,",")+")")}function ux(t,e,i){(!i||"linear"!==i.type&&"radial"!==i.type)&&("string"==typeof i&&i.indexOf("NaN")>-1&&console.log(i),t.setAttribute(e,i))}function dx(t,e,i){t.setAttributeNS("http://www.w3.org/1999/xlink",e,i)}function fx(t,e,i){if(lx(e,i)){var n=i?e.textFill:e.fill;n="transparent"===n?gR:n,"none"!==t.getAttribute("clip-path")&&n===gR&&(n="rgba(0, 0, 0, 0.002)"),ux(t,"fill",n),ux(t,"fill-opacity",e.opacity)}else ux(t,"fill",gR);if(hx(e,i)){var o=i?e.textStroke:e.stroke;o="transparent"===o?gR:o,ux(t,"stroke",o);ux(t,"stroke-width",(i?e.textStrokeWidth:e.lineWidth)/(!i&&e.strokeNoScale?e.host.getLineScale():1)),ux(t,"paint-order",i?"stroke":"fill"),ux(t,"stroke-opacity",e.opacity);e.lineDash?(ux(t,"stroke-dasharray",e.lineDash.join(",")),ux(t,"stroke-dashoffset",mR(e.lineDashOffset||0))):ux(t,"stroke-dasharray",""),e.lineCap&&ux(t,"stroke-linecap",e.lineCap),e.lineJoin&&ux(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&ux(t,"stroke-miterlimit",e.miterLimit)}else ux(t,"stroke",gR)}function px(t){for(var e=[],i=t.data,n=t.len(),o=0;o<n;){var r=i[o++],a="",s=0;switch(r){case fR.M:a="M",s=2;break;case fR.L:a="L",s=2;break;case fR.Q:a="Q",s=4;break;case fR.C:a="C",s=6;break;case fR.A:var l=i[o++],h=i[o++],c=i[o++],u=i[o++],d=i[o++],f=i[o++],p=i[o++],g=i[o++],m=Math.abs(f),v=sx(m-xR)&&!sx(m),y=!1;y=m>=xR||!sx(m)&&(f>-_R&&f<0||f>_R)==!!g;var _=ax(l+c*yR(d)),x=ax(h+u*vR(d));v&&(f=g?xR-1e-4:1e-4-xR,y=!0,9===o&&e.push("M",_,x));var w=ax(l+c*yR(d+f)),b=ax(h+u*vR(d+f));e.push("A",ax(c),ax(u),mR(p*wR),+y,+g,w,b);break;case fR.Z:a="Z";break;case fR.R:var w=ax(i[o++]),b=ax(i[o++]),S=ax(i[o++]),D=ax(i[o++]);e.push("M",w,b,"L",w+S,b,"L",w+S,b+D,"L",w,b+D,"L",w,b)}a&&e.push(a);for(var M=0;M<s;M++)e.push(ax(i[o++]))}return e.join(" ")}function gx(t){return"middle"===t?"middle":"bottom"===t?"baseline":"hanging"}function mx(){}function vx(t,e,i,n){for(var o=0,r=e.length,a=0,s=0;o<r;o++){var l=e[o];if(l.removed){for(var h=[],c=s;c<s+l.count;c++)h.push(c);l.indices=h,s+=l.count}else{for(var h=[],c=a;c<a+l.count;c++)h.push(c);l.indices=h,a+=l.count,l.added||(s+=l.count)}}return e}function yx(t){return{newPos:t.newPos,components:t.components.slice(0)}}function _x(t,e,i,n,o){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof i?[i]:i,this._markLabel=n,this._domName=o||"_dom",this.nextId=0}function xx(t,e){_x.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}function bx(t,e){_x.call(this,t,e,"clipPath","__clippath_in_use__")}function Sx(t,e){_x.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function Dx(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}function Mx(t){return parseInt(t,10)}function Cx(t){return t instanceof Ln?SR:t instanceof ni?DR:t instanceof qS?MR:SR}function Tx(t,e){return e&&t&&e.parentNode!==t}function Ix(t,e,i){if(Tx(t,e)&&i){var n=i.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function Ax(t,e){if(Tx(t,e)){var i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function kx(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function Ex(t){return t.__textSvgEl}function Lx(t){return t.__svgEl}function Ox(t){return function(){Nw('In SVG mode painter not support method "'+t+'"')}}var Px;"undefined"!=typeof window?Px=window.__DEV__:"undefined"!=typeof global&&(Px=global.__DEV__),void 0===Px&&(Px=!0);var Nx=Px,Rx=2311,zx=function(){return Rx++},Bx={};Bx="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:function(t){var e={},i={},n=t.match(/Firefox\/([\d.]+)/),o=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),r=t.match(/Edge\/([\d.]+)/),a=/micromessenger/i.test(t);return n&&(i.firefox=!0,i.version=n[1]),o&&(i.ie=!0,i.version=o[1]),r&&(i.edge=!0,i.version=r[1]),a&&(i.weChat=!0),{browser:i,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!i.ie&&!i.edge,pointerEventsSupported:"onpointerdown"in window&&(i.edge||i.ie&&i.version>=11)}}(navigator.userAgent);var Hx=Bx,Vx={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Wx={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Fx=Object.prototype.toString,$x=Array.prototype,Gx=$x.forEach,jx=$x.filter,Yx=$x.slice,Ux=$x.map,qx=$x.reduce,Zx={},Xx=function(){return Zx.createCanvas()};Zx.createCanvas=function(){return document.createElement("canvas")};var Kx,Qx="__ec_primitive__";R.prototype={constructor:R,get:function(t){return this.hasOwnProperty(t)?this[t]:null},set:function(t,e){return this[t]=e},each:function(t,e){void 0!==e&&(t=v(t,e));for(var i in this)this.hasOwnProperty(i)&&t(this[i],i)},removeKey:function(t){delete this[t]}};var Jx=(Object.freeze||Object)({$override:e,clone:i,merge:n,mergeAll:o,extend:r,defaults:a,createCanvas:Xx,getContext:s,indexOf:l,inherits:h,mixin:c,isArrayLike:u,each:d,map:f,reduce:p,filter:g,find:m,bind:v,curry:y,isArray:_,isFunction:x,isString:w,isObject:b,isBuiltInObject:S,isTypedArray:D,isDom:M,eqNaN:C,retrieve:T,retrieve2:I,retrieve3:A,slice:k,normalizeCssArray:E,assert:L,trim:O,setAsPrimitive:P,isPrimitive:N,createHashMap:z,concatArray:B,noop:H}),tw="undefined"==typeof Float32Array?Array:Float32Array,ew=U,iw=q,nw=tt,ow=et,rw=(Object.freeze||Object)({create:V,copy:W,clone:F,set:$,add:G,scaleAndAdd:j,sub:Y,len:U,length:ew,lenSquare:q,lengthSquare:iw,mul:Z,div:X,dot:K,scale:Q,normalize:J,distance:tt,dist:nw,distanceSquare:et,distSquare:ow,negate:it,lerp:nt,applyTransform:ot,min:rt,max:at});st.prototype={constructor:st,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(lt(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,o=i-this._x,r=n-this._y;this._x=i,this._y=n,e.drift(o,r,t),this.dispatchToElement(lt(e,t),"drag",t.event);var a=this.findHover(i,n,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.dispatchToElement(lt(s,t),"dragleave",t.event),a&&a!==s&&this.dispatchToElement(lt(a,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(lt(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(lt(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var aw=Array.prototype.slice,sw=function(){this._$handlers={}};sw.prototype={constructor:sw,one:function(t,e,i){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var o=0;o<n[t].length;o++)if(n[t][o].h===e)return this;return n[t].push({h:e,one:!0,ctx:i||this}),this},on:function(t,e,i){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var o=0;o<n[t].length;o++)if(n[t][o].h===e)return this;return n[t].push({h:e,one:!1,ctx:i||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],o=0,r=i[t].length;o<r;o++)i[t][o].h!=e&&n.push(i[t][o]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>3&&(e=aw.call(e,1));for(var n=this._$handlers[t],o=n.length,r=0;r<o;){switch(i){case 1:n[r].h.call(n[r].ctx);break;case 2:n[r].h.call(n[r].ctx,e[1]);break;case 3:n[r].h.call(n[r].ctx,e[1],e[2]);break;default:n[r].h.apply(n[r].ctx,e)}n[r].one?(n.splice(r,1),o--):r++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;i>4&&(e=aw.call(e,1,e.length-1));for(var n=e[e.length-1],o=this._$handlers[t],r=o.length,a=0;a<r;){switch(i){case 1:o[a].h.call(n);break;case 2:o[a].h.call(n,e[1]);break;case 3:o[a].h.call(n,e[1],e[2]);break;default:o[a].h.apply(n,e)}o[a].one?(o.splice(a,1),r--):a++}}return this}};var lw="silent";ct.prototype.dispose=function(){};var hw=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],cw=function(t,e,i,n){sw.call(this),this.storage=t,this.painter=e,this.painterRoot=n,i=i||new ct,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,st.call(this),this.setHandlerProxy(i)};cw.prototype={constructor:cw,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(d(hw,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,i=t.zrY,n=this._hovered,o=n.target;o&&!o.__zr&&(n=this.findHover(n.x,n.y),o=n.target);var r=this._hovered=this.findHover(e,i),a=r.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),o&&a!==o&&this.dispatchToElement(n,"mouseout",t),this.dispatchToElement(r,"mousemove",t),a&&a!==o&&this.dispatchToElement(r,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,i=t.toElement||t.relatedTarget;do{i=i&&i.parentNode}while(i&&9!=i.nodeType&&!(e=i===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var i=this[t];i&&i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,i){t=t||{};var n=t.target;if(!n||!n.silent){for(var o="on"+e,r=ht(e,t,i);n&&(n[o]&&(r.cancelBubble=n[o].call(n,r)),n.trigger(e,r),n=n.parent,!r.cancelBubble););r.cancelBubble||(this.trigger(e,r),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[o]&&t[o].call(t,r),t.trigger&&t.trigger(e,r)}))}},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),o={x:t,y:e},r=n.length-1;r>=0;r--){var a;if(n[r]!==i&&!n[r].ignore&&(a=ut(n[r],t,e))&&(!o.topTarget&&(o.topTarget=n[r]),a!==lw)){o.target=n[r];break}}return o}},d(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){cw.prototype[t]=function(e){var i=this.findHover(e.zrX,e.zrY),n=i.target;if("mousedown"===t)this._downEl=n,this._downPoint=[e.zrX,e.zrY],this._upEl=n;else if("mouseup"===t)this._upEl=n;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||nw(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,t,e)}}),c(cw,sw),c(cw,st);var uw="undefined"==typeof Float32Array?Array:Float32Array,dw=(Object.freeze||Object)({create:dt,identity:ft,copy:pt,mul:gt,translate:mt,rotate:vt,scale:yt,invert:_t,clone:xt}),fw=ft,pw=5e-5,gw=function(t){t=t||{},t.position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),
t.scale||(this.scale=[1,1]),this.origin=this.origin||null},mw=gw.prototype;mw.transform=null,mw.needLocalTransform=function(){return wt(this.rotation)||wt(this.position[0])||wt(this.position[1])||wt(this.scale[0]-1)||wt(this.scale[1]-1)},mw.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;if(!i&&!e)return void(n&&fw(n));n=n||dt(),i?this.getLocalTransform(n):fw(n),e&&(i?gt(n,t.transform,n):pt(n,t.transform)),this.transform=n,this.invTransform=this.invTransform||dt(),_t(this.invTransform,n)},mw.getLocalTransform=function(t){return gw.getLocalTransform(this,t)},mw.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},mw.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var vw=[];mw.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(gt(vw,t.invTransform,e),e=vw);var i=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],o=this.position,r=this.scale;wt(i-1)&&(i=Math.sqrt(i)),wt(n-1)&&(n=Math.sqrt(n)),e[0]<0&&(i=-i),e[3]<0&&(n=-n),o[0]=e[4],o[1]=e[5],r[0]=i,r[1]=n,this.rotation=Math.atan2(-e[1]/n,e[0]/i)}},mw.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(i=-i),[e,i]},mw.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&ot(i,i,n),i},mw.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&ot(i,i,n),i},gw.getLocalTransform=function(t,e){e=e||[],fw(e);var i=t.origin,n=t.scale||[1,1],o=t.rotation||0,r=t.position||[0,0];return i&&(e[4]-=i[0],e[5]-=i[1]),yt(e,e,n),o&&vt(e,e,o),i&&(e[4]+=i[0],e[5]+=i[1]),e[4]+=r[0],e[5]+=r[1],e};var yw={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(!i||i<1?(i=1,e=.1):e=.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-yw.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*yw.bounceIn(2*t):.5*yw.bounceOut(2*t-1)+.5}};bt.prototype={constructor:bt,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)return void(this._pausedTime+=e);var i=(t-this._startTime-this._pausedTime)/this._life;if(!(i<0)){i=Math.min(i,1);var n=this.easing,o="string"==typeof n?yw[n]:n,r="function"==typeof o?o(i):i;return this.fire("frame",r),1==i?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){t="on"+t,this[t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var _w=function(){this.head=null,this.tail=null,this._len=0},xw=_w.prototype;xw.insert=function(t){var e=new ww(t);return this.insertEntry(e),e},xw.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},xw.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},xw.len=function(){return this._len},xw.clear=function(){this.head=this.tail=null,this._len=0};var ww=function(t){this.value=t,this.next,this.prev},bw=function(t){this._list=new _w,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},Sw=bw.prototype;Sw.put=function(t,e){var i=this._list,n=this._map,o=null;if(null==n[t]){var r=i.len(),a=this._lastRemovedEntry;if(r>=this._maxSize&&r>0){var s=i.head;i.remove(s),delete n[s.key],o=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new ww(e),a.key=t,i.insertEntry(a),n[t]=a}return o},Sw.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},Sw.clear=function(){this._list.clear(),this._map={}};var Dw={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Mw=new bw(20),Cw=null,Tw=Bt,Iw=Ht,Aw=(Object.freeze||Object)({parse:Ot,lift:Rt,toHex:zt,fastLerp:Bt,fastMapToColor:Tw,lerp:Ht,mapToColor:Iw,modifyHSL:Vt,modifyAlpha:Wt,stringify:Ft}),kw=Array.prototype.slice,Ew=function(t,e,i,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||$t,this._setter=n||Gt,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Ew.prototype={when:function(t,e){var i=this._tracks;for(var n in e)if(e.hasOwnProperty(n)){if(!i[n]){i[n]=[];var o=this._getter(this._target,n);if(null==o)continue;0!==t&&i[n].push({time:0,value:Qt(o)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t,e){var i,n=this,o=0,r=function(){--o||n._doneCallback()};for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var s=ee(this,t,r,this._tracks[a],a,e);s&&(this._clipList.push(s),o++,this.animation&&this.animation.addClip(s),i=s)}if(i){var l=i.onframe;i.onframe=function(t,e){l(t,e);for(var i=0;i<n._onframeList.length;i++)n._onframeList[i](t,e)}}return o||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var o=e[n];t&&o.onframe(this._target,1),i&&i.removeClip(o)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var Lw=1;"undefined"!=typeof window&&(Lw=Math.max(window.devicePixelRatio||1,1));var Ow=Lw,Pw=function(){},Nw=Pw,Rw=function(){this.animators=[]};Rw.prototype={constructor:Rw,animate:function(t,e){var i,n=!1,o=this,r=this.__zr;if(t){var a=t.split("."),s=o;n="shape"===a[0];for(var h=0,c=a.length;h<c;h++)s&&(s=s[a[h]]);s&&(i=s)}else i=o;if(!i)return void Nw('Property "'+t+'" is not existed in element '+o.id);var u=o.animators,d=new Ew(i,e);return d.during(function(t){o.dirty(n)}).done(function(){u.splice(l(u,d),1)}),u.push(d),r&&r.animation.addAnimator(d),d},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;n<i;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,o,r){function a(){--l||o&&o()}w(i)?(o=n,n=i,i=0):x(n)?(o=n,n="linear",i=0):x(i)?(o=i,i=0):x(e)?(o=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,i);var s=this.animators.slice(),l=s.length;l||o&&o();for(var h=0;h<s.length;h++)s[h].done(a).start(n,r)},_animateToShallow:function(t,e,i,n,o){var r={},a=0;for(var s in i)if(i.hasOwnProperty(s))if(null!=e[s])b(i[s])&&!u(i[s])?this._animateToShallow(t?t+"."+s:s,e[s],i[s],n,o):(r[s]=i[s],a++);else if(null!=i[s])if(t){var l={};l[t]={},l[t][s]=i[s],this.attr(l)}else this.attr(s,i[s]);return a>0&&this.animate(t,!1).when(null==n?500:n,r).delay(o||0),this}};var zw=function(t){gw.call(this,t),sw.call(this,t),Rw.call(this,t),this.id=t.id||zx()};zw.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(b(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},c(zw,Rw),c(zw,gw),c(zw,sw);var Bw=ot,Hw=Math.min,Vw=Math.max;ie.prototype={constructor:ie,union:function(t){var e=Hw(t.x,this.x),i=Hw(t.y,this.y);this.width=Vw(t.x+t.width,this.x+this.width)-e,this.height=Vw(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:function(){var t=[],e=[],i=[],n=[];return function(o){if(o){t[0]=i[0]=this.x,t[1]=n[1]=this.y,e[0]=n[0]=this.x+this.width,e[1]=i[1]=this.y+this.height,Bw(t,t,o),Bw(e,e,o),Bw(i,i,o),Bw(n,n,o),this.x=Hw(t[0],e[0],i[0],n[0]),this.y=Hw(t[1],e[1],i[1],n[1]);var r=Vw(t[0],e[0],i[0],n[0]),a=Vw(t[1],e[1],i[1],n[1]);this.width=r-this.x,this.height=a-this.y}}}(),calculateTransform:function(t){var e=this,i=t.width/e.width,n=t.height/e.height,o=dt();return mt(o,o,[-e.x,-e.y]),yt(o,o,[i,n]),mt(o,o,[t.x,t.y]),o},intersect:function(t){if(!t)return!1;t instanceof ie||(t=ie.create(t));var e=this,i=e.x,n=e.x+e.width,o=e.y,r=e.y+e.height,a=t.x,s=t.x+t.width,l=t.y,h=t.y+t.height;return!(n<a||s<i||r<l||h<o)},contain:function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new ie(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},ie.create=function(t){return new ie(t.x,t.y,t.width,t.height)};var Ww=function(t){t=t||{},zw.call(this,t);for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};Ww.prototype={constructor:Ww,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);n>=0&&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof Ww&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,n=this._children,o=l(n,t);return o<0?this:(n.splice(o,1),t.parent=null,i&&(i.delFromStorage(t),t instanceof Ww&&t.delChildrenFromStorage(i)),e&&e.refresh(),this)},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n&&(n.delFromStorage(t),t instanceof Ww&&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++){var o=i[n];t.call(e,o,n)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof Ww&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof Ww&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new ie(0,0,0,0),n=t||this._children,o=[],r=0;r<n.length;r++){var a=n[r];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(o);l?(i.copy(s),i.applyTransform(l),e=e||i.clone(),e.union(i)):(e=e||s.clone(),e.union(s))}}return e||i}},h(Ww,zw);var Fw=32,$w=7,Gw=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Gw.prototype={constructor:Gw,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,o=e.length;n<o;n++)this._updateAndAddDisplayable(e[n],null,t);i.length=this._displayListLen,Hx.canvasSupported&&ce(i,ue)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var o=n,r=t;o;)o.parent=r,o.updateTransform(),e.push(o),r=o,o=o.clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof Ww&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof Ww&&i.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var o=l(this._roots,t);o>=0&&(this.delFromStorage(t),this._roots.splice(o,1),t instanceof Ww&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:ue};var jw={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Yw=function(t,e,i){return jw.hasOwnProperty(e)?i*=t.dpr:i},Uw=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],qw=function(t,e){this.extendFrom(t,!1),this.host=e};qw.prototype={constructor:qw,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){for(var n=this,o=i&&i.style,r=!o,a=0;a<Uw.length;a++){var s=Uw[a],l=s[0];(r||n[l]!==o[l])&&(t[l]=Yw(t,l,n[l]||s[1]))}if((r||n.fill!==o.fill)&&(t.fillStyle=n.fill),(r||n.stroke!==o.stroke)&&(t.strokeStyle=n.stroke),(r||n.opacity!==o.opacity)&&(t.globalAlpha=null==n.opacity?1:n.opacity),(r||n.blend!==o.blend)&&(t.globalCompositeOperation=n.blend||"source-over"),this.hasStroke()){var h=n.lineWidth;t.lineWidth=h/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e&&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var n="radial"===e.type?fe:de,o=n(t,e,i),r=e.colorStops,a=0;a<r.length;a++)o.addColorStop(r[a].offset,r[a].color);return o}};for(var Zw=qw.prototype,Xw=0;Xw<Uw.length;Xw++){var Kw=Uw[Xw];Kw[0]in Zw||(Zw[Kw[0]]=Kw[1])}qw.getGradient=Zw.getGradient;var Qw=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};Qw.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var Jw=function(t,e,i){var n;i=i||Ow,"string"==typeof t?n=ge(t,e,i):b(t)&&(n=t,t=n.id),this.id=t,this.dom=n;var o=n.style;o&&(n.onselectstart=pe,o["-webkit-user-select"]="none",o["user-select"]="none",o["-webkit-touch-callout"]="none",o["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",o.padding=0,o.margin=0,o["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};Jw.prototype={constructor:Jw,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=ge("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,o=n.style,r=this.domBack;o&&(o.width=t+"px",o.height=e+"px"),n.width=t*i,n.height=e*i,r&&(r.width=t*i,r.height=e*i,1!=i&&this.ctxBack.scale(i,i))},clear:function(t,e){var i=this.dom,n=this.ctx,o=i.width,r=i.height,e=e||this.clearColor,a=this.motionBlur&&!t,s=this.lastFrameAlpha,l=this.dpr;if(a&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/l,r/l)),n.clearRect(0,0,o,r),e&&"transparent"!==e){var h;e.colorStops?(h=e.__canvasGradient||qw.getGradient(n,e,{x:0,y:0,width:o,height:r}),e.__canvasGradient=h):e.image&&(h=Qw.prototype.getCanvasPattern.call(e,n)),n.save(),n.fillStyle=h||e,n.fillRect(0,0,o,r),n.restore()}if(a){var c=this.domBack;n.save(),n.globalAlpha=s,n.drawImage(c,0,0,o,r),n.restore()}}};var tb="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},eb=new bw(50),ib={},nb=0,ob=5e3,rb=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,ab="12px sans-serif",sb={};sb.measureText=function(t,e){var i=s();return i.font=e||ab,i.measureText(t)};var lb={left:1,right:1,center:1},hb={top:1,bottom:1,middle:1},cb=new ie,ub=function(){};ub.prototype={constructor:ub,drawRectText:function(t,e){var i=this.style;e=i.textRect||e,this.__dirty&&Be(i);var n=i.text;if(null!=n&&(n+=""),ei(n,i)){t.save();var o=this.transform;i.transformText?this.setTransform(t):o&&(cb.copy(e),cb.applyTransform(o),e=cb),Ve(this,t,n,i,e),t.restore()}}},ii.prototype={constructor:ii,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?zw.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new qw(t,this),this.dirty(!1),this}},h(ii,zw),c(ii,ub),ni.prototype={constructor:ni,type:"image",brush:function(t,e){var i=this.style,n=i.image;i.bind(t,this,e);var o=this._image=ve(n,this._image,this,this.onload);if(o&&_e(o)){var r=i.x||0,a=i.y||0,s=i.width,l=i.height,h=o.width/o.height;if(null==s&&null!=l?s=l*h:null==l&&null!=s?l=s/h:null==s&&null==l&&(s=o.width,l=o.height),this.setTransform(t),i.sWidth&&i.sHeight){var c=i.sx||0,u=i.sy||0;t.drawImage(o,c,u,i.sWidth,i.sHeight,r,a,s,l)}else if(i.sx&&i.sy){var c=i.sx,u=i.sy,d=s-c,f=l-u;t.drawImage(o,c,u,d,f,r,a,s,l)}else t.drawImage(o,r,a,s,l);null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new ie(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},h(ni,ii);var db=new ie(0,0,0,0),fb=new ie(0,0,0,0),pb=function(t,e,i){this.type="canvas";var n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=r({},i||{}),this.dpr=i.devicePixelRatio||Ow,this._singleCanvas=n,this.root=t;var o=t.style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,n){var l=t.width,h=t.height;null!=i.width&&(l=i.width),null!=i.height&&(h=i.height),this.dpr=i.devicePixelRatio||1,t.width=l*this.dpr,t.height=h*this.dpr,this._width=l,this._height=h;var c=new Jw(t,this,this.dpr);c.__builtin__=!0,c.initContext(),s[314159]=c,c.zlevel=314159,a.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var u=this._domRoot=hi(this._width,this._height);t.appendChild(u)}this._hoverlayer=null,this._hoverElements=[]};pb.prototype={constructor:pb,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var n=0;n<i.length;n++){var o=i[n],r=this._layers[o];if(!r.__builtin__&&r.refresh){var a=0===n?this._backgroundColor:null;r.refresh(a)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape});i.__from=t,t.__hoverMir=i,i.setStyle(e),this._hoverElements.push(i)}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,n=l(i,e);n>=0&&i.splice(n,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var n=e[i].__from;n&&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){ce(t,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(1e5));var n={};i.ctx.save();for(var o=0;o<e;){var r=t[o],a=r.__from;a&&a.__zr?(o++,a.invisible||(r.transform=a.transform,r.invTransform=a.invTransform,r.__clipPaths=a.__clipPaths,this._doPaintEl(r,i,!0,n))):(t.splice(o,1),a.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,i){if(this._redrawId===i){e=e||!1,this._updateLayerStatus(t);var n=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!n){var o=this;tb(function(){o._paintList(t,e,i)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer(function(n){n.virtual&&t.drawImage(n.dom,0,0,e,i)})},_doPaintList:function(t,e){for(var i=[],n=0;n<this._zlevelList.length;n++){var o=this._zlevelList[n],r=this._layers[o];r.__builtin__&&r!==this._hoverlayer&&(r.__dirty||e)&&i.push(r)}for(var a=!0,s=0;s<i.length;s++){var r=i[s],l=r.ctx,h={};l.save();var c=e?r.__startIndex:r.__drawIndex,u=!e&&r.incremental&&Date.now,f=u&&Date.now(),p=r.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(r.__startIndex===r.__endIndex)r.clear(!1,p);else if(c===r.__startIndex){var g=t[c];g.incremental&&g.notClear&&!e||r.clear(!1,p)}-1===c&&(console.error("For some unknown reason. drawIndex is -1"),c=r.__startIndex);for(var m=c;m<r.__endIndex;m++){var v=t[m];if(this._doPaintEl(v,r,e,h),v.__dirty=!1,u){if(Date.now()-f>15)break}}r.__drawIndex=m,r.__drawIndex<r.__endIndex&&(a=!1),h.prevElClipPaths&&l.restore(),l.restore()}return Hx.wxa&&d(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),a},_doPaintEl:function(t,e,i,n){var o=e.ctx,r=t.transform;if((e.__dirty||i)&&!t.invisible&&0!==t.style.opacity&&(!r||r[0]||r[3])&&(!t.culling||!ai(t,this._width,this._height))){var a=t.__clipPaths;n.prevElClipPaths&&!si(a,n.prevElClipPaths)||(n.prevElClipPaths&&(e.ctx.restore(),n.prevElClipPaths=null,n.prevEl=null),a&&(o.save(),li(a,o),n.prevElClipPaths=a)),t.beforeBrush&&t.beforeBrush(o),t.brush(o,n.prevEl||null),n.prevEl=t,t.afterBrush&&t.afterBrush(o)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var i=this._layers[t];return i||(i=new Jw("zr_"+t,this,this.dpr),i.zlevel=t,i.__builtin__=!0,this._layerConfig[t]&&n(i,this._layerConfig[t],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){var i=this._layers,n=this._zlevelList,o=n.length,r=null,a=-1,s=this._domRoot;if(i[t])return void Nw("ZLevel "+t+" has been used already");if(!ri(e))return void Nw("Layer of zlevel "+t+" is not valid");if(o>0&&t>n[0]){for(a=0;a<o-1&&!(n[a]<t&&n[a+1]>t);a++);r=i[n[a]]}if(n.splice(a+1,0,t),i[t]=e,!e.virtual)if(r){var l=r.dom;l.nextSibling?s.insertBefore(e.dom,l.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)},eachLayer:function(t,e){var i,n,o=this._zlevelList;for(n=0;n<o.length;n++)i=o[n],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){var i,n,o,r=this._zlevelList;for(o=0;o<r.length;o++)n=r[o],i=this._layers[n],i.__builtin__&&t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,o,r=this._zlevelList
;for(o=0;o<r.length;o++)n=r[o],i=this._layers[n],i.__builtin__||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var i=1;i<t.length;i++){var n=t[i];if(n.zlevel!==t[i-1].zlevel||n.incremental){this._needsManuallyCompositing=!0;break}}for(var o=null,r=0,i=0;i<t.length;i++){var a,n=t[i],s=n.zlevel;n.incremental?(a=this.getLayer(s+.001,this._needsManuallyCompositing),a.incremental=!0,r=1):a=this.getLayer(s+(r>0?.01:0),this._needsManuallyCompositing),a.__builtin__||Nw("ZLevel "+s+" has been used by unkown layer "+a.id),a!==o&&(a.__used=!0,a.__startIndex!==i&&(a.__dirty=!0),a.__startIndex=i,a.incremental?a.__drawIndex=-1:a.__drawIndex=i,e(i),o=a),n.__dirty&&(a.__dirty=!0,a.incremental&&a.__drawIndex<0&&(a.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?n(i[t],e,!0):i[t]=e;for(var o=0;o<this._zlevelList.length;o++){var r=this._zlevelList[o];if(r===t||r===t+.01){n(this._layers[r],i[t],!0)}}}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(l(i,t),1))},resize:function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!=t||e!=this._height){i.style.width=t+"px",i.style.height=e+"px";for(var o in this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);d(this._progressiveLayers,function(i){i.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new Jw("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,n=e.dom.height,o=e.ctx;this.eachLayer(function(t){t.__builtin__?o.drawImage(t.dom,0,0,i,n):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var r={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var l=a[s];this._doPaintEl(l,e,!0,r)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||oi(s[i])||oi(a.style[i]))-(oi(s[o])||0)-(oi(s[r])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),n=i.getContext("2d"),o=t.getBoundingRect(),r=t.style,a=r.shadowBlur*e,s=r.shadowOffsetX*e,l=r.shadowOffsetY*e,h=r.hasStroke()?r.lineWidth:0,c=Math.max(h/2,-s+a),u=Math.max(h/2,s+a),d=Math.max(h/2,-l+a),f=Math.max(h/2,l+a),p=o.width+c+u,g=o.height+d+f;i.width=p*e,i.height=g*e,n.scale(e,e),n.clearRect(0,0,p,g),n.dpr=e;var m={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[c-o.x,d-o.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(n);var v=ni,y=new v({style:{x:0,y:0,image:i}});return null!=m.position&&(y.position=t.position=m.position),null!=m.rotation&&(y.rotation=t.rotation=m.rotation),null!=m.scale&&(y.scale=t.scale=m.scale),y}};var gb="undefined"!=typeof window&&!!window.addEventListener,mb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,vb=gb?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},yb=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,sw.call(this)};yb.prototype={constructor:yb,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=l(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,i=this._clips,n=i.length,o=[],r=[],a=0;a<n;a++){var s=i[a],l=s.step(t,e);l&&(o.push(l),r.push(s))}for(var a=0;a<n;)i[a]._needsRemove?(i[a]=i[n-1],i.pop(),n--):a++;n=o.length;for(var a=0;a<n;a++)r[a].fire(o[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){function t(){e._running&&(tb(t),!e._paused&&e._update())}var e=this;this._running=!0,tb(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){e=e||{};var i=new Ew(t,e.loop,e.getter,e.setter);return this.addAnimator(i),i}},c(yb,sw);var _b=function(){this._track=[]};_b.prototype={constructor:_b,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var n=t.touches;if(n){for(var o={points:[],touches:[],target:e,event:t},r=0,a=n.length;r<a;r++){var s=n[r],l=ui(i,s,{});o.points.push([l.zrX,l.zrY]),o.touches.push(s)}this._track.push(o)}},_recognize:function(t){for(var e in xb)if(xb.hasOwnProperty(e)){var i=xb[e](this._track,t);if(i)return i}}};var xb={pinch:function(t,e){var i=t.length;if(i){var n=(t[i-1]||{}).points,o=(t[i-2]||{}).points||n;if(o&&o.length>1&&n&&n.length>1){var r=vi(n)/vi(o);!isFinite(r)&&(r=1),e.pinchScale=r;var a=yi(n);return e.pinchX=a[0],e.pinchY=a[1],{type:"pinch",target:t[0].target,event:e}}}}},wb=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],bb=["touchstart","touchend","touchmove"],Sb={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Db=f(wb,function(t){var e=t.replace("mouse","pointer");return Sb[e]?e:t}),Mb={mousemove:function(t){t=fi(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){t=fi(this.dom,t);var e=t.toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){t=fi(this.dom,t),t.zrByTouch=!0,this._lastTouchMoment=new Date,xi(this,t,"start"),Mb.mousemove.call(this,t),Mb.mousedown.call(this,t),wi(this)},touchmove:function(t){t=fi(this.dom,t),t.zrByTouch=!0,xi(this,t,"change"),Mb.mousemove.call(this,t),wi(this)},touchend:function(t){t=fi(this.dom,t),t.zrByTouch=!0,xi(this,t,"end"),Mb.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&Mb.click.call(this,t),wi(this)},pointerdown:function(t){Mb.mousedown.call(this,t)},pointermove:function(t){bi(t)||Mb.mousemove.call(this,t)},pointerup:function(t){Mb.mouseup.call(this,t)},pointerout:function(t){bi(t)||Mb.mouseout.call(this,t)}};d(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Mb[t]=function(e){e=fi(this.dom,e),this.trigger(t,e)}});var Cb=Di.prototype;Cb.dispose=function(){for(var t=wb.concat(bb),e=0;e<t.length;e++){var i=t[e];gi(this.dom,_i(i),this._handlers[i])}},Cb.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},c(Di,sw);var Tb=!Hx.canvasSupported,Ib={canvas:pb},Ab={},kb="4.0.4",Eb=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,o=new Gw,r=i.renderer;if(Tb){if(!Ib.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");r="vml"}else r&&Ib[r]||(r="canvas");var a=new Ib[r](e,o,i,t);this.storage=o,this.painter=a;var s=Hx.node||Hx.worker?null:new Di(a.getViewportRoot());this.handler=new cw(o,a,s,a.root),this.animation=new yb({stage:{update:v(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=o.delFromStorage,h=o.addToStorage;o.delFromStorage=function(t){l.call(o,t),t&&t.removeSelfFromZr(n)},o.addToStorage=function(t){h.call(o,t),t.addSelfToZr(n)}};Eb.prototype={constructor:Eb,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,i){this.handler.on(t,e,i)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,Ai(this.id)}};var Lb=(Object.freeze||Object)({version:kb,init:Mi,dispose:Ci,getInstance:Ti,registerPainter:Ii}),Ob=d,Pb=b,Nb=_,Rb="series\0",zb=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],Bb=0,Hb=".",Vb="___EC__COMPONENT__CONTAINER___",Wb=0,Fb=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,i,n){for(var o={},r=0;r<t.length;r++){var a=t[r][1];if(!(i&&l(i,a)>=0||n&&l(n,a)<0)){var s=e.getShallow(a);null!=s&&(o[t[r][0]]=s)}}return o}},$b=Fb([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Gb={getLineStyle:function(t){var e=$b(this,t),i=this.getLineDash(e.lineWidth);return i&&(e.lineDash=i),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),i=Math.max(t,2),n=4*t;return"solid"===e||null==e?null:"dashed"===e?[n,n]:[i,i]}},jb=Fb([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Yb={getAreaStyle:function(t,e){return jb(this,t,e)}},Ub=Math.pow,qb=Math.sqrt,Zb=1e-8,Xb=1e-4,Kb=qb(3),Qb=1/3,Jb=V(),tS=V(),eS=V(),iS=Math.min,nS=Math.max,oS=Math.sin,rS=Math.cos,aS=2*Math.PI,sS=V(),lS=V(),hS=V(),cS=[],uS=[],dS={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},fS=[],pS=[],gS=[],mS=[],vS=Math.min,yS=Math.max,_S=Math.cos,xS=Math.sin,wS=Math.sqrt,bS=Math.abs,SS="undefined"!=typeof Float32Array,DS=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};DS.prototype={constructor:DS,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=bS(1/Ow/t)||0,this._uy=bS(1/Ow/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(dS.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=bS(t-this._xi)>this._ux||bS(e-this._yi)>this._uy||this._len<5;return this.addData(dS.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,n,o,r){return this.addData(dS.C,t,e,i,n,o,r),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,o,r):this._ctx.bezierCurveTo(t,e,i,n,o,r)),this._xi=o,this._yi=r,this},quadraticCurveTo:function(t,e,i,n){return this.addData(dS.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,o,r){return this.addData(dS.A,t,e,i,i,n,o-n,0,r?0:1),this._ctx&&this._ctx.arc(t,e,i,n,o,r),this._xi=_S(o)*i+t,this._yi=xS(o)*i+t,this},arcTo:function(t,e,i,n,o){return this._ctx&&this._ctx.arcTo(t,e,i,n,o),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(dS.R,t,e,i,n),this},closePath:function(){this.addData(dS.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!SS||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,o=0;o<e;o++)i+=t[o].len();SS&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(var o=0;o<e;o++)for(var r=t[o].data,a=0;a<r.length;a++)this.data[n++]=r[a];this._len=n},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,o=this._dashSum,r=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,h=this._yi,c=t-l,u=e-h,d=wS(c*c+u*u),f=l,p=h,g=a.length;for(c/=d,u/=d,r<0&&(r=o+r),r%=o,f-=r*c,p-=r*u;c>0&&f<=t||c<0&&f>=t||0==c&&(u>0&&p<=e||u<0&&p>=e);)n=this._dashIdx,i=a[n],f+=c*i,p+=u*i,this._dashIdx=(n+1)%g,c>0&&f<l||c<0&&f>l||u>0&&p<h||u<0&&p>h||s[n%2?"moveTo":"lineTo"](c>=0?vS(f,t):yS(f,t),u>=0?vS(p,e):yS(p,e));c=f-t,u=p-e,this._dashOffset=-wS(c*c+u*u)},_dashedBezierTo:function(t,e,i,n,o,r){var a,s,l,h,c,u=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,v=tn,y=0,_=this._dashIdx,x=f.length,w=0;for(d<0&&(d=u+d),d%=u,a=0;a<1;a+=.1)s=v(g,t,i,o,a+.1)-v(g,t,i,o,a),l=v(m,e,n,r,a+.1)-v(m,e,n,r,a),y+=wS(s*s+l*l);for(;_<x&&!((w+=f[_])>d);_++);for(a=(w-d)/y;a<=1;)h=v(g,t,i,o,a),c=v(m,e,n,r,a),_%2?p.moveTo(h,c):p.lineTo(h,c),a+=f[_]/y,_=(_+1)%x;_%2!=0&&p.lineTo(o,r),s=o-h,l=r-c,this._dashOffset=-wS(s*s+l*l)},_dashedQuadraticTo:function(t,e,i,n){var o=i,r=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,o,r)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,SS&&(this.data=new Float32Array(t)))},getBoundingRect:function(){fS[0]=fS[1]=gS[0]=gS[1]=Number.MAX_VALUE,pS[0]=pS[1]=mS[0]=mS[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,o=0,r=0;r<t.length;){var a=t[r++];switch(1==r&&(e=t[r],i=t[r+1],n=e,o=i),a){case dS.M:n=t[r++],o=t[r++],e=n,i=o,gS[0]=n,gS[1]=o,mS[0]=n,mS[1]=o;break;case dS.L:pn(e,i,t[r],t[r+1],gS,mS),e=t[r++],i=t[r++];break;case dS.C:gn(e,i,t[r++],t[r++],t[r++],t[r++],t[r],t[r+1],gS,mS),e=t[r++],i=t[r++];break;case dS.Q:mn(e,i,t[r++],t[r++],t[r],t[r+1],gS,mS),e=t[r++],i=t[r++];break;case dS.A:var s=t[r++],l=t[r++],h=t[r++],c=t[r++],u=t[r++],d=t[r++]+u,f=(t[r++],1-t[r++]);1==r&&(n=_S(u)*h+s,o=xS(u)*c+l),vn(s,l,h,c,u,d,f,gS,mS),e=_S(d)*h+s,i=xS(d)*c+l;break;case dS.R:n=e=t[r++],o=i=t[r++];pn(n,o,n+t[r++],o+t[r++],gS,mS);break;case dS.Z:e=n,i=o}rt(fS,fS,gS),at(pS,pS,mS)}return 0===r&&(fS[0]=fS[1]=pS[0]=pS[1]=0),new ie(fS[0],fS[1],pS[0]-fS[0],pS[1]-fS[1])},rebuildPath:function(t){for(var e,i,n,o,r,a,s=this.data,l=this._ux,h=this._uy,c=this._len,u=0;u<c;){var d=s[u++];switch(1==u&&(n=s[u],o=s[u+1],e=n,i=o),d){case dS.M:e=n=s[u++],i=o=s[u++],t.moveTo(n,o);break;case dS.L:r=s[u++],a=s[u++],(bS(r-n)>l||bS(a-o)>h||u===c-1)&&(t.lineTo(r,a),n=r,o=a);break;case dS.C:t.bezierCurveTo(s[u++],s[u++],s[u++],s[u++],s[u++],s[u++]),n=s[u-2],o=s[u-1];break;case dS.Q:t.quadraticCurveTo(s[u++],s[u++],s[u++],s[u++]),n=s[u-2],o=s[u-1];break;case dS.A:var f=s[u++],p=s[u++],g=s[u++],m=s[u++],v=s[u++],y=s[u++],_=s[u++],x=s[u++],w=g>m?g:m,b=g>m?1:g/m,S=g>m?m/g:1,D=Math.abs(g-m)>.001,M=v+y;D?(t.translate(f,p),t.rotate(_),t.scale(b,S),t.arc(0,0,w,v,M,1-x),t.scale(1/b,1/S),t.rotate(-_),t.translate(-f,-p)):t.arc(f,p,w,v,M,1-x),1==u&&(e=_S(v)*g+f,i=xS(v)*m+p),n=_S(M)*g+f,o=xS(M)*m+p;break;case dS.R:e=n=s[u],i=o=s[u+1],t.rect(s[u++],s[u++],s[u++],s[u++]);break;case dS.Z:t.closePath(),n=e,o=i}}}},DS.CMD=dS;var MS=2*Math.PI,CS=2*Math.PI,TS=DS.CMD,IS=2*Math.PI,AS=1e-4,kS=[-1,-1,-1],ES=[-1,-1],LS=Qw.prototype.getCanvasPattern,OS=Math.abs,PS=new DS(!0);Ln.prototype={constructor:Ln,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var i=this.style,n=this.path||PS,o=i.hasStroke(),r=i.hasFill(),a=i.fill,s=i.stroke,l=r&&!!a.colorStops,h=o&&!!s.colorStops,c=r&&!!a.image,u=o&&!!s.image;if(i.bind(t,this,e),this.setTransform(t),this.__dirty){var d;l&&(d=d||this.getBoundingRect(),this._fillGradient=i.getGradient(t,a,d)),h&&(d=d||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,s,d))}l?t.fillStyle=this._fillGradient:c&&(t.fillStyle=LS.call(a,t)),h?t.strokeStyle=this._strokeGradient:u&&(t.strokeStyle=LS.call(s,t));var f=i.lineDash,p=i.lineDashOffset,g=!!t.setLineDash,m=this.getGlobalScale();n.setScale(m[0],m[1]),this.__dirtyPath||f&&!g&&o?(n.beginPath(t),f&&!g&&(n.setLineDash(f),n.setLineDashOffset(p)),this.buildPath(n,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),r&&n.fill(t),f&&g&&(t.setLineDash(f),t.lineDashOffset=p),o&&n.stroke(t),f&&g&&t.setLineDash([]),null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,i){},createPathProxy:function(){this.path=new DS},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var n=this.path;n||(n=this.path=new DS),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect()}if(this._rect=t,e.hasStroke()){var o=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){o.copy(t);var r=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(r=Math.max(r,this.strokeContainThreshold||4)),a>1e-10&&(o.width+=r/a,o.height+=r/a,o.x-=r/a/2,o.y-=r/a/2)}return o}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),o=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var r=this.path.data;if(o.hasStroke()){var a=o.lineWidth,s=o.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(o.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),En(r,a/s,t,e)))return!0}if(o.hasFill())return kn(r,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):ii.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(b(t))for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&OS(t[0]-1)>1e-10&&OS(t[3]-1)>1e-10?Math.sqrt(OS(t[0]*t[3]-t[2]*t[1])):1}},Ln.extend=function(t){var e=function(e){Ln.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var i=t.shape;if(i){this.shape=this.shape||{};var n=this.shape;for(var o in i)!n.hasOwnProperty(o)&&i.hasOwnProperty(o)&&(n[o]=i[o])}t.init&&t.init.call(this,e)};h(e,Ln);for(var i in t)"style"!==i&&"shape"!==i&&(e.prototype[i]=t[i]);return e},h(Ln,ii);var NS=DS.CMD,RS=[[],[],[]],zS=Math.sqrt,BS=Math.atan2,HS=function(t,e){var i,n,o,r,a,s,l=t.data,h=NS.M,c=NS.C,u=NS.L,d=NS.R,f=NS.A,p=NS.Q;for(o=0,r=0;o<l.length;){switch(i=l[o++],r=o,n=0,i){case h:case u:n=1;break;case c:n=3;break;case p:n=2;break;case f:var g=e[4],m=e[5],v=zS(e[0]*e[0]+e[1]*e[1]),y=zS(e[2]*e[2]+e[3]*e[3]),_=BS(-e[1]/y,e[0]/v);l[o]*=v,l[o++]+=g,l[o]*=y,l[o++]+=m,l[o++]*=v,l[o++]*=y,l[o++]+=_,l[o++]+=_,o+=2,r=o;break;case d:s[0]=l[o++],s[1]=l[o++],ot(s,s,e),l[r++]=s[0],l[r++]=s[1],s[0]+=l[o++],s[1]+=l[o++],ot(s,s,e),l[r++]=s[0],l[r++]=s[1]}for(a=0;a<n;a++){var s=RS[a];s[0]=l[o++],s[1]=l[o++],ot(s,s,e),l[r++]=s[0],l[r++]=s[1]}}},VS=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],WS=Math.sqrt,FS=Math.sin,$S=Math.cos,GS=Math.PI,jS=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},YS=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(jS(t)*jS(e))},US=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(YS(t,e))},qS=function(t){ii.call(this,t)};qS.prototype={constructor:qS,type:"text",brush:function(t,e){var i=this.style;this.__dirty&&Be(i),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var n=i.text;null!=n&&(n+=""),i.bind(t,this,e),ei(n,i)&&(this.setTransform(t),Ve(this,t,n,i),this.restoreTransform(t))},getBoundingRect:function(){var t=this.style;if(this.__dirty&&Be(t),!this._rect){var e=t.text;null!=e?e+="":e="";var i=we(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);if(i.x+=t.x||0,i.y+=t.y||0,Ke(t.textStroke,t.textStrokeWidth)){var n=t.textStrokeWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect}},h(qS,ii);var ZS=Ln.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),XS=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],KS=function(t){return Hx.browser.ie&&Hx.browser.version>=11?function(){var e,i=this.__clipPaths,n=this.style;if(i)for(var o=0;o<i.length;o++){var r=i[o],a=r&&r.shape,s=r&&r.type;if(a&&("sector"===s&&a.startAngle===a.endAngle||"rect"===s&&(!a.width||!a.height))){for(var l=0;l<XS.length;l++)XS[l][2]=n[XS[l][0]],n[XS[l][0]]=XS[l][1];e=!0;break}}if(t.apply(this,arguments),e)for(var l=0;l<XS.length;l++)n[XS[l][0]]=XS[l][2]}:t},QS=Ln.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:KS(Ln.prototype.brush),buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),r=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,l=e.clockwise,h=Math.cos(a),c=Math.sin(a);t.moveTo(h*o+i,c*o+n),t.lineTo(h*r+i,c*r+n),t.arc(i,n,r,a,s,!l),t.lineTo(Math.cos(s)*o+i,Math.sin(s)*o+n),0!==o&&t.arc(i,n,o,s,a,l),t.closePath()}}),JS=Ln.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,o,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,o,!0)}}),tD=function(t,e){for(var i=t.length,n=[],o=0,r=1;r<i;r++)o+=tt(t[r-1],t[r]);var a=o/2;a=a<i?i:a;for(var r=0;r<a;r++){var s,l,h,c=r/(a-1)*(e?i:i-1),u=Math.floor(c),d=c-u,f=t[u%i];e?(s=t[(u-1+i)%i],l=t[(u+1)%i],h=t[(u+2)%i]):(s=t[0===u?u:u-1],l=t[u>i-2?i-1:u+1],h=t[u>i-3?i-1:u+2]);var p=d*d,g=d*p;n.push([Hn(s[0],f[0],l[0],h[0],d,p,g),Hn(s[1],f[1],l[1],h[1],d,p,g)])}return n},eD=function(t,e,i,n){var o,r,a,s,l=[],h=[],c=[],u=[];if(n){a=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)rt(a,a,t[d]),at(s,s,t[d]);rt(a,a,n[0]),at(s,s,n[1])}for(var d=0,f=t.length;d<f;d++){var p=t[d];if(i)o=t[d?d-1:f-1],r=t[(d+1)%f];else{if(0===d||d===f-1){l.push(F(t[d]));continue}o=t[d-1],r=t[d+1]}Y(h,r,o),Q(h,h,e);var g=tt(p,o),m=tt(p,r),v=g+m;0!==v&&(g/=v,m/=v),Q(c,h,-g),Q(u,h,m);var y=G([],p,c),_=G([],p,u);n&&(at(y,y,a),rt(y,y,s),at(_,_,a),rt(_,_,s)),l.push(y),l.push(_)}return i&&l.push(l.shift()),l},iD=Ln.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Vn(t,e,!0)}}),nD=Ln.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){Vn(t,e,!1)}}),oD=Ln.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,o=e.width,r=e.height;e.r?ze(t,e):t.rect(i,n,o,r),t.closePath()}}),rD=Ln.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,r=e.y2,a=e.percent;0!==a&&(t.moveTo(i,n),a<1&&(o=i*(1-a)+o*a,r=n*(1-a)+r*a),t.lineTo(o,r))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),aD=[],sD=Ln.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,r=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,h=e.cpy2,c=e.percent;0!==c&&(t.moveTo(i,n),null==l||null==h?(c<1&&(un(i,a,o,c,aD),a=aD[1],o=aD[2],un(n,s,r,c,aD),s=aD[1],r=aD[2]),t.quadraticCurveTo(a,s,o,r)):(c<1&&(rn(i,a,l,o,c,aD),a=aD[1],l=aD[2],o=aD[3],rn(n,s,h,r,c,aD),s=aD[1],h=aD[2],r=aD[3]),t.bezierCurveTo(a,s,l,h,o,r)))},pointAt:function(t){return Wn(this.shape,t,!1)},tangentAt:function(t){var e=Wn(this.shape,t,!0);return J(e,e)}}),lD=Ln.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r,0),r=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(r),h=Math.sin(r);t.moveTo(l*o+i,h*o+n),t.arc(i,n,o,r,a,!s)}}),hD=Ln.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Ln.prototype.getBoundingRect.call(this)}}),cD=function(t){this.colorStops=t||[]};cD.prototype={constructor:cD,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var uD=function(t,e,i,n,o,r){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,this.type="linear",this.global=r||!1,cD.call(this,o)};uD.prototype={constructor:uD},h(uD,cD);var dD=function(t,e,i,n,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type="radial",this.global=o||!1,cD.call(this,n)};dD.prototype={constructor:dD},h(dD,cD),Fn.prototype.incremental=!0,Fn.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},Fn.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},Fn.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},Fn.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(var e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},Fn.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var e=this._displayables[t];e.parent=this,e.update(),e.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},Fn.prototype.brush=function(t,e){for(var i=this._cursor;i<this._displayables.length;i++){var n=this._displayables[i];n.beforeBrush&&n.beforeBrush(t),n.brush(t,i===this._cursor?null:this._displayables[i-1]),n.afterBrush&&n.afterBrush(t)}this._cursor=i;for(var i=0;i<this._temporaryDisplayables.length;i++){var n=this._temporaryDisplayables[i];n.beforeBrush&&n.beforeBrush(t),n.brush(t,0===i?null:this._temporaryDisplayables[i-1]),n.afterBrush&&n.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var fD=[];Fn.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new ie(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform(fD)),t.union(n)}this._rect=t}return this._rect},Fn.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(var n=0;n<this._displayables.length;n++){var o=this._displayables[n];if(o.contain(t,e))return!0}return!1},h(Fn,ii);var pD=Math.round,gD=Math.max,mD=Math.min,vD={},yD=Bn,_D=(Object.freeze||Object)({extendShape:$n,extendPath:Gn,makePath:jn,makeImage:Yn,mergePath:yD,resizePath:qn,subPixelOptimizeLine:Zn,subPixelOptimizeRect:Xn,subPixelOptimize:Kn,setHoverStyle:co,setLabelStyle:uo,setTextStyle:fo,setText:po,getFont:wo,updateProps:So,initProps:Do,getTransform:Mo,applyTransform:Co,transformDirection:To,groupTransition:Io,clipPointsByRect:Ao,clipRectByRect:ko,createIcon:Eo,Group:Ww,Image:ni,Text:qS,Circle:ZS,Sector:QS,Ring:JS,Polygon:iD,Polyline:nD,Rect:oD,Line:rD,BezierCurve:sD,Arc:lD,IncrementalDisplayable:Fn,CompoundPath:hD,LinearGradient:uD,RadialGradient:dD,BoundingRect:ie}),xD=["textStyle","color"],wD={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(xD):null)},getFont:function(){return wo({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return we(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},bD=Fb([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),SD={getItemStyle:function(t,e){var i=bD(this,t,e),n=this.getBorderLineDash();return n&&(i.lineDash=n),i},getBorderLineDash:function(){var t=this.get("borderType")
;return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},DD=c,MD=Vi();Lo.prototype={constructor:Lo,init:null,mergeOption:function(t){n(this.option,t,!0)},get:function(t,e){return null==t?this.option:Oo(this.option,this.parsePath(t),!e&&Po(this,t))},getShallow:function(t,e){var i=this.option,n=null==i?i:i[t],o=!e&&Po(this,t);return null==n&&o&&(n=o.getShallow(t)),n},getModel:function(t,e){var i,n=null==t?this.option:Oo(this.option,t=this.parsePath(t));return e=e||(i=Po(this,t))&&i.getModel(t),new Lo(n,e,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(i(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){MD(this).getParent=t},isAnimationEnabled:function(){if(!Hx.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},Ui(Lo),qi(Lo),DD(Lo,Gb),DD(Lo,Yb),DD(Lo,wD),DD(Lo,SD);var CD=0,TD=1e-4,ID=9007199254740991,AD=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,kD=(Object.freeze||Object)({linearMap:zo,parsePercent:Bo,round:Ho,asc:Vo,getPrecision:Wo,getPrecisionSafe:Fo,getPixelPrecision:$o,getPercentWithPrecision:Go,MAX_SAFE_INTEGER:ID,remRadian:jo,isRadianAroundZero:Yo,parseDate:Uo,quantity:qo,nice:Xo,reformIntervals:Ko,isNumeric:Qo}),ED=E,LD=/([&<>"'])/g,OD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},PD=["a","b","c","d","e","f","g"],ND=function(t,e){return"{"+t+(null==e?"":e)+"}"},RD=Te,zD=we,BD=(Object.freeze||Object)({addCommas:Jo,toCamelCase:tr,normalizeCssArray:ED,encodeHTML:er,formatTpl:ir,formatTplSimple:nr,getTooltipMarker:or,formatTime:ar,capitalFirst:sr,truncateText:RD,getTextRect:zD}),HD=d,VD=["left","right","top","bottom","width","height"],WD=[["width","left","right"],["height","top","bottom"]],FD=lr,$D=(y(lr,"vertical"),y(lr,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),GD=Vi(),jD=Lo.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,i,n){Lo.call(this,t,e,i,n),this.uid=No("ec_cpt_model")},init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,o=i?pr(t):{};n(t,e.getTheme().get(this.mainType)),n(t,this.getDefaultOption()),i&&fr(t,o,i)},mergeOption:function(t,e){n(this.option,t,!0);var i=this.layoutMode;i&&fr(this.option,t,i)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=GD(this);if(!t.defaultOption){for(var e=[],i=this.constructor;i;){var o=i.prototype.defaultOption;o&&e.push(o),i=i.superClass}for(var r={},a=e.length-1;a>=0;a--)r=n(r,e[a],!0);t.defaultOption=r}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});Ki(jD,{registerWhenExtend:!0}),function(t){var e={};t.registerSubTypeDefaulter=function(t,i){t=ji(t),e[t.main]=i},t.determineSubType=function(i,n){var o=n.type;if(!o){var r=ji(i).main;t.hasSubTypes(i)&&e[r]&&(o=e[r](n))}return o}}(jD),function(t,e){function i(t){var i={},r=[];return d(t,function(a){var s=n(i,a),h=s.originalDeps=e(a),c=o(h,t);s.entryCount=c.length,0===s.entryCount&&r.push(a),d(c,function(t){l(s.predecessor,t)<0&&s.predecessor.push(t);var e=n(i,t);l(e.successor,t)<0&&e.successor.push(a)})}),{graph:i,noEntryList:r}}function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function o(t,e){var i=[];return d(t,function(t){l(e,t)>=0&&i.push(t)}),i}t.topologicalTravel=function(t,e,n,o){function r(t){0==--l[t].entryCount&&h.push(t)}function a(t){c[t]=!0,r(t)}if(t.length){var s=i(e),l=s.graph,h=s.noEntryList,c={};for(d(t,function(t){c[t]=!0});h.length;){var u=h.pop(),f=l[u],p=!!c[u];p&&(n.call(o,u,f.originalDeps.slice()),delete c[u]),d(f.successor,p?a:r)}d(c,function(){throw new Error("Circle dependency may exists")})}}}(jD,mr),c(jD,$D);var YD="";"undefined"!=typeof navigator&&(YD=navigator.platform||"");var UD={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:YD.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},qD=Vi(),ZD={clearColorPalette:function(){qD(this).colorIdx=0,qD(this).colorNameMap={}},getColorFromPalette:function(t,e,i){e=e||this;var n=qD(e),o=n.colorIdx||0,r=n.colorNameMap=n.colorNameMap||{};if(r.hasOwnProperty(t))return r[t];var a=ki(this.get("color",!0)),s=this.get("colorLayer",!0),l=null!=i&&s?vr(s,i):a;if((l=l||a)&&l.length){var h=l[o];return t&&(r[t]=h),n.colorIdx=(o+1)%l.length,h}}},XD={cartesian2d:function(t,e,i,n){var o=t.getReferringComponents("xAxis")[0],r=t.getReferringComponents("yAxis")[0];if(Nx){if(!o)throw new Error('xAxis "'+T(t.get("xAxisIndex"),t.get("xAxisId"),0)+'" not found');if(!r)throw new Error('yAxis "'+T(t.get("xAxisIndex"),t.get("yAxisId"),0)+'" not found')}e.coordSysDims=["x","y"],i.set("x",o),i.set("y",r),_r(o)&&(n.set("x",o),e.firstCategoryDimIndex=0),_r(r)&&(n.set("y",r),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,i,n){var o=t.getReferringComponents("singleAxis")[0];if(Nx&&!o)throw new Error("singleAxis should be specified.");e.coordSysDims=["single"],i.set("single",o),_r(o)&&(n.set("single",o),e.firstCategoryDimIndex=0)},polar:function(t,e,i,n){var o=t.getReferringComponents("polar")[0],r=o.findAxisModel("radiusAxis"),a=o.findAxisModel("angleAxis");if(Nx){if(!a)throw new Error("angleAxis option not found");if(!r)throw new Error("radiusAxis option not found")}e.coordSysDims=["radius","angle"],i.set("radius",r),i.set("angle",a),_r(r)&&(n.set("radius",r),e.firstCategoryDimIndex=0),_r(a)&&(n.set("angle",a),e.firstCategoryDimIndex=1)},geo:function(t,e,i,n){e.coordSysDims=["lng","lat"]},parallel:function(t,e,i,n){var o=t.ecModel,r=o.getComponent("parallel",t.get("parallelIndex")),a=e.coordSysDims=r.dimensions.slice();d(r.parallelAxisIndex,function(t,r){var s=o.getComponent("parallelAxis",t),l=a[r];i.set(l,s),_r(s)&&null==e.firstCategoryDimIndex&&(n.set(l,s),e.firstCategoryDimIndex=r)})}},KD="original",QD="arrayRows",JD="objectRows",tM="keyedColumns",eM="unknown",iM="typedArray",nM="column",oM="row";xr.seriesDataToSource=function(t){return new xr({data:t,sourceFormat:D(t)?iM:KD,fromDataset:!1})},qi(xr);var rM=Vi(),aM="\0_ec_inner",sM=Lo.extend({init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new Lo(i),this._optionManager=n},setOption:function(t,e){L(!(aM in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||"recreate"===t){var n=i.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(n)):Nr.call(this,n),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var o=i.getTimelineOption(this);o&&(this.mergeOption(o),e=!0)}if(!t||"recreate"===t||"media"===t){var r=i.getMediaOption(this,this._api);r.length&&d(r,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(t){function e(e,i){var n=ki(t[e]),s=Pi(a.get(e),n);Ni(s),d(s,function(t,i){var n=t.option;b(n)&&(t.keyInfo.mainType=e,t.keyInfo.subType=zr(e,n,t.exist))});var l=Rr(a,i);o[e]=[],a.set(e,[]),d(s,function(t,i){var n=t.exist,s=t.option;if(L(b(s)||n,"Empty component definition"),s){var h=jD.getClass(e,t.keyInfo.subType,!0);if(n&&n instanceof h)n.name=t.keyInfo.name,n.mergeOption(s,this),n.optionUpdated(s,!1);else{var c=r({dependentModels:l,componentIndex:i},t.keyInfo);n=new h(s,this,this,c),r(n,c),n.init(s,this,this,c),n.optionUpdated(null,!0)}}else n.mergeOption({},this),n.optionUpdated({},!1);a.get(e)[i]=n,o[e][i]=n.option},this),"series"===e&&Br(this,a.get("series"))}var o=this.option,a=this._componentsMap,s=[];Sr(this),d(t,function(t,e){null!=t&&(jD.hasClass(e)?e&&s.push(e):o[e]=null==o[e]?i(t):n(o[e],t,!0))}),jD.topologicalTravel(s,jD.getAllClassMainTypes(),e,this),this._seriesIndicesMap=z(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=i(this.option);return d(t,function(e,i){if(jD.hasClass(i)){for(var e=ki(e),n=e.length-1;n>=0;n--)zi(e[n])&&e.splice(n,1);t[i]=e}}),delete t[aM],t},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap.get(t);if(i)return i[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i=t.index,n=t.id,o=t.name,r=this._componentsMap.get(e);if(!r||!r.length)return[];var a;if(null!=i)_(i)||(i=[i]),a=g(f(i,function(t){return r[t]}),function(t){return!!t});else if(null!=n){var s=_(n);a=g(r,function(t){return s&&l(n,t.id)>=0||!s&&t.id===n})}else if(null!=o){var h=_(o);a=g(r,function(t){return h&&l(o,t.name)>=0||!h&&t.name===o})}else a=r.slice();return Hr(a,t)},findComponents:function(t){var e=t.query,i=t.mainType,n=function(t){var e=i+"Index",n=i+"Id",o=i+"Name";return!t||null==t[e]&&null==t[n]&&null==t[o]?null:{mainType:i,index:t[e],id:t[n],name:t[o]}}(e),o=n?this.queryComponents(n):this._componentsMap.get(i);return function(e){return t.filter?g(e,t.filter):e}(Hr(o,t))},eachComponent:function(t,e,i){var n=this._componentsMap;if("function"==typeof t)i=e,e=t,n.each(function(t,n){d(t,function(t,o){e.call(i,n,t,o)})});else if(w(t))d(n.get(t),e,i);else if(b(t)){var o=this.findComponents(t);d(o,e,i)}},getSeriesByName:function(t){return g(this._componentsMap.get("series"),function(e){return e.name===t})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){return g(this._componentsMap.get("series"),function(e){return e.subType===t})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){Vr(this),d(this._seriesIndices,function(i){var n=this._componentsMap.get("series")[i];t.call(e,n,i)},this)},eachRawSeries:function(t,e){d(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,i){Vr(this),d(this._seriesIndices,function(n){var o=this._componentsMap.get("series")[n];o.subType===t&&e.call(i,o,n)},this)},eachRawSeriesByType:function(t,e,i){return d(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return Vr(this),null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){Vr(this),Br(this,g(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;Br(this,e.get("series"));var i=[];e.each(function(t,e){i.push(e)}),jD.topologicalTravel(i,jD.getAllClassMainTypes(),function(i,n){d(e.get(i),function(e){("series"!==i||!Or(e,t))&&e.restoreData()})})}});c(sM,ZD);var lM=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],hM={};Fr.prototype={constructor:Fr,create:function(t,e){var i=[];d(hM,function(n,o){var r=n.create(t,e);i=i.concat(r||[])}),this._coordinateSystems=i},update:function(t,e){d(this._coordinateSystems,function(i){i.update&&i.update(t,e)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Fr.register=function(t,e){hM[t]=e},Fr.get=function(t){return hM[t]};var cM=d,uM=i,dM=f,fM=n,pM=/^(min|max)?(.+)$/;$r.prototype={constructor:$r,setOption:function(t,e){t&&d(ki(t.series),function(t){t&&t.data&&D(t.data)&&P(t.data)}),t=uM(t,!0);var i=this._optionBackup,n=Gr.call(this,t,e,!i);this._newBaseOption=n.baseOption,i?(qr(i.baseOption,n.baseOption),n.timelineOptions.length&&(i.timelineOptions=n.timelineOptions),n.mediaList.length&&(i.mediaList=n.mediaList),n.mediaDefault&&(i.mediaDefault=n.mediaDefault)):this._optionBackup=n},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=dM(e.timelineOptions,uM),this._mediaList=dM(e.mediaList,uM),this._mediaDefault=uM(e.mediaDefault),this._currentMediaIndices=[],uM(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=uM(i[n.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,o=this._mediaDefault,r=[],a=[];if(!n.length&&!o)return a;for(var s=0,l=n.length;s<l;s++)jr(n[s].query,e,i)&&r.push(s);return!r.length&&o&&(r=[-1]),r.length&&!Ur(r,this._currentMediaIndices)&&(a=dM(r,function(t){return uM(-1===t?o.option:n[t].option)})),this._currentMediaIndices=r,a}};var gM=d,mM=b,vM=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],yM=function(t,e){gM(ea(t.series),function(t){mM(t)&&ta(t)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),gM(i,function(e){gM(ea(t[e]),function(t){t&&(Qr(t,"axisLabel"),Qr(t.axisPointer,"label"))})}),gM(ea(t.parallel),function(t){var e=t&&t.parallelAxisDefault;Qr(e,"axisLabel"),Qr(e&&e.axisPointer,"label")}),gM(ea(t.calendar),function(t){Xr(t,"itemStyle"),Qr(t,"dayLabel"),Qr(t,"monthLabel"),Qr(t,"yearLabel")}),gM(ea(t.radar),function(t){Qr(t,"name")}),gM(ea(t.geo),function(t){mM(t)&&(Jr(t),gM(ea(t.regions),function(t){Jr(t)}))}),gM(ea(t.timeline),function(t){Jr(t),Xr(t,"label"),Xr(t,"itemStyle"),Xr(t,"controlStyle",!0);var e=t.data;_(e)&&d(e,function(t){b(t)&&(Xr(t,"label"),Xr(t,"itemStyle"))})}),gM(ea(t.toolbox),function(t){Xr(t,"iconStyle"),gM(t.feature,function(t){Xr(t,"iconStyle")})}),Qr(ia(t.axisPointer),"label"),Qr(ia(t.tooltip).axisPointer,"label")},_M=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],xM=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],wM=function(t,e){yM(t,e),t.series=ki(t.series),d(t.series,function(t){if(b(t)){var e=t.type;if("pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var i=na(t,"pointer.color");null!=i&&oa(t,"itemStyle.normal.color",i)}ra(t)}}),t.dataRange&&(t.visualMap=t.dataRange),d(xM,function(e){var i=t[e];i&&(_(i)||(i=[i]),d(i,function(t){ra(t)}))})},bM=function(t){var e=z();t.eachSeries(function(t){var i=t.get("stack");if(i){var n=e.get(i)||e.set(i,[]),o=t.getData(),r={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:t};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;n.length&&o.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel),n.push(r)}}),e.each(aa)},SM=sa.prototype;SM.pure=!1,SM.persistent=!0,SM.getSource=function(){return this._source};var DM={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:ca},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],i=this._data,n=0;n<i.length;n++){var o=i[n];e.push(o?o[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:la,getItem:ha,appendData:ca},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],i=this._source.dimensionsDefine,n=0;n<i.length;n++){var o=this._data[i[n].name];e.push(o?o[t]:null)}return e},appendData:function(t){var e=this._data;d(t,function(t,i){for(var n=e[i]||(e[i]=[]),o=0;o<(t||[]).length;o++)n.push(t[o])})}},original:{count:la,getItem:ha,appendData:ca},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var i=this._dimSize*t,n=0;n<this._dimSize;n++)e[n]=this._data[i+n];return e},appendData:function(t){Nx&&L(D(t),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},MM={arrayRows:ua,objectRows:function(t,e,i,n){return null!=i?t[n]:t},keyedColumns:ua,original:function(t,e,i,n){var o=Li(t);return null!=i&&o instanceof Array?o[i]:o},typedArray:ua},CM={arrayRows:da,objectRows:function(t,e,i,n){return fa(t[e],this._dimensionInfos[e])},keyedColumns:da,original:function(t,e,i,n){var o=t&&(null==t.value?t:t.value);return!this._rawData.pure&&Oi(t)&&(this.hasItemOption=!0),fa(o instanceof Array?o[n]:o,this._dimensionInfos[e])},typedArray:function(t,e,i,n){return t[n]}},TM=/\{@(.+?)\}/g,IM={getDataParams:function(t,e){var i=this.getData(e),n=this.getRawValue(t,e),o=i.getRawIndex(t),r=i.getName(t),a=i.getRawDataItem(t),s=i.getItemVisual(t,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:r,dataIndex:o,data:a,dataType:e,value:n,color:s,marker:or(s),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,i,n,o){e=e||"normal";var r=this.getData(i),a=r.getItemModel(t),s=this.getDataParams(t,i);null!=n&&s.value instanceof Array&&(s.value=s.value[n]);var l=a.get("normal"===e?[o||"label","formatter"]:[e,o||"label","formatter"]);if("function"==typeof l)return s.status=e,l(s);if("string"==typeof l){return ir(l,s).replace(TM,function(e,i){var n=i.length;return"["===i.charAt(0)&&"]"===i.charAt(n-1)&&(i=+i.slice(1,n-1)),pa(r,t,i)})}},getRawValue:function(t,e){return pa(this.getData(e),t)},formatTooltip:function(){}},AM=va.prototype;AM.perform=function(t){function e(t){return!(t>=1)&&(t=1),t}var i=this._upstream,n=t&&t.skip;if(this._dirty&&i){var o=this.context;o.data=o.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var r;this._plan&&!n&&(r=this._plan(this.context));var a=e(this._modBy),s=this._modDataCount||0,l=e(t&&t.modBy),h=t&&t.modDataCount||0;a===l&&s===h||(r="reset");var c;(this._dirty||"reset"===r)&&(this._dirty=!1,c=_a(this,n)),this._modBy=l,this._modDataCount=h;var u=t&&t.step;if(i?(Nx&&L(null!=i._outputDueEnd),this._dueEnd=i._outputDueEnd):(Nx&&L(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var d=this._dueIndex,f=Math.min(null!=u?this._dueIndex+u:1/0,this._dueEnd);if(!n&&(c||d<f)){var p=this._progress;if(_(p))for(var g=0;g<p.length;g++)ya(this,p[g],d,f,l,h);else ya(this,p,d,f,l,h)}this._dueIndex=f;var m=null!=this._settedOutputEnd?this._settedOutputEnd:f;Nx&&L(m>=this._outputDueEnd),this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var kM=function(){function t(){return n<i?n++:null}function e(){var t=n%a*o+Math.ceil(n/a),e=n>=i?null:t<r?t:n;return n++,e}var i,n,o,r,a,s={reset:function(l,h,c,u){n=l,i=h,o=c,r=u,a=Math.ceil(r/o),s.next=o>1&&r>0?e:t}};return s}();AM.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},AM.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},AM.pipe=function(t){Nx&&L(t&&!t._disposed&&t!==this),(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},AM.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},AM.getUpstream=function(){return this._upstream},AM.getDownstream=function(){return this._downstream},AM.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var EM=Vi(),LM=jD.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(t,e,i,n){this.seriesIndex=this.componentIndex,this.dataTask=ma({count:ba,reset:Sa}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),Dr(this);var o=this.getInitialData(t,i);Ma(o,this),this.dataTask.context.data=o,Nx&&L(o,"getInitialData returned invalid data."),EM(this).dataBeforeProcessed=o,xa(this)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,o=i?pr(t):{},r=this.subType;jD.hasClass(r)&&(r+="Series"),n(t,e.getTheme().get(this.subType)),n(t,this.getDefaultOption()),Ei(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&fr(t,o,i)},mergeOption:function(t,e){t=n(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i&&fr(this.option,t,i),Dr(this);var o=this.getInitialData(t,e);Ma(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,EM(this).dataBeforeProcessed=o,xa(this)},fillDataTextStyle:function(t){if(t&&!D(t))for(var e=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&Ei(t[i],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=Ta(this);if(e){var i=e.context.data;return null==t?i:i.getLinkedData(t)}return EM(this).data},setData:function(t){var e=Ta(this);if(e){var i=e.context;i.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),i.outputData=t,e!==this.dataTask&&(i.data=t)}EM(this).data=t},getSource:function(){return br(this)},getRawData:function(){return EM(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,i){function n(t){return er(Jo(t))}var o=this.getData(),r=o.mapDimension("defaultedTooltip",!0),a=r.length,s=this.getRawValue(t),l=_(s),h=o.getItemVisual(t,"color");b(h)&&h.colorStops&&(h=(h.colorStops[0]||{}).color),h=h||"transparent";var c=a>1||l&&!a?function(i){function n(t,i){var n=o.getDimensionInfo(i);if(n&&!1!==n.otherDims.tooltip){var r=n.type,l=or({color:h,type:"subItem"}),c=(a?l+er(n.displayName||"-")+": ":"")+er("ordinal"===r?t+"":"time"===r?e?"":ar("yyyy/MM/dd hh:mm:ss",t):Jo(t));c&&s.push(c)}}var a=p(i,function(t,e,i){var n=o.getDimensionInfo(i);return t|=n&&!1!==n.tooltip&&null!=n.displayName},0),s=[];return r.length?d(r,function(e){n(pa(o,t,e),e)}):d(i,n),(a?"<br/>":"")+s.join(a?"<br/>":", ")}(s):n(a?pa(o,t,r[0]):l?s[0]:s),u=or(h),f=o.getName(t),g=this.name;return Ri(this)||(g=""),g=g?er(g)+(e?": ":"<br/>"):"",e?u+g+c:g+u+(f?er(f)+": "+c:c)},isAnimationEnabled:function(){if(Hx.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,i){var n=this.ecModel,o=ZD.getColorFromPalette.call(this,t,e,i);return o||(o=n.getColorFromPalette(t,e,i)),o},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});c(LM,IM),c(LM,ZD);var OM=function(){this.group=new Ww,this.uid=No("viewComponent")};OM.prototype={constructor:OM,init:function(t,e){},render:function(t,e,i,n){},dispose:function(){}};var PM=OM.prototype;PM.updateView=PM.updateLayout=PM.updateVisual=function(t,e,i,n){},Ui(OM),Ki(OM,{registerWhenExtend:!0});var NM=function(){var t=Vi();return function(e){var i=t(e),n=e.pipelineContext,o=i.large,r=i.progressiveRender,a=i.large=n.large,s=i.progressiveRender=n.progressiveRender;return!!(o^a||r^s)&&"reset"}},RM=Vi(),zM=NM();Ia.prototype={type:"chart",init:function(t,e){},render:function(t,e,i,n){},highlight:function(t,e,i,n){ka(t.getData(),n,"emphasis")},downplay:function(t,e,i,n){ka(t.getData(),n,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};var BM=Ia.prototype;BM.updateView=BM.updateLayout=BM.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},Ui(Ia,["dispose"]),Ki(Ia,{registerWhenExtend:!0}),Ia.markUpdateMethod=function(t,e){RM(t).updateMethod=e};var HM={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},VM="\0__throttleOriginMethod",WM="\0__throttleRate",FM="\0__throttleType",$M={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var i=t.getData(),n=(t.visualColorAccessPath||"itemStyle.color").split("."),o=t.get(n)||t.getColorFromPalette(t.name,null,e.getSeriesCount());if(i.setVisual("color",o),!e.isSeriesFiltered(t)){"function"!=typeof o||o instanceof cD||i.each(function(e){i.setItemVisual(e,"color",o(t.getDataParams(e)))});var r=function(t,e){var i=t.getItemModel(e),o=i.get(n,!0);null!=o&&t.setItemVisual(e,"color",o)};return{dataEach:i.hasItemOption?r:null}}}},GM={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},jM=function(t,e){function i(t,e){if("string"!=typeof t)return t;var i=t;return d(e,function(t,e){i=i.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),i}function n(t){var e=r.get(t);if(null==e){for(var i=t.split("."),n=GM.aria,o=0;o<i.length;++o)n=n[i[o]];return n}return e}function o(t){return GM.series.typeNames[t]||"自定义图"}var r=e.getModel("aria");if(r.get("show")){if(r.get("description"))return void t.setAttribute("aria-label",r.get("description"));var a=0;e.eachSeries(function(t,e){++a},this);var s,l=r.get("data.maxCount")||10,h=r.get("series.maxCount")||10,c=Math.min(a,h);if(!(a<1)){var u=function(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}();s=u?i(n("general.withTitle"),{title:u}):n("general.withoutTitle");var f=[];s+=i(n(a>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:a}),e.eachSeries(function(t,e){if(e<c){var r,s=t.get("name"),h="series."+(a>1?"multiple":"single")+".";r=n(s?h+"withName":h+"withoutName"),r=i(r,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:o(t.subType)});var u=t.getData();window.data=u,u.count()>l?r+=i(n("data.partialData"),{displayCnt:l}):r+=n("data.allData");for(var d=[],p=0;p<u.count();p++)if(p<l){var g=u.getName(p),m=pa(u,p);d.push(i(n(g?"data.withName":"data.withoutName"),{name:g,value:m}))}r+=d.join(n("data.separator.middle"))+n("data.separator.end"),f.push(r)}}),s+=f.join(n("series.multiple.separator.middle"))+n("series.multiple.separator.end"),t.setAttribute("aria-label",s)}}},YM=Math.PI,UM=function(t,e){e=e||{},a(e,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var i=new oD({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4}),n=new lD({shape:{startAngle:-YM/2,endAngle:-YM/2+.1,r:10},style:{stroke:e.color,lineCap:"round",lineWidth:5},zlevel:e.zlevel,z:10001}),o=new oD({style:{fill:"none",text:e.text,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});n.animateShape(!0).when(1e3,{endAngle:3*YM/2}).start("circularInOut"),n.animateShape(!0).when(1e3,{startAngle:3*YM/2}).delay(300).start("circularInOut");var r=new Ww;return r.add(n),r.add(o),r.add(i),r.resize=function(){var e=t.getWidth()/2,r=t.getHeight()/2;n.setShape({cx:e,cy:r});var a=n.shape.r;o.setShape({x:e-a,y:r-a,width:2*a,height:2*a}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r},qM=Ra.prototype;qM.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},qM.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),n=i.context,o=!e&&i.progressiveEnabled&&(!n||n.progressiveRender)&&t.__idxInPipeline>i.blockIndex,r=o?i.step:null,a=n&&n.modDataCount;return{step:r,modBy:null!=a?Math.ceil(a/r):null,modDataCount:a}}},qM.getPipeline=function(t){return this._pipelineMap.get(t)},qM.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),n=t.getData(),o=n.count(),r=i.progressiveEnabled&&e.incrementalPrepareRender&&o>=i.threshold,a=t.get("large")&&o>=t.get("largeThreshold"),s="mod"===t.get("progressiveChunkMode")?o:null;t.pipelineContext=i.context={progressiveRender:r,modDataCount:s,large:a}},qM.restorePipelines=function(t){var e=this,i=e._pipelineMap=z();t.eachSeries(function(t){var n=t.getProgressive(),o=t.uid;i.set(o,{id:o,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:n&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(n||700),count:0}),qa(e,t,t.dataTask)})},qM.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),i=this.api;d(this._allHandlers,function(n){var o=t.get(n.uid)||t.set(n.uid,[]);n.reset&&Ba(this,n,o,e,i),n.overallReset&&Ha(this,n,o,e,i)},this)},qM.prepareView=function(t,e,i,n){var o=t.renderTask,r=o.context;r.model=e,r.ecModel=i,r.api=n,o.__block=!t.incrementalPrepareRender,qa(this,e,o)},qM.performDataProcessorTasks=function(t,e){za(this,this._dataProcessorHandlers,t,e,{block:!0})},qM.performVisualTasks=function(t,e,i){za(this,this._visualHandlers,t,e,i)},qM.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},qM.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var ZM=qM.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},XM=Ya(0);Ra.wrapStageHandler=function(t,e){return x(t)&&(t={overallReset:t,seriesType:Za(t)}),t.uid=No("stageHandler"),e&&(t.visualType=e),t};var KM,QM={},JM={};Xa(QM,sM),Xa(JM,Wr),QM.eachSeriesByType=QM.eachRawSeriesByType=function(t){KM=t},QM.eachComponent=function(t){"series"===t.mainType&&t.subType&&(KM=t.subType)};var tC=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],eC={color:tC,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],tC]},iC=function(){return{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{
color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}}},nC=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],oC={color:nC,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:nC[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:iC(),logAxis:iC(),valueAxis:iC(),categoryAxis:iC(),line:{symbol:"circle"},graph:{color:nC},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};oC.categoryAxis.splitLine.show=!1,jD.extend({type:"dataset",defaultOption:{seriesLayoutBy:nM,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){wr(this)}}),OM.extend({type:"dataset"});var rC=L,aC=d,sC=x,lC=b,hC=jD.parseClassType,cC="4.1.0",uC={zrender:"4.0.4"},dC=1e3,fC=1e3,pC=3e3,gC={PROCESSOR:{FILTER:dC,STATISTIC:5e3},VISUAL:{LAYOUT:fC,GLOBAL:2e3,CHART:pC,COMPONENT:4e3,BRUSH:5e3}},mC="__flagInMainProcess",vC="__optionUpdated",yC=/^[a-zA-Z0-9_]+$/;Qa.prototype.on=Ka("on"),Qa.prototype.off=Ka("off"),Qa.prototype.one=Ka("one"),c(Qa,sw);var _C=Ja.prototype;_C._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[vC]){var e=this[vC].silent;this[mC]=!0,es(this),xC.update.call(this),this[mC]=!1,this[vC]=!1,rs.call(this,e),as.call(this,e)}else if(t.unfinished){var i=1,n=this._model,o=this._api;t.unfinished=!1;do{var r=+new Date;t.performSeriesTasks(n),t.performDataProcessorTasks(n),ns(this,n),t.performVisualTasks(n),ds(this,this._model,o,"remain"),i-=+new Date-r}while(i>0&&t.unfinished);t.unfinished||this._zr.flush()}}},_C.getDom=function(){return this._dom},_C.getZr=function(){return this._zr},_C.setOption=function(t,e,i){Nx&&rC(!this[mC],"`setOption` should not be called during main process.");var n;if(lC(e)&&(i=e.lazyUpdate,n=e.silent,e=e.notMerge),this[mC]=!0,!this._model||e){var o=new $r(this._api),r=this._theme,a=this._model=new sM(null,null,r,o);a.scheduler=this._scheduler,a.init(null,null,r,o)}this._model.setOption(t,MC),i?(this[vC]={silent:n},this[mC]=!1):(es(this),xC.update.call(this),this._zr.flush(),this[vC]=!1,this[mC]=!1,rs.call(this,n),as.call(this,n))},_C.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},_C.getModel=function(){return this._model},_C.getOption=function(){return this._model&&this._model.getOption()},_C.getWidth=function(){return this._zr.getWidth()},_C.getHeight=function(){return this._zr.getHeight()},_C.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},_C.getRenderedCanvas=function(t){if(Hx.canvasSupported){t=t||{},t.pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor");return this._zr.painter.getRenderedCanvas(t)}},_C.getSvgDataUrl=function(){if(Hx.svgSupported){var t=this._zr;return d(t.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},_C.getDataURL=function(t){t=t||{};var e=t.excludeComponents,i=this._model,n=[],o=this;aC(e,function(t){i.eachComponent({mainType:t},function(t){var e=o._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)})});var r="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return aC(n,function(t){t.group.ignore=!1}),r},_C.getConnectedDataURL=function(t){if(Hx.canvasSupported){var e=this.group,n=Math.min,o=Math.max;if(EC[e]){var r=1/0,a=1/0,s=-1/0,l=-1/0,h=[],c=t&&t.pixelRatio||1;d(kC,function(c,u){if(c.group===e){var d=c.getRenderedCanvas(i(t)),f=c.getDom().getBoundingClientRect();r=n(f.left,r),a=n(f.top,a),s=o(f.right,s),l=o(f.bottom,l),h.push({dom:d,left:f.left,top:f.top})}}),r*=c,a*=c,s*=c,l*=c;var u=s-r,f=l-a,p=Xx();p.width=u,p.height=f;var g=Mi(p);return aC(h,function(t){var e=new ni({style:{x:t.left*c-r,y:t.top*c-a,image:t.dom}});g.add(e)}),g.refreshImmediately(),p.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},_C.convertToPixel=y(ts,"convertToPixel"),_C.convertFromPixel=y(ts,"convertFromPixel"),_C.containPixel=function(t,e){var i,n=this._model;return t=Wi(n,t),d(t,function(t,n){n.indexOf("Models")>=0&&d(t,function(t){var o=t.coordinateSystem;if(o&&o.containPoint)i|=!!o.containPoint(e);else if("seriesModels"===n){var r=this._chartsMap[t.__viewId];r&&r.containPoint?i|=r.containPoint(e,t):Nx&&console.warn(n+": "+(r?"The found component do not support containPoint.":"No view mapping to the found component."))}else Nx&&console.warn(n+": containPoint is not supported")},this)},this),!!i},_C.getVisual=function(t,e){t=Wi(this._model,t,{defaultMainType:"series"});var i=t.seriesModel;Nx&&(i||console.warn("There is no specified seires model"));var n=i.getData(),o=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?n.indexOfRawIndex(t.dataIndex):null;return null!=o?n.getItemVisual(o,e):n.getVisual(e)},_C.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},_C.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var xC={prepareAndUpdate:function(t){es(this),xC.update.call(this,t)},update:function(t){var e=this._model,i=this._api,n=this._zr,o=this._coordSysMgr,r=this._scheduler;if(e){r.restoreData(e,t),r.performSeriesTasks(e),o.create(e,i),r.performDataProcessorTasks(e,t),ns(this,e),o.update(e,i),hs(e),r.performVisualTasks(e,t),cs(this,e,i,t);var a=e.get("backgroundColor")||"transparent";if(Hx.canvasSupported)n.setBackgroundColor(a);else{var s=Ot(a);a=Ft(s,"rgb"),0===s[3]&&(a="transparent")}fs(e,i)}},updateTransform:function(t){var e=this._model,i=this,n=this._api;if(e){var o=[];e.eachComponent(function(r,a){var s=i.getViewOfComponentModel(a);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(a,e,n,t);l&&l.update&&o.push(s)}else o.push(s)});var r=z();e.eachSeries(function(o){var a=i._chartsMap[o.__viewId];if(a.updateTransform){var s=a.updateTransform(o,e,n,t);s&&s.update&&r.set(o.uid,1)}else r.set(o.uid,1)}),hs(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:r}),ds(i,e,n,t,r),fs(e,this._api)}},updateView:function(t){var e=this._model;e&&(Ia.markUpdateMethod(t,"updateView"),hs(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),cs(this,this._model,this._api,t),fs(e,this._api))},updateVisual:function(t){xC.update.call(this,t)},updateLayout:function(t){xC.update.call(this,t)}};_C.resize=function(t){Nx&&rC(!this[mC],"`resize` should not be called during main process."),this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var i=e.resetOption("media"),n=t&&t.silent;this[mC]=!0,i&&es(this),xC.update.call(this),this[mC]=!1,rs.call(this,n),as.call(this,n)}},_C.showLoading=function(t,e){if(lC(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),!AC[t])return void(Nx&&console.warn("Loading effects "+t+" not exists."));var i=AC[t](this._api,e),n=this._zr;this._loadingFX=i,n.add(i)},_C.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},_C.makeActionFromEvent=function(t){var e=r({},t);return e.type=SC[t.type],e},_C.dispatchAction=function(t,e){if(lC(e)||(e={silent:!!e}),bC[t.type]&&this._model){if(this[mC])return void this._pendingActions.push(t);os.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&Hx.browser.weChat&&this._throttledZrFlush(),rs.call(this,e.silent),as.call(this,e.silent)}},_C.appendData=function(t){var e=t.seriesIndex,i=this.getModel(),n=i.getSeriesByIndex(e);Nx&&rC(t.data&&n),n.appendData(t),this._scheduler.unfinished=!0},_C.on=Ka("on"),_C.off=Ka("off"),_C.one=Ka("one");var wC=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];_C._initEvents=function(){aC(wC,function(t){this._zr.on(t,function(e){var i,n=this.getModel(),o=e.target;if("globalout"===t)i={};else if(o&&null!=o.dataIndex){var a=o.dataModel||n.getSeriesByIndex(o.seriesIndex);i=a&&a.getDataParams(o.dataIndex,o.dataType)||{}}else o&&o.eventData&&(i=r({},o.eventData));i&&(i.event=e,i.type=t,this.trigger(t,i))},this)},this),aC(SC,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},_C.isDisposed=function(){return this._disposed},_C.clear=function(){this.setOption({series:[]},!0)},_C.dispose=function(){if(this._disposed)return void(Nx&&console.warn("Instance "+this.id+" has been disposed"));this._disposed=!0,$i(this.getDom(),PC,"");var t=this._api,e=this._model;aC(this._componentsViews,function(i){i.dispose(e,t)}),aC(this._chartsViews,function(i){i.dispose(e,t)}),this._zr.dispose(),delete kC[this.id]},c(Ja,sw);var bC={},SC={},DC=[],MC=[],CC=[],TC=[],IC={},AC={},kC={},EC={},LC=new Date-0,OC=new Date-0,PC="_echarts_instance_",NC={},RC=ws;Os(2e3,$M),Cs(wM),Ts(5e3,bM),Ns("default",UM),As({type:"highlight",event:"highlight",update:"highlight"},H),As({type:"downplay",event:"downplay",update:"downplay"},H),Ms("light",eC),Ms("dark",oC);var zC={};Gs.prototype={constructor:Gs,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t,e=this._old,i=this._new,n={},o={},r=[],a=[];for(js(e,n,r,"_oldKeyGetter",this),js(i,o,a,"_newKeyGetter",this),t=0;t<e.length;t++){var s=r[t],l=o[s];if(null!=l){var h=l.length;h?(1===h&&(o[s]=null),l=l.unshift()):o[s]=null,this._update&&this._update(l,t)}else this._remove&&this._remove(t)}for(var t=0;t<a.length;t++){var s=a[t];if(o.hasOwnProperty(s)){var l=o[s];if(null==l)continue;if(l.length)for(var c=0,h=l.length;c<h;c++)this._add&&this._add(l[c]);else this._add&&this._add(l)}}}};var BC=z(["tooltip","label","itemName","itemId","seriesName"]),HC=b,VC="e\0\0",WC={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},FC="undefined"==typeof Uint32Array?Array:Uint32Array,$C="undefined"==typeof Uint16Array?Array:Uint16Array,GC=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],jC=["_extent","_approximateExtent","_rawExtent"],YC=function(t,e){t=t||["x","y"];for(var i={},n=[],o={},r=0;r<t.length;r++){var a=t[r];w(a)&&(a={name:a});var s=a.name;a.type=a.type||"float",a.coordDim||(a.coordDim=s,a.coordDimIndex=0),a.otherDims=a.otherDims||{},n.push(s),i[s]=a,a.index=r,a.createInvertedIndices&&(o[s]=[])}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=Ys(this),this._invertedIndicesMap=o,this._calculationInfo={}},UC=YC.prototype;UC.type="list",UC.hasItemOption=!0,UC.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},UC.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},UC.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},UC.mapDimension=function(t,e){var i=this._dimensionsSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var n=i.encode[t];return!0===e?(n||[]).slice():n&&n[e]},UC.initData=function(t,e,i){var n=xr.isInstance(t)||u(t);if(n&&(t=new sa(t,this.dimensions.length)),Nx&&!n&&("function"!=typeof t.getItem||"function"!=typeof t.count))throw new Error("Inavlid data provider.");this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=CM[this._rawData.getSource().sourceFormat],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},UC.getProvider=function(){return this._rawData},UC.appendData=function(t){Nx&&L(!this._indices,"appendData can only be called on raw data.");var e=this._rawData,i=this.count();e.appendData(t);var n=e.count();e.persistent||(n+=i),this._initDataFromProvider(i,n)},UC._initDataFromProvider=function(t,e){if(!(t>=e)){for(var i,n=this._chunkSize,o=this._rawData,r=this._storage,a=this.dimensions,s=a.length,l=this._dimensionInfos,h=this._nameList,c=this._idList,u=this._rawExtent,d=this._nameRepeatCount={},f=this._chunkCount,p=f-1,g=0;g<s;g++){var m=a[g];u[m]||(u[m]=sl());var v=l[m];0===v.otherDims.itemName&&(i=this._nameDimIdx=g),0===v.otherDims.itemId&&(this._idDimIdx=g);var y=WC[v.type];r[m]||(r[m]=[]);var _=r[m][p];if(_&&_.length<n){for(var x=new y(Math.min(e-p*n,n)),w=0;w<_.length;w++)x[w]=_[w];r[m][p]=x}for(var b=f*n;b<e;b+=n)r[m].push(new y(Math.min(e-b,n)));this._chunkCount=r[m].length}for(var S=new Array(s),D=t;D<e;D++){S=o.getItem(D,S);for(var M=Math.floor(D/n),C=D%n,b=0;b<s;b++){var m=a[b],T=r[m][M],I=this._dimValueGetter(S,m,D,b);T[C]=I;var A=u[m];I<A[0]&&(A[0]=I),I>A[1]&&(A[1]=I)}if(!o.pure){var k=h[D];if(S&&null==k)if(null!=S.name)h[D]=k=S.name;else if(null!=i){var E=a[i],L=r[E][M];if(L){k=L[C];var O=l[E].ordinalMeta;O&&O.categories.length&&(k=O.categories[k])}}var P=null==S?null:S.id;null==P&&null!=k&&(d[k]=d[k]||0,P=k,d[k]>0&&(P+="__ec__"+d[k]),d[k]++),null!=P&&(c[D]=P)}}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=e,this._extent={},Qs(this)}},UC.count=function(){return this._count},UC.getIndices=function(){var t,e=this._indices;if(e){var i=e.constructor,n=this._count;if(i===Array){t=new i(n);for(var o=0;o<n;o++)t[o]=e[o]}else t=new i(e.buffer,0,n)}else for(var i=Zs(this),t=new i(this.count()),o=0;o<t.length;o++)t[o]=o;return t},UC.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var i=this._storage;if(!i[t])return NaN;e=this.getRawIndex(e);var n=Math.floor(e/this._chunkSize),o=e%this._chunkSize;return i[t][n][o]},UC.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var i=this._storage[t];if(!i)return NaN;var n=Math.floor(e/this._chunkSize),o=e%this._chunkSize;return i[n][o]},UC._getFast=function(t,e){var i=Math.floor(e/this._chunkSize),n=e%this._chunkSize;return this._storage[t][i][n]},UC.getValues=function(t,e){var i=[];_(t)||(e=t,t=this.dimensions);for(var n=0,o=t.length;n<o;n++)i.push(this.get(t[n],e));return i},UC.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,i=this._dimensionInfos,n=0,o=e.length;n<o;n++)if("ordinal"!==i[e[n]].type&&isNaN(this.get(e[n],t)))return!1;return!0},UC.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],i=sl();if(!e)return i;var n,o=this.count(),r=!this._indices;if(r)return this._rawExtent[t].slice();if(n=this._extent[t])return n.slice();n=i;for(var a=n[0],s=n[1],l=0;l<o;l++){var h=this._getFast(t,this.getRawIndex(l));h<a&&(a=h),h>s&&(s=h)}return n=[a,s],this._extent[t]=n,n},UC.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},UC.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},UC.getCalculationInfo=function(t){return this._calculationInfo[t]},UC.setCalculationInfo=function(t,e){HC(t)?r(this._calculationInfo,t):this._calculationInfo[t]=e},UC.getSum=function(t){var e=this._storage[t],i=0;if(e)for(var n=0,o=this.count();n<o;n++){var r=this.get(t,n);isNaN(r)||(i+=r)}return i},UC.getMedian=function(t){var e=[];this.each(t,function(t,i){isNaN(t)||e.push(t)});var i=[].concat(e).sort(function(t,e){return t-e}),n=this.count();return 0===n?0:n%2==1?i[(n-1)/2]:(i[n/2]+i[n/2-1])/2},UC.rawIndexOf=function(t,e){var i=t&&this._invertedIndicesMap[t];if(Nx&&!i)throw new Error("Do not supported yet");var n=i[e];return null==n||isNaN(n)?-1:n},UC.indexOfName=function(t){for(var e=0,i=this.count();e<i;e++)if(this.getName(e)===t)return e;return-1},UC.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var n=0,o=this._count-1;n<=o;){var r=(n+o)/2|0;if(e[r]<t)n=r+1;else{if(!(e[r]>t))return r;o=r-1}}return-1},UC.indicesOfNearest=function(t,e,i){var n=this._storage,o=n[t],r=[];if(!o)return r;null==i&&(i=1/0);for(var a=Number.MAX_VALUE,s=-1,l=0,h=this.count();l<h;l++){var c=e-this.get(t,l),u=Math.abs(c);c<=i&&u<=a&&((u<a||c>=0&&s<0)&&(a=u,s=c,r.length=0),r.push(l))}return r},UC.getRawIndex=tl,UC.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],i=0;i<this.dimensions.length;i++){var n=this.dimensions[i];e.push(this.get(n,t))}return e},UC.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||Js(this,this._nameDimIdx,e)||""},UC.getId=function(t){return il(this,this.getRawIndex(t))},UC.each=function(t,e,i,n){if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this,t=f(nl(t),this.getDimension,this),Nx&&ol(this,t);for(var o=t.length,r=0;r<this.count();r++)switch(o){case 0:e.call(i,r);break;case 1:e.call(i,this.get(t[0],r),r);break;case 2:e.call(i,this.get(t[0],r),this.get(t[1],r),r);break;default:for(var a=0,s=[];a<o;a++)s[a]=this.get(t[a],r);s[a]=r,e.apply(i,s)}}},UC.filterSelf=function(t,e,i,n){if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this,t=f(nl(t),this.getDimension,this),Nx&&ol(this,t);for(var o=this.count(),r=Zs(this),a=new r(o),s=[],l=t.length,h=0,c=t[0],u=0;u<o;u++){var d,p=this.getRawIndex(u);if(0===l)d=e.call(i,u);else if(1===l){var g=this._getFast(c,p);d=e.call(i,g,u)}else{for(var m=0;m<l;m++)s[m]=this._getFast(c,p);s[m]=u,d=e.apply(i,s)}d&&(a[h++]=p)}return h<o&&(this._indices=a),this._count=h,this._extent={},this.getRawIndex=this._indices?el:tl,this}},UC.selectRange=function(t){if(this._count){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);Nx&&ol(this,e);var n=e.length;if(n){var o=this.count(),r=Zs(this),a=new r(o),s=0,l=e[0],h=t[l][0],c=t[l][1],u=!1;if(!this._indices){var d=0;if(1===n){for(var f=this._storage[e[0]],p=0;p<this._chunkCount;p++)for(var g=f[p],m=Math.min(this._count-p*this._chunkSize,this._chunkSize),v=0;v<m;v++){var y=g[v];(y>=h&&y<=c||isNaN(y))&&(a[s++]=d),d++}u=!0}else if(2===n){for(var f=this._storage[l],_=this._storage[e[1]],x=t[e[1]][0],w=t[e[1]][1],p=0;p<this._chunkCount;p++)for(var g=f[p],b=_[p],m=Math.min(this._count-p*this._chunkSize,this._chunkSize),v=0;v<m;v++){var y=g[v],S=b[v];(y>=h&&y<=c||isNaN(y))&&(S>=x&&S<=w||isNaN(S))&&(a[s++]=d),d++}u=!0}}if(!u)if(1===n)for(var v=0;v<o;v++){var D=this.getRawIndex(v),y=this._getFast(l,D);(y>=h&&y<=c||isNaN(y))&&(a[s++]=D)}else for(var v=0;v<o;v++){for(var M=!0,D=this.getRawIndex(v),p=0;p<n;p++){var C=e[p],y=this._getFast(i,D);(y<t[C][0]||y>t[C][1])&&(M=!1)}M&&(a[s++]=this.getRawIndex(v))}return s<o&&(this._indices=a),this._count=s,this._extent={},this.getRawIndex=this._indices?el:tl,this}}},UC.mapArray=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this;var o=[];return this.each(t,function(){o.push(e&&e.apply(this,arguments))},i),o},UC.map=function(t,e,i,n){i=i||n||this,t=f(nl(t),this.getDimension,this),Nx&&ol(this,t);var o=rl(this,t);o._indices=this._indices,o.getRawIndex=o._indices?el:tl;for(var r=o._storage,a=[],s=this._chunkSize,l=t.length,h=this.count(),c=[],u=o._rawExtent,d=0;d<h;d++){for(var p=0;p<l;p++)c[p]=this.get(t[p],d);c[l]=d;var g=e&&e.apply(i,c);if(null!=g){"object"!=typeof g&&(a[0]=g,g=a);for(var m=this.getRawIndex(d),v=Math.floor(m/s),y=m%s,_=0;_<g.length;_++){var x=t[_],w=g[_],b=u[x],S=r[x];S&&(S[v][y]=w),w<b[0]&&(b[0]=w),w>b[1]&&(b[1]=w)}}}return o},UC.downSample=function(t,e,i,n){for(var o=rl(this,[t]),r=o._storage,a=[],s=Math.floor(1/e),l=r[t],h=this.count(),c=this._chunkSize,u=o._rawExtent[t],d=new(Zs(this))(h),f=0,p=0;p<h;p+=s){s>h-p&&(s=h-p,a.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(p+g),v=Math.floor(m/c),y=m%c;a[g]=l[v][y]}var _=i(a),x=this.getRawIndex(Math.min(p+n(a,_)||0,h-1)),w=Math.floor(x/c),b=x%c;l[w][b]=_,_<u[0]&&(u[0]=_),_>u[1]&&(u[1]=_),d[f++]=x}return o._count=f,o._indices=d,o.getRawIndex=el,o},UC.getItemModel=function(t){var e=this.hostModel;return new Lo(this.getRawDataItem(t),e,e&&e.ecModel)},UC.diff=function(t){var e=this;return new Gs(t?t.getIndices():[],this.getIndices(),function(e){return il(t,e)},function(t){return il(e,t)})},UC.getVisual=function(t){var e=this._visual;return e&&e[t]},UC.setVisual=function(t,e){if(HC(t))for(var i in t)t.hasOwnProperty(i)&&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},UC.setLayout=function(t,e){if(HC(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},UC.getLayout=function(t){return this._layout[t]},UC.getItemLayout=function(t){return this._itemLayouts[t]},UC.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?r(this._itemLayouts[t]||{},e):e},UC.clearItemLayouts=function(){this._itemLayouts.length=0},UC.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],o=n&&n[e];return null!=o||i?o:this.getVisual(e)},UC.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{},o=this.hasItemVisual;if(this._itemVisuals[t]=n,HC(e))for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r],o[r]=!0);else n[e]=i,o[e]=!0},UC.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var qC=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};UC.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(qC,e)),this._graphicEls[t]=e},UC.getItemGraphicEl=function(t){return this._graphicEls[t]},UC.eachItemGraphicEl=function(t,e){d(this._graphicEls,function(i,n){i&&t&&t.call(e,i,n)})},UC.cloneShallow=function(t){if(!t){var e=f(this.dimensions,this.getDimensionInfo,this);t=new YC(e,this.hostModel)}if(t._storage=this._storage,Ks(t,this),this._indices){var i=this._indices.constructor;t._indices=new i(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?el:tl,t},UC.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(k(arguments)))})},UC.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],UC.CHANGABLE_METHODS=["filterSelf","selectRange"];var ZC=function(t,e){return e=e||{},ll(e.coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})};vl.prototype.parse=function(t){return t},vl.prototype.getSetting=function(t){return this._setting[t]},vl.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},vl.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},vl.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},vl.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},vl.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},vl.prototype.getExtent=function(){return this._extent.slice()},vl.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},vl.prototype.isBlank=function(){return this._isBlank},vl.prototype.setBlank=function(t){this._isBlank=t},vl.prototype.getLabel=null,Ui(vl),Ki(vl,{registerWhenExtend:!0}),yl.createByAxisModel=function(t){var e=t.option,i=e.data,n=i&&f(i,xl);return new yl({categories:n,needCollect:!n,deduplication:!1!==e.dedplication})};var XC=yl.prototype;XC.getOrdinal=function(t){return _l(this).get(t)},XC.parseAndCollect=function(t){var e,i=this._needCollect;if("string"!=typeof t&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var n=_l(this);return e=n.get(t),null==e&&(i?(e=this.categories.length,this.categories[e]=t,n.set(t,e)):e=NaN),e};var KC=vl.prototype,QC=vl.extend({type:"ordinal",init:function(t,e){t&&!_(t)||(t=new yl({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),KC.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return KC.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(KC.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:H,niceExtent:H});QC.create=function(){return new QC};var JC=Ho,tT=Ho,eT=vl.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),eT.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=bl(t)},getTicks:function(){return Ml(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(t,e){if(null==t)return"";var i=e&&e.precision;return null==i?i=Fo(t)||0:"auto"===i&&(i=this._intervalPrecision),t=tT(t,i,!0),Jo(t)},niceTicks:function(t,e,i){t=t||5;var n=this._extent,o=n[1]-n[0];if(isFinite(o)){o<0&&(o=-o,n.reverse());var r=wl(n,t,e,i);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax?e[0]-=i/2:(e[1]+=i/2,e[0]-=i/2)}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(e[0]=tT(Math.floor(e[0]/o)*o)),t.fixMax||(e[1]=tT(Math.ceil(e[1]/o)*o))}});eT.create=function(){return new eT};var iT="__ec_stack_",nT="undefined"!=typeof Float32Array?Float32Array:Array,oT={seriesType:"bar",plan:NM(),reset:function(t){function e(t,e){for(var i,u=new nT(2*t.count),d=[],f=[],p=0;null!=(i=t.next());)f[h]=e.get(a,i),f[1-h]=e.get(s,i),d=n.dataToPoint(f,null,d),u[p++]=d[0],u[p++]=d[1];e.setLayout({largePoints:u,barWidth:c,valueAxisStart:Rl(o,r,!1),valueAxisHorizontal:l})}if(Pl(t)&&Nl(t)){var i=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),r=n.getOtherAxis(o),a=i.mapDimension(r.dim),s=i.mapDimension(o.dim),l=r.isHorizontal(),h=l?0:1,c=Ll(kl([t]),o,t).width;return c>.5||(c=.5),{progress:e}}}},rT=eT.prototype,aT=Math.ceil,sT=Math.floor,lT=function(t,e,i,n){for(;i<n;){var o=i+n>>>1;t[o][1]<e?i=o+1:n=o}return i},hT=eT.extend({type:"time",getLabel:function(t){var e=this._stepLvl,i=new Date(t);return ar(e[0],i,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;t.fixMin||(e[0]=Ho(sT(e[0]/n)*n)),t.fixMax||(e[1]=Ho(aT(e[1]/n)*n))},niceTicks:function(t,e,i){t=t||10;var n=this._extent,o=n[1]-n[0],r=o/t;null!=e&&r<e&&(r=e),null!=i&&r>i&&(r=i);var a=cT.length,s=lT(cT,r,0,a),l=cT[Math.min(s,a-1)],h=l[1];if("year"===l[0]){h*=Xo(o/h/t,!0)}var c=this.getSetting("useUTC")?0:60*new Date(+n[0]||+n[1]).getTimezoneOffset()*1e3,u=[Math.round(aT((n[0]-c)/h)*h+c),Math.round(sT((n[1]-c)/h)*h+c)];Dl(u,n),this._stepLvl=l,this._interval=h,this._niceExtent=u},parse:function(t){return+Uo(t)}});d(["contain","normalize"],function(t){hT.prototype[t]=function(e){return rT[t].call(this,this.parse(e))}});var cT=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",36288e5],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];hT.create=function(t){return new hT({useUTC:t.ecModel.get("useUTC")})};var uT=vl.prototype,dT=eT.prototype,fT=Fo,pT=Ho,gT=Math.floor,mT=Math.ceil,vT=Math.pow,yT=Math.log,_T=vl.extend({type:"log",base:10,$constructor:function(){vl.apply(this,arguments),this._originalScale=new eT},getTicks:function(){var t=this._originalScale,e=this._extent,i=t.getExtent();return f(dT.getTicks.call(this),function(n){var o=Ho(vT(this.base,n));return o=n===e[0]&&t.__fixMin?zl(o,i[0]):o,o=n===e[1]&&t.__fixMax?zl(o,i[1]):o},this)},getLabel:dT.getLabel,scale:function(t){return t=uT.scale.call(this,t),vT(this.base,t)},setExtent:function(t,e){var i=this.base;t=yT(t)/yT(i),e=yT(e)/yT(i),dT.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=uT.getExtent.call(this);e[0]=vT(t,e[0]),e[1]=vT(t,e[1]);var i=this._originalScale,n=i.getExtent();return i.__fixMin&&(e[0]=zl(e[0],n[0])),i.__fixMax&&(e[1]=zl(e[1],n[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=yT(t[0])/yT(e),t[1]=yT(t[1])/yT(e),uT.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var n=qo(i),o=t/i*n;for(o<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&Math.abs(n)>0;)n*=10;var r=[Ho(mT(e[0]/n)*n),Ho(gT(e[1]/n)*n)];this._interval=n,this._niceExtent=r}},niceExtent:function(t){dT.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});d(["contain","normalize"],function(t){_T.prototype[t]=function(e){return e=yT(e)/yT(this.base),uT[t].call(this,e)}}),_T.create=function(){return new _T};var xT={getMin:function(t){var e=this.option,i=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=i&&"dataMin"!==i&&"function"!=typeof i&&!C(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(t){var e=this.option,i=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=i&&"dataMax"!==i&&"function"!=typeof i&&!C(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:H,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},wT=$n({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,r=e.height/2;t.moveTo(i,n-r),t.lineTo(i+o,n+r),t.lineTo(i-o,n+r),t.closePath()}}),bT=$n({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,r=e.height/2;t.moveTo(i,n-r),t.lineTo(i+o,n),t.lineTo(i,n+r),t.lineTo(i-o,n),t.closePath()}}),ST=$n({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){
var i=e.x,n=e.y,o=e.width/5*3,r=Math.max(o,e.height),a=o/2,s=a*a/(r-a),l=n-r+a+s,h=Math.asin(s/a),c=Math.cos(h)*a,u=Math.sin(h),d=Math.cos(h),f=.6*a,p=.7*a;t.moveTo(i-c,l+s),t.arc(i,l,a,Math.PI-h,2*Math.PI+h),t.bezierCurveTo(i+c-u*f,l+s+d*f,i,n-p,i,n),t.bezierCurveTo(i,n-p,i-c+u*f,l+s+d*f,i-c,l+s),t.closePath()}}),DT=$n({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,o=e.x,r=e.y,a=n/3*2;t.moveTo(o,r),t.lineTo(o+a,r+i),t.lineTo(o,r+i/4*3),t.lineTo(o-a,r+i),t.lineTo(o,r),t.closePath()}}),MT={line:rD,rect:oD,roundRect:oD,square:oD,circle:ZS,diamond:bT,pin:ST,arrow:DT,triangle:wT},CT={line:function(t,e,i,n,o){o.x1=t,o.y1=e+n/2,o.x2=t+i,o.y2=e+n/2},rect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n},roundRect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n,o.r=Math.min(i,n)/4},square:function(t,e,i,n,o){var r=Math.min(i,n);o.x=t,o.y=e,o.width=r,o.height=r},circle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.r=Math.min(i,n)/2},diamond:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n},pin:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},arrow:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},triangle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n}},TT={};d(MT,function(t,e){TT[e]=new t});var IT=$n({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;"pin"===this.shape.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,i){var n=e.symbolType,o=TT[n];"none"!==e.symbolType&&(o||(n="rect",o=TT[n]),CT[n](e.x,e.y,e.width,e.height,o.shape),o.buildPath(t,o.shape,i))}}),AT={isDimensionStacked:dl,enableDataStack:ul,getStackedDimension:fl},kT=(Object.freeze||Object)({createList:Zl,getLayoutRect:cr,dataStack:AT,createScale:Xl,mixinAxisModelCommonMethods:Kl,completeDimensions:ll,createDimensions:ZC,createSymbol:ql}),ET=1e-8;th.prototype={constructor:th,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],o=[],r=[],a=this.geometries,s=0;s<a.length;s++)if("polygon"===a[s].type){var l=a[s].exterior;fn(l,o,r),rt(i,i,o),at(n,n,r)}return 0===s&&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new ie(i[0],i[1],n[0]-i[0],n[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,o=i.length;n<o;n++)if("polygon"===i[n].type){var r=i[n].exterior,a=i[n].interiors;if(Jl(r,t[0],t[1])){for(var s=0;s<(a?a.length:0);s++)if(Jl(a[s]))continue t;return!0}}return!1},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),r=o.width/o.height;i?n||(n=i/r):i=r*n;for(var a=new ie(t,e,i,n),s=o.calculateTransform(a),l=this.geometries,h=0;h<l.length;h++)if("polygon"===l[h].type){for(var c=l[h].exterior,u=l[h].interiors,d=0;d<c.length;d++)ot(c[d],c[d],s);for(var f=0;f<(u?u.length:0);f++)for(var d=0;d<u[f].length;d++)ot(u[f][d],u[f][d],s)}o=this._rect,o.copy(a),this.center=[o.x+o.width/2,o.y+o.height/2]}};var LT=function(t){return eh(t),f(g(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var e=t.properties,i=t.geometry,n=i.coordinates,o=[];"Polygon"===i.type&&o.push({type:"polygon",exterior:n[0],interiors:n.slice(1)}),"MultiPolygon"===i.type&&d(n,function(t){t[0]&&o.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});var r=new th(e.name,o,e.cp);return r.properties=e,r})},OT=Vi(),PT=[0,1],NT=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};NT.prototype={constructor:NT,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return t>=i&&t<=n},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return $o(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&"ordinal"===n.type&&(i=i.slice(),yh(i,n.count())),zo(t,PT,i,e)},coordToData:function(t,e){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&(i=i.slice(),yh(i,n.count()));var o=zo(t,i,PT,e);return this.scale.scale(o)},pointToData:function(t,e){},getTicksCoords:function(t){t=t||{};var e=t.tickModel||this.getTickModel(),i=oh(this,e),n=i.ticks,o=f(n,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this),r=e.get("alignWithLabel");return _h(this,o,i.tickCategoryInterval,r,t.clamp),o},getViewLabels:function(){return nh(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return fh(this)}};var RT=LT,zT={};d(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){zT[t]=Jx[t]}),LM.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){if(Nx){var i=t.coordinateSystem;if("polar"!==i&&"cartesian2d"!==i)throw new Error("Line not support coordinateSystem besides cartesian and polar")}return pl(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var BT=wh.prototype,HT=wh.getSymbolSize=function(t,e){var i=t.getItemVisual(e,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};BT._createSymbol=function(t,e,i,n,o){this.removeAll();var r=e.getItemVisual(i,"color"),a=ql(t,-1,-1,2,2,r,o);a.attr({z2:100,culling:!0,scale:bh(n)}),a.drift=Sh,this._symbolType=t,this.add(a)},BT.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},BT.getSymbolPath=function(){return this.childAt(0)},BT.getScale=function(){return this.childAt(0).scale},BT.highlight=function(){this.childAt(0).trigger("emphasis")},BT.downplay=function(){this.childAt(0).trigger("normal")},BT.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},BT.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},BT.updateData=function(t,e,i){this.silent=!1;var n=t.getItemVisual(e,"symbol")||"circle",o=t.hostModel,r=HT(t,e),a=n!==this._symbolType;if(a){var s=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(n,t,e,r,s)}else{var l=this.childAt(0);l.silent=!1,So(l,{scale:bh(r)},o,e)}if(this._updateCommon(t,e,r,i),a){var l=this.childAt(0),h=i&&i.fadeIn,c={scale:l.scale.slice()};h&&(c.style={opacity:l.style.opacity}),l.scale=[0,0],h&&(l.style.opacity=0),Do(l,c,o,e)}this._seriesModel=o};var VT=["itemStyle"],WT=["emphasis","itemStyle"],FT=["label"],$T=["emphasis","label"];BT._updateCommon=function(t,e,i,n){function o(e,i){return b?t.getName(e):xh(t,e)}var a=this.childAt(0),s=t.hostModel,l=t.getItemVisual(e,"color");"image"!==a.type&&a.useStyle({strokeNoScale:!0});var h=n&&n.itemStyle,c=n&&n.hoverItemStyle,u=n&&n.symbolRotate,d=n&&n.symbolOffset,f=n&&n.labelModel,p=n&&n.hoverLabelModel,g=n&&n.hoverAnimation,m=n&&n.cursorStyle;if(!n||t.hasItemOption){var v=n&&n.itemModel?n.itemModel:t.getItemModel(e);h=v.getModel(VT).getItemStyle(["color"]),c=v.getModel(WT).getItemStyle(),u=v.getShallow("symbolRotate"),d=v.getShallow("symbolOffset"),f=v.getModel(FT),p=v.getModel($T),g=v.getShallow("hoverAnimation"),m=v.getShallow("cursor")}else c=r({},c);var y=a.style;a.attr("rotation",(u||0)*Math.PI/180||0),d&&a.attr("position",[Bo(d[0],i[0]),Bo(d[1],i[1])]),m&&a.attr("cursor",m),a.setColor(l,n&&n.symbolInnerColor),a.setStyle(h);var _=t.getItemVisual(e,"opacity");null!=_&&(y.opacity=_);var x=t.getItemVisual(e,"liftZ"),w=a.__z2Origin;null!=x?null==w&&(a.__z2Origin=a.z2,a.z2+=x):null!=w&&(a.z2=w,a.__z2Origin=null);var b=n&&n.useNameLabel;uo(y,c,f,p,{labelFetcher:s,labelDataIndex:e,defaultText:o,isRectText:!0,autoColor:l}),a.off("mouseover").off("mouseout").off("emphasis").off("normal"),a.hoverStyle=c,co(a);var S=bh(i);if(g&&s.isAnimationEnabled()){var D=function(){if(!this.incremental){var t=S[1]/S[0];this.animateTo({scale:[Math.max(1.1*S[0],S[0]+3),Math.max(1.1*S[1],S[1]+3*t)]},400,"elasticOut")}},M=function(){this.incremental||this.animateTo({scale:S},400,"elasticOut")};a.on("mouseover",D).on("mouseout",M).on("emphasis",D).on("normal",M)}},BT.fadeOut=function(t,e){var i=this.childAt(0);this.silent=i.silent=!0,!(e&&e.keepLabel)&&(i.style.text=null),So(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},h(wh,Ww);var GT=Dh.prototype;GT.updateData=function(t,e){e=Ch(e);var i=this.group,n=t.hostModel,o=this._data,r=this._symbolCtor,a=Th(t);o||i.removeAll(),t.diff(o).add(function(n){var o=t.getItemLayout(n);if(Mh(t,o,n,e)){var s=new r(t,n,a);s.attr("position",o),t.setItemGraphicEl(n,s),i.add(s)}}).update(function(s,l){var h=o.getItemGraphicEl(l),c=t.getItemLayout(s);if(!Mh(t,c,s,e))return void i.remove(h);h?(h.updateData(t,s,a),So(h,{position:c},n)):(h=new r(t,s),h.attr("position",c)),i.add(h),t.setItemGraphicEl(s,h)}).remove(function(t){var e=o.getItemGraphicEl(t);e&&e.fadeOut(function(){i.remove(e)})}).execute(),this._data=t},GT.isPersistent=function(){return!0},GT.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl(function(e,i){var n=t.getItemLayout(i);e.attr("position",n)})},GT.incrementalPrepareUpdate=function(t){this._seriesScope=Th(t),this._data=null,this.group.removeAll()},GT.incrementalUpdate=function(t,e,i){function n(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}i=Ch(i);for(var o=t.start;o<t.end;o++){var r=e.getItemLayout(o);if(Mh(e,r,o,i)){var a=new this._symbolCtor(e,o,this._seriesScope);a.traverse(n),a.attr("position",r),this.group.add(a),e.setItemGraphicEl(o,a)}}},GT.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()};var jT=function(t,e,i,n,o,r,a,s){for(var l=Eh(t,e),h=[],c=[],u=[],d=[],f=[],p=[],g=[],m=Ih(o,e,a),v=Ih(r,t,s),y=0;y<l.length;y++){var _=l[y],x=!0;switch(_.cmd){case"=":var w=t.getItemLayout(_.idx),b=e.getItemLayout(_.idx1);(isNaN(w[0])||isNaN(w[1]))&&(w=b.slice()),h.push(w),c.push(b),u.push(i[_.idx]),d.push(n[_.idx1]),g.push(e.getRawIndex(_.idx1));break;case"+":var S=_.idx;h.push(o.dataToPoint([e.get(m.dataDimsForPoint[0],S),e.get(m.dataDimsForPoint[1],S)])),c.push(e.getItemLayout(S).slice()),u.push(kh(m,o,e,S)),d.push(n[S]),g.push(e.getRawIndex(S));break;case"-":var S=_.idx,D=t.getRawIndex(S);D!==S?(h.push(t.getItemLayout(S)),c.push(r.dataToPoint([t.get(v.dataDimsForPoint[0],S),t.get(v.dataDimsForPoint[1],S)])),u.push(i[S]),d.push(kh(v,r,t,S)),g.push(D)):x=!1}x&&(f.push(_),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});for(var M=[],C=[],T=[],I=[],A=[],y=0;y<p.length;y++){var S=p[y];M[y]=h[S],C[y]=c[S],T[y]=u[S],I[y]=d[S],A[y]=f[S]}return{current:M,next:C,stackedOnCurrent:T,stackedOnNext:I,status:A}},YT=rt,UT=at,qT=j,ZT=W,XT=[],KT=[],QT=[],JT=Ln.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:KS(Ln.prototype.brush),buildPath:function(t,e){var i=e.points,n=0,o=i.length,r=Rh(i,e.smoothConstraint);if(e.connectNulls){for(;o>0&&Lh(i[o-1]);o--);for(;n<o&&Lh(i[n]);n++);}for(;n<o;)n+=Oh(t,i,n,o,o,1,r.min,r.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),tI=Ln.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:KS(Ln.prototype.brush),buildPath:function(t,e){var i=e.points,n=e.stackedOnPoints,o=0,r=i.length,a=e.smoothMonotone,s=Rh(i,e.smoothConstraint),l=Rh(n,e.smoothConstraint);if(e.connectNulls){for(;r>0&&Lh(i[r-1]);r--);for(;o<r&&Lh(i[o]);o++);}for(;o<r;){var h=Oh(t,i,o,r,r,1,s.min,s.max,e.smooth,a,e.connectNulls);Oh(t,n,o+h-1,h,r,-1,l.min,l.max,e.stackedOnSmooth,a,e.connectNulls),o+=h+1,t.closePath()}}});Ia.extend({type:"line",init:function(){var t=new Ww,e=new Dh;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var n=t.coordinateSystem,o=this.group,r=t.getData(),s=t.getModel("lineStyle"),l=t.getModel("areaStyle"),h=r.mapArray(r.getItemLayout),c="polar"===n.type,u=this._coordSys,d=this._symbolDraw,f=this._polyline,p=this._polygon,g=this._lineGroup,m=t.get("animation"),v=!l.isEmpty(),y=l.get("origin"),_=Ih(n,r,y),x=Vh(n,r,_),w=t.get("showSymbol"),b=w&&!c&&Yh(t,r,n),S=this._data;S&&S.eachItemGraphicEl(function(t,e){t.__temp&&(o.remove(t),S.setItemGraphicEl(e,null))}),w||d.remove(),o.add(g);var D=!c&&t.get("step");f&&u.type===n.type&&D===this._step?(v&&!p?p=this._newPolygon(h,x,n,m):p&&!v&&(g.remove(p),p=this._polygon=null),g.setClipPath($h(n,!1,!1,t)),w&&d.updateData(r,{isIgnore:b,clipShape:$h(n,!1,!0,t)}),r.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),zh(this._stackedOnPoints,x)&&zh(this._points,h)||(m?this._updateAnimation(r,x,n,i,D,y):(D&&(h=Gh(h,n,D),x=Gh(x,n,D)),f.setShape({points:h}),p&&p.setShape({points:h,stackedOnPoints:x})))):(w&&d.updateData(r,{isIgnore:b,clipShape:$h(n,!1,!0,t)}),D&&(h=Gh(h,n,D),x=Gh(x,n,D)),f=this._newPolyline(h,n,m),v&&(p=this._newPolygon(h,x,n,m)),g.setClipPath($h(n,!0,!1,t)));var M=jh(r,n)||r.getVisual("color");f.useStyle(a(s.getLineStyle(),{fill:"none",stroke:M,lineJoin:"bevel"}));var C=t.get("smooth");if(C=Bh(t.get("smooth")),f.setShape({smooth:C,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),p){var T=r.getCalculationInfo("stackedOnSeries"),I=0;p.useStyle(a(l.getAreaStyle(),{fill:M,opacity:.7,lineJoin:"bevel"})),T&&(I=Bh(T.get("smooth"))),p.setShape({smooth:C,stackedOnSmooth:I,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=r,this._coordSys=n,this._stackedOnPoints=x,this._points=h,this._step=D,this._valueOrigin=y},dispose:function(){},highlight:function(t,e,i,n){var o=t.getData(),r=Hi(o,n);if(!(r instanceof Array)&&null!=r&&r>=0){var a=o.getItemGraphicEl(r);if(!a){var s=o.getItemLayout(r);if(!s)return;a=new wh(o,r),a.position=s,a.setZ(t.get("zlevel"),t.get("z")),a.ignore=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,o.setItemGraphicEl(r,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else Ia.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var o=t.getData(),r=Hi(o,n);if(null!=r&&r>=0){var a=o.getItemGraphicEl(r);a&&(a.__temp?(o.setItemGraphicEl(r,null),this.group.remove(a)):a.downplay())}else Ia.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new JT({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new tI({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_updateAnimation:function(t,e,i,n,o,r){var a=this._polyline,s=this._polygon,l=t.hostModel,h=jT(this._data,t,this._stackedOnPoints,e,this._coordSys,i,this._valueOrigin,r),c=h.current,u=h.stackedOnCurrent,d=h.next,f=h.stackedOnNext;o&&(c=Gh(h.current,i,o),u=Gh(h.stackedOnCurrent,i,o),d=Gh(h.next,i,o),f=Gh(h.stackedOnNext,i,o)),a.shape.__points=h.current,a.shape.points=c,So(a,{shape:{points:d}},l),s&&(s.setShape({points:c,stackedOnPoints:u}),So(s,{shape:{points:d,stackedOnPoints:f}},l));for(var p=[],g=h.status,m=0;m<g.length;m++){if("="===g[m].cmd){var v=t.getItemGraphicEl(g[m].idx1);v&&p.push({el:v,ptIdx:m})}}a.animators&&a.animators.length&&a.animators[0].during(function(){for(var t=0;t<p.length;t++){p[t].el.attr("position",a.shape.__points[p[t].ptIdx])}})},remove:function(t){var e=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,n){t.__temp&&(e.remove(t),i.setItemGraphicEl(n,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var eI=function(t,e,i){return{seriesType:t,performRawSeries:!0,reset:function(t,n,o){function r(e,i){if("function"==typeof l){var n=t.getRawValue(i),o=t.getDataParams(i);e.setItemVisual(i,"symbolSize",l(n,o))}if(e.hasItemOption){var r=e.getItemModel(i),a=r.getShallow("symbol",!0),s=r.getShallow("symbolSize",!0),h=r.getShallow("symbolKeepAspect",!0);null!=a&&e.setItemVisual(i,"symbol",a),null!=s&&e.setItemVisual(i,"symbolSize",s),null!=h&&e.setItemVisual(i,"symbolKeepAspect",h)}}var a=t.getData(),s=t.get("symbol")||e,l=t.get("symbolSize"),h=t.get("symbolKeepAspect");if(a.setVisual({legendSymbol:i||s,symbol:s,symbolSize:l,symbolKeepAspect:h}),!n.isSeriesFiltered(t)){var c="function"==typeof l;return{dataEach:a.hasItemOption||c?r:null}}}}},iI=function(t){return{seriesType:t,plan:NM(),reset:function(t){function e(t,e){for(var i=t.end-t.start,o=r&&new Float32Array(i*s),l=t.start,h=0,c=[],u=[];l<t.end;l++){var d;if(1===s){var f=e.get(a[0],l);d=!isNaN(f)&&n.dataToPoint(f,null,u)}else{var f=c[0]=e.get(a[0],l),p=c[1]=e.get(a[1],l);d=!isNaN(f)&&!isNaN(p)&&n.dataToPoint(c,null,u)}r?(o[h++]=d?d[0]:NaN,o[h++]=d?d[1]:NaN):e.setItemLayout(l,d&&d.slice()||[NaN,NaN])}r&&e.setLayout("symbolPoints",o)}var i=t.getData(),n=t.coordinateSystem,o=t.pipelineContext,r=o.large;if(n){var a=f(n.dimensions,function(t){return i.mapDimension(t)}).slice(0,2),s=a.length,l=i.getCalculationInfo("stackResultDimension");return dl(i,a[0])&&(a[0]=l),dl(i,a[1])&&(a[1]=l),s&&{progress:e}}}}},nI={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},oI=function(t,e){return Math.round(t.length/2)},rI=function(t){this._axes={},this._dimList=[],this.name=t||""};rI.prototype={constructor:rI,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return f(this._dimList,qh,this)},getAxesByScale:function(t){return t=t.toLowerCase(),g(this.getAxes(),function(e){return e.scale.type===t})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},o=0;o<i.length;o++){var r=i[o],a=this._axes[r];n[r]=a[e](t[r])}return n}},Zh.prototype={constructor:Zh,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,i){var n=this.getAxis("x"),o=this.getAxis("y");return i=i||[],i[0]=n.toGlobalCoord(n.dataToCoord(t[0])),i[1]=o.toGlobalCoord(o.dataToCoord(t[1])),i},clampData:function(t,e){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),r=n.getExtent(),a=i.parse(t[0]),s=n.parse(t[1]);return e=e||[],e[0]=Math.min(Math.max(Math.min(o[0],o[1]),a),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(r[0],r[1]),s),Math.max(r[0],r[1])),e},pointToData:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return e=e||[],e[0]=i.coordToData(i.toLocalCoord(t[0])),e[1]=n.coordToData(n.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},h(Zh,rI);var aI=function(t,e,i,n,o){NT.call(this,t,e,i),this.type=n||"value",this.position=o||"bottom"};aI.prototype={constructor:aI,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},h(aI,NT);var sI={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},lI={};lI.categoryAxis=n({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},sI),lI.valueAxis=n({boundaryGap:[0,0],splitNumber:5},sI),lI.timeAxis=a({scale:!0,min:"dataMin",max:"dataMax"},lI.valueAxis),lI.logAxis=a({scale:!0,logBase:10},lI.valueAxis);var hI=["value","category","time","log"],cI=function(t,e,i,r){d(hI,function(a){e.extend({type:t+"Axis."+a,mergeDefaultAndTheme:function(e,o){var r=this.layoutMode,s=r?pr(e):{};n(e,o.getTheme().get(a+"Axis")),n(e,this.getDefaultOption()),e.type=i(t,e),r&&fr(e,s,r)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=yl.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:o([{},lI[a+"Axis"],r],!0)})}),jD.registerSubTypeDefaulter(t+"Axis",y(i,t))},uI=jD.extend({type:"cartesian2dAxis",axis:null,init:function(){uI.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){uI.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){uI.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});n(uI.prototype,xT);var dI={offset:0};cI("x",uI,Xh,dI),cI("y",uI,Xh,dI),jD.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var fI=Qh.prototype;fI.type="grid",fI.axisPointerEnabled=!0,fI.getRect=function(){return this._rect},fI.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),d(i.x,function(t){Vl(t.scale,t.model)}),d(i.y,function(t){Vl(t.scale,t.model)}),d(i.x,function(t){Jh(i,"y",t)}),d(i.y,function(t){Jh(i,"x",t)}),this.resize(this.model,e)},fI.resize=function(t,e,i){function n(){d(r,function(t){var e=t.isHorizontal(),i=e?[0,o.width]:[0,o.height],n=t.inverse?1:0;t.setExtent(i[n],i[1-n]),ec(t,e?o.x:o.y)})}var o=cr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=o;var r=this._axesList;n(),!i&&t.get("containLabel")&&(d(r,function(t){if(!t.model.get("axisLabel.inside")){var e=jl(t);if(e){var i=t.isHorizontal()?"height":"width",n=t.model.get("axisLabel.margin");o[i]-=e[i]+n,"top"===t.position?o.y+=e.height+n:"left"===t.position&&(o.x+=e.width+n)}}}),n())},fI.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)if(i.hasOwnProperty(n))return i[n];return i[e]}},fI.getAxes=function(){return this._axesList.slice()},fI.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}b(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,o=this._coordsList;n<o.length;n++)if(o[n].getAxis("x").index===t||o[n].getAxis("y").index===e)return o[n]},fI.getCartesians=function(){return this._coordsList.slice()},fI.convertToPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},fI.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},fI._findConvertTarget=function(t,e){var i,n,o=e.seriesModel,r=e.xAxisModel||o&&o.getReferringComponents("xAxis")[0],a=e.yAxisModel||o&&o.getReferringComponents("yAxis")[0],s=e.gridModel,h=this._coordsList;if(o)i=o.coordinateSystem,l(h,i)<0&&(i=null);else if(r&&a)i=this.getCartesian(r.componentIndex,a.componentIndex);else if(r)n=this.getAxis("x",r.componentIndex);else if(a)n=this.getAxis("y",a.componentIndex);else if(s){var c=s.coordinateSystem;c===this&&(i=this._coordsList[0])}return{cartesian:i,axis:n}},fI.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},fI._initCartesian=function(t,e,i){function n(i){return function(n,s){if(Kh(n,t,e)){var l=n.get("position");"x"===i?"top"!==l&&"bottom"!==l&&(l="bottom",o[l]&&(l="top"===l?"bottom":"top")):"left"!==l&&"right"!==l&&(l="left",o[l]&&(l="left"===l?"right":"left")),o[l]=!0;var h=new aI(i,Wl(n),[0,0],n.get("type"),l),c="category"===h.type;h.onBand=c&&n.get("boundaryGap"),h.inverse=n.get("inverse"),n.axis=h,h.model=n,h.grid=this,h.index=s,this._axesList.push(h),r[i][s]=h,a[i]++}}}var o={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},a={x:0,y:0};if(e.eachComponent("xAxis",n("x"),this),e.eachComponent("yAxis",n("y"),this),!a.x||!a.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=r,d(r.x,function(e,i){d(r.y,function(n,o){var r="x"+i+"y"+o,a=new Zh(r);a.grid=this,a.model=t,this._coordsMap[r]=a,this._coordsList.push(a),a.addAxis(e),a.addAxis(n)},this)},this)},fI._updateScale=function(t,e){function i(t,e,i){d(t.mapDimension(e.dim,!0),function(i){e.scale.unionExtentFromData(t,fl(t,i))})}d(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(n){if(nc(n)){var o=ic(n,t),r=o[0],a=o[1];if(!Kh(r,e,t)||!Kh(a,e,t))return;var s=this.getCartesian(r.componentIndex,a.componentIndex),l=n.getData(),h=s.getAxis("x"),c=s.getAxis("y");"list"===l.type&&(i(l,h,n),i(l,c,n))}},this)},fI.getTooltipAxes=function(t){var e=[],i=[];return d(this.getCartesians(),function(n){var o=null!=t&&"auto"!==t?n.getAxis(t):n.getBaseAxis(),r=n.getOtherAxis(o);l(e,o)<0&&e.push(o),l(i,r)<0&&i.push(r)}),{baseAxes:e,otherAxes:i}};var pI=["xAxis","yAxis"];Qh.create=function(t,e){var i=[];return t.eachComponent("grid",function(n,o){var r=new Qh(n,t,e);r.name="grid_"+o,r.resize(n,e,!0),n.coordinateSystem=r,i.push(r)}),t.eachSeries(function(e){if(nc(e)){var i=ic(e,t),n=i[0],o=i[1],r=n.getCoordSysModel();if(Nx){if(!r)throw new Error('Grid "'+T(n.get("gridIndex"),n.get("gridId"),0)+'" not found');if(n.getCoordSysModel()!==o.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid")}var a=r.coordinateSystem;e.coordinateSystem=a.getCartesian(n.componentIndex,o.componentIndex)}}),i},Qh.dimensions=Qh.prototype.dimensions=Zh.prototype.dimensions,Fr.register("cartesian2d",Qh);var gI=Math.PI,mI=function(t,e){this.opt=e,this.axisModel=t,a(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Ww;var i=new Ww({position:e.position.slice(),rotation:e.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};mI.prototype={constructor:mI,hasBuilder:function(t){return!!vI[t]},add:function(t){vI[t].call(this)},getGroup:function(){return this.group}};var vI={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var i=this.axisModel.axis.getExtent(),n=this._transform,o=[i[0],0],a=[i[1],0];n&&(ot(o,o,n),ot(a,a,n));var s=r({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new rD(Zn({anid:"line",shape:{x1:o[0],y1:o[1],x2:a[0],y2:a[1]},style:s,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1})));var l=e.get("axisLine.symbol"),h=e.get("axisLine.symbolSize"),c=e.get("axisLine.symbolOffset")||0;if("number"==typeof c&&(c=[c,c]),null!=l){"string"==typeof l&&(l=[l,l]),"string"!=typeof h&&"number"!=typeof h||(h=[h,h]);var u=h[0],f=h[1];d([{rotate:t.rotation+Math.PI/2,offset:c[0],r:0},{rotate:t.rotation-Math.PI/2,offset:c[1],r:Math.sqrt((o[0]-a[0])*(o[0]-a[0])+(o[1]-a[1])*(o[1]-a[1]))}],function(e,i){if("none"!==l[i]&&null!=l[i]){var n=ql(l[i],-u/2,-f/2,u,f,s.stroke,!0),r=e.r+e.offset,a=[o[0]+r*Math.cos(t.rotation),o[1]-r*Math.sin(t.rotation)];n.attr({rotation:e.rotate,position:a,silent:!0}),this.group.add(n)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,i=uc(this,t,e);sc(t,dc(this,t,e),i)},axisName:function(){var t=this.opt,e=this.axisModel,i=T(t.axisName,e.get("name"));if(i){var n,o=e.get("nameLocation"),a=t.nameDirection,s=e.getModel("nameTextStyle"),l=e.get("nameGap")||0,h=this.axisModel.axis.getExtent(),c=h[0]>h[1]?-1:1,u=["start"===o?h[0]-c*l:"end"===o?h[1]+c*l:(h[0]+h[1])/2,cc(o)?t.labelOffset+a*l:0],d=e.get("nameRotate");null!=d&&(d=d*gI/180);var f;cc(o)?n=yI(t.rotation,null!=d?d:t.rotation,a):(n=rc(t,o,d||0,h),null!=(f=t.axisNameAvailableWidth)&&(f=Math.abs(f/Math.sin(n.rotation)),!isFinite(f)&&(f=null)));var p=s.getFont(),g=e.get("nameTruncate",!0)||{},m=g.ellipsis,v=T(t.nameTruncateMaxWidth,g.maxWidth,f),y=null!=m&&null!=v?RD(i,v,p,m,{minChar:2,placeholder:g.placeholder}):i,_=e.get("tooltip",!0),x=e.mainType,w={componentType:x,name:i,$vars:["name"]};w[x+"Index"]=e.componentIndex;var b=new qS({anid:"name",__fullText:i,__truncatedText:y,position:u,rotation:n.rotation,silent:ac(e),z2:1,tooltip:_&&_.show?r({content:i,formatter:function(){return i},formatterParams:w},_):null});fo(b.style,s,{text:y,textFont:p,textFill:s.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:n.textAlign,textVerticalAlign:n.textVerticalAlign}),e.get("triggerEvent")&&(b.eventData=oc(e),b.eventData.targetType="axisName",b.eventData.name=i),this._dumbGroup.add(b),b.updateTransform(),this.group.add(b),b.decomposeTransform()}}},yI=mI.innerTextLayout=function(t,e,i){var n,o,r=jo(e-t);return Yo(r)?(o=i>0?"top":"bottom",n="center"):Yo(r-gI)?(o=i>0?"bottom":"top",n="center"):(o="middle",n=r>0&&r<gI?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:n,textVerticalAlign:o}},_I=d,xI=y,wI=zs({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,i,n){this.axisPointerClass&&_c(t),wI.superApply(this,"render",arguments),Dc(this,t,e,i,n,!0)},updateAxisPointer:function(t,e,i,n,o){Dc(this,t,e,i,n,!1)},remove:function(t,e){var i=this._axisPointer;i&&i.remove(e),wI.superApply(this,"remove",arguments)},dispose:function(t,e){Mc(this,e),wI.superApply(this,"dispose",arguments)}}),bI=[];wI.registerAxisPointerClass=function(t,e){if(Nx&&bI[t])throw new Error("axisPointer "+t+" exists");bI[t]=e},wI.getAxisPointerClass=function(t){return t&&bI[t]};var SI=["axisLine","axisTickLabel","axisName"],DI=["splitArea","splitLine"],MI=wI.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,i,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Ww,this.group.add(this._axisGroup),t.get("show")){var r=t.getCoordSysModel(),a=Cc(r,t),s=new mI(t,a);d(SI,s.add,s),this._axisGroup.add(s.getGroup()),d(DI,function(e){t.get(e+".show")&&this["_"+e](t,r)},this),Io(o,this._axisGroup,t),MI.superCall(this,"render",t,e,i,n)}},remove:function(){this._splitAreaColors=null},_splitLine:function(t,e){var i=t.axis
;if(!i.scale.isBlank()){var n=t.getModel("splitLine"),o=n.getModel("lineStyle"),r=o.get("color");r=_(r)?r:[r];for(var s=e.coordinateSystem.getRect(),l=i.isHorizontal(),h=0,c=i.getTicksCoords({tickModel:n}),u=[],d=[],f=o.getLineStyle(),p=0;p<c.length;p++){var g=i.toGlobalCoord(c[p].coord);l?(u[0]=g,u[1]=s.y,d[0]=g,d[1]=s.y+s.height):(u[0]=s.x,u[1]=g,d[0]=s.x+s.width,d[1]=g);var m=h++%r.length,v=c[p].tickValue;this._axisGroup.add(new rD(Zn({anid:null!=v?"line_"+c[p].tickValue:null,shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:a({stroke:r[m]},f),silent:!0})))}}},_splitArea:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitArea"),o=n.getModel("areaStyle"),r=o.get("color"),s=e.coordinateSystem.getRect(),l=i.getTicksCoords({tickModel:n,clamp:!0});if(l.length){var h=r.length,c=this._splitAreaColors,u=z(),d=0;if(c)for(var f=0;f<l.length;f++){var p=c.get(l[f].tickValue);if(null!=p){d=(p+(h-1)*f)%h;break}}var g=i.toGlobalCoord(l[0].coord),m=o.getAreaStyle();r=_(r)?r:[r];for(var f=1;f<l.length;f++){var v,y,x,w,b=i.toGlobalCoord(l[f].coord);i.isHorizontal()?(v=g,y=s.y,x=b-v,w=s.height,g=v+x):(v=s.x,y=g,x=s.width,w=b-y,g=y+w);var S=l[f-1].tickValue;null!=S&&u.set(S,d),this._axisGroup.add(new oD({anid:null!=S?"area_"+S:null,shape:{x:v,y:y,width:x,height:w},style:a({fill:r[d]},m),silent:!0})),d=(d+1)%h}this._splitAreaColors=u}}}});MI.extend({type:"xAxis"}),MI.extend({type:"yAxis"}),zs({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new oD({shape:t.coordinateSystem.getRect(),style:a({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),Cs(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}),Os(eI("line","circle","line")),Ls(iI("line")),Ts(gC.PROCESSOR.STATISTIC,function(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t,e,i){var n=t.getData(),o=t.get("sampling"),r=t.coordinateSystem;if("cartesian2d"===r.type&&o){var a=r.getBaseAxis(),s=r.getOtherAxis(a),l=a.getExtent(),h=l[1]-l[0],c=Math.round(n.count()/h);if(c>1){var u;"string"==typeof o?u=nI[o]:"function"==typeof o&&(u=o),u&&t.setData(n.downSample(n.mapDimension(s.dim),1/c,u,oI))}}}}}("line"));var CI=LM.extend({type:"series.__base_bar__",getInitialData:function(t,e){return pl(this.getSource(),this)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(e.clampData(t)),n=this.getData(),o=n.getLayout("offset"),r=n.getLayout("size");return i[e.getBaseAxis().isHorizontal()?0:1]+=o+r/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:5e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});CI.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t}});var TI=Fb([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),II={getBarItemStyle:function(t){var e=TI(this,t);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(e.lineDash=i)}return e}},AI=["itemStyle","barBorderWidth"];r(Lo.prototype,II),Hs({type:"bar",render:function(t,e,i){this._updateDrawMode(t);var n=t.get("coordinateSystem");return"cartesian2d"===n||"polar"===n?this._isLargeDraw?this._renderLarge(t,e,i):this._renderNormal(t,e,i):Nx&&console.warn("Only cartesian2d and polar supported for bar."),this.group},incrementalPrepareRender:function(t,e,i){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,i,n){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t,e,i){var n,o=this.group,r=t.getData(),a=this._data,s=t.coordinateSystem,l=s.getBaseAxis();"cartesian2d"===s.type?n=l.isHorizontal():"polar"===s.type&&(n="angle"===l.dim);var h=t.isAnimationEnabled()?t:null;r.diff(a).add(function(e){if(r.hasValue(e)){var i=r.getItemModel(e),a=EI[s.type](r,e,i),l=kI[s.type](r,e,i,a,n,h);r.setItemGraphicEl(e,l),o.add(l),Ec(l,r,e,i,a,t,n,"polar"===s.type)}}).update(function(e,i){var l=a.getItemGraphicEl(i);if(!r.hasValue(e))return void o.remove(l);var c=r.getItemModel(e),u=EI[s.type](r,e,c);l?So(l,{shape:u},h,e):l=kI[s.type](r,e,c,u,n,h,!0),r.setItemGraphicEl(e,l),o.add(l),Ec(l,r,e,c,u,t,n,"polar"===s.type)}).remove(function(t){var e=a.getItemGraphicEl(t);"cartesian2d"===s.type?e&&Ac(t,h,e):e&&kc(t,h,e)}).execute(),this._data=r},_renderLarge:function(t,e,i){this._clear(),Oc(t,this.group)},_incrementalRenderLarge:function(t,e){Oc(e,this.group,!0)},dispose:H,remove:function(t){this._clear(t)},_clear:function(t){var e=this.group,i=this._data;t&&t.get("animation")&&i&&!this._isLargeDraw?i.eachItemGraphicEl(function(e){"sector"===e.type?kc(e.dataIndex,t,e):Ac(e.dataIndex,t,e)}):e.removeAll(),this._data=null}});var kI={cartesian2d:function(t,e,i,n,o,a,s){var l=new oD({shape:r({},n)});if(a){var h=l.shape,c=o?"height":"width",u={};h[c]=0,u[c]=n[c],_D[s?"updateProps":"initProps"](l,{shape:u},a,e)}return l},polar:function(t,e,i,n,o,r,s){var l=n.startAngle<n.endAngle,h=new QS({shape:a({clockwise:l},n)});if(r){var c=h.shape,u=o?"r":"endAngle",d={};c[u]=o?0:n.startAngle,d[u]=n[u],_D[s?"updateProps":"initProps"](h,{shape:d},r,e)}return h}},EI={cartesian2d:function(t,e,i){var n=t.getItemLayout(e),o=Lc(i,n),r=n.width>0?1:-1,a=n.height>0?1:-1;return{x:n.x+r*o/2,y:n.y+a*o/2,width:n.width-r*o,height:n.height-a*o}},polar:function(t,e,i){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}},LI=Ln.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var i=e.points,n=this.__startPoint,o=this.__valueIdx,r=0;r<i.length;r+=2)n[this.__valueIdx]=i[r+o],t.moveTo(n[0],n[1]),t.lineTo(i[r],i[r+1])}});Ls(y(Ol,"bar")),Ls(oT),Os({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}});var OI=function(t,e,i){e=_(e)&&{coordDimensions:e}||r({},e);var n=t.getSource(),o=ZC(n,e),a=new YC(o,t);return a.initData(n,i),a},PI={updateSelectedMap:function(t){this._targetList=_(t)?t.slice():[],this._selectTargetMap=p(t||[],function(t,e){return t.set(e.name,e),t},z())},select:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),i&&(i.selected=!0)},unSelect:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);i&&(i.selected=!1)},toggleSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=i)return this[i.selected?"unSelect":"select"](t,e),i.selected},isSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return i&&i.selected}},NI=Bs({type:"series.pie",init:function(t){NI.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){NI.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return OI(this,["value"])},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),i=[],n=0,o=t.count();n<o;n++)i.push({name:t.getName(n),value:t.get(e,n),selected:ga(t,n,"selected")});return i},getDataParams:function(t){var e=this.getData(),i=NI.superCall(this,"getDataParams",t),n=[];return e.each(e.mapDimension("value"),function(t){n.push(t)}),i.percent=Go(n,t,e.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(t){Ei(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});c(NI,PI);var RI=zc.prototype;RI.updateData=function(t,e,i){function n(){s.stopAnimation(!0),s.animateTo({shape:{r:c.r+l.get("hoverOffset")}},300,"elasticOut")}function o(){s.stopAnimation(!0),s.animateTo({shape:{r:c.r}},300,"elasticOut")}var s=this.childAt(0),l=t.hostModel,h=t.getItemModel(e),c=t.getItemLayout(e),u=r({},c);if(u.label=null,i){s.setShape(u);"scale"===l.getShallow("animationType")?(s.shape.r=c.r0,Do(s,{shape:{r:c.r}},l,e)):(s.shape.endAngle=c.startAngle,So(s,{shape:{endAngle:c.endAngle}},l,e))}else So(s,{shape:u},l,e);var d=t.getItemVisual(e,"color");s.useStyle(a({lineJoin:"bevel",fill:d},h.getModel("itemStyle").getItemStyle())),s.hoverStyle=h.getModel("emphasis.itemStyle").getItemStyle();var f=h.getShallow("cursor");f&&s.attr("cursor",f),Rc(this,t.getItemLayout(e),l.isSelected(null,e),l.get("selectedOffset"),l.get("animation")),s.off("mouseover").off("mouseout").off("emphasis").off("normal"),h.get("hoverAnimation")&&l.isAnimationEnabled()&&s.on("mouseover",n).on("mouseout",o).on("emphasis",n).on("normal",o),this._updateLabel(t,e),co(this)},RI._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),o=t.hostModel,r=t.getItemModel(e),a=t.getItemLayout(e),s=a.label,l=t.getItemVisual(e,"color");So(i,{shape:{points:s.linePoints||[[s.x,s.y],[s.x,s.y],[s.x,s.y]]}},o,e),So(n,{style:{x:s.x,y:s.y}},o,e),n.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var h=r.getModel("label"),c=r.getModel("emphasis.label"),u=r.getModel("labelLine"),d=r.getModel("emphasis.labelLine"),l=t.getItemVisual(e,"color");uo(n.style,n.hoverStyle={},h,c,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!c.get("show"),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!d.get("show"),i.setStyle({stroke:l,opacity:t.getItemVisual(e,"opacity")}),i.setStyle(u.getModel("lineStyle").getLineStyle()),i.hoverStyle=d.getModel("lineStyle").getLineStyle();var f=u.get("smooth");f&&!0===f&&(f=.4),i.setShape({smooth:f})},h(zc,Ww);var zI=(Ia.extend({type:"pie",init:function(){var t=new Ww;this._sectorGroup=t},render:function(t,e,i,n){if(!n||n.from!==this.uid){var o=t.getData(),r=this._data,a=this.group,s=e.get("animation"),l=!r,h=t.get("animationType"),c=y(Nc,this.uid,t,s,i),u=t.get("selectedMode");if(o.diff(r).add(function(t){var e=new zc(o,t);l&&"scale"!==h&&e.eachChild(function(t){t.stopAnimation(!0)}),u&&e.on("click",c),o.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){var i=r.getItemGraphicEl(e);i.updateData(o,t),i.off("click"),u&&i.on("click",c),a.add(i),o.setItemGraphicEl(t,i)}).remove(function(t){var e=r.getItemGraphicEl(t);a.remove(e)}).execute(),s&&l&&o.count()>0&&"scale"!==h){var d=o.getItemLayout(0),f=Math.max(i.getWidth(),i.getHeight())/2,p=v(a.removeClipPath,a);a.setClipPath(this._createClipPath(d.cx,d.cy,f,d.startAngle,d.clockwise,p,t))}this._data=o}},dispose:function(){},_createClipPath:function(t,e,i,n,o,r,a){var s=new QS({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:o}});return Do(s,{shape:{endAngle:n+(o?1:-1)*Math.PI*2}},a,r),s},containPoint:function(t,e){var i=e.getData(),n=i.getItemLayout(0);if(n){var o=t[0]-n.cx,r=t[1]-n.cy,a=Math.sqrt(o*o+r*r);return a<=n.r&&a>=n.r0}}}),function(t,e){d(e,function(e){e.update="updateView",As(e,function(i,n){var o={};return n.eachComponent({mainType:"series",subType:t,query:i},function(t){t[e.method]&&t[e.method](i.name,i.dataIndex);var n=t.getData();n.each(function(e){var i=n.getName(e);o[i]=t.isSelected(i)||!1})}),{name:i.name,selected:o}})})}),BI=function(t){return{getTargetSeries:function(e){var i={},n=z();return e.eachSeriesByType(t,function(t){t.__paletteScope=i,n.set(t.uid,t)}),n},reset:function(t,e){var i=t.getRawData(),n={},o=t.getData();o.each(function(t){var e=o.getRawIndex(t);n[e]=t}),i.each(function(e){var r=n[e],a=null!=r&&o.getItemVisual(r,"color",!0);if(a)i.setItemVisual(e,"color",a);else{var s=i.getItemModel(e),l=s.get("itemStyle.color")||t.getColorFromPalette(i.getName(e)||e+"",t.__paletteScope,i.count());i.setItemVisual(e,"color",l),null!=r&&o.setItemVisual(r,"color",l)}})}}},HI=function(t,e,i,n){var o,r,a=t.getData(),s=[],l=!1;a.each(function(i){var n,h,c,u,d=a.getItemLayout(i),f=a.getItemModel(i),p=f.getModel("label"),g=p.get("position")||f.get("emphasis.label.position"),m=f.getModel("labelLine"),v=m.get("length"),y=m.get("length2"),_=(d.startAngle+d.endAngle)/2,x=Math.cos(_),w=Math.sin(_);o=d.cx,r=d.cy;var b="inside"===g||"inner"===g;if("center"===g)n=d.cx,h=d.cy,u="center";else{var S=(b?(d.r+d.r0)/2*x:d.r*x)+o,D=(b?(d.r+d.r0)/2*w:d.r*w)+r;if(n=S+3*x,h=D+3*w,!b){var M=S+x*(v+e-d.r),C=D+w*(v+e-d.r),T=M+(x<0?-1:1)*y,I=C;n=T+(x<0?-5:5),h=I,c=[[S,D],[M,C],[T,I]]}u=b?"center":x>0?"left":"right"}var A=p.getFont(),k=p.get("rotate")?x<0?-_+Math.PI:-_:0,E=t.getFormattedLabel(i,"normal")||a.getName(i),L=we(E,A,u,"top");l=!!k,d.label={x:n,y:h,position:g,height:L.height,len:v,len2:y,linePoints:c,textAlign:u,verticalAlign:"middle",rotation:k,inside:b},b||s.push(d.label)}),!l&&t.get("avoidLabelOverlap")&&Hc(s,o,r,e,i,n)},VI=2*Math.PI,WI=Math.PI/180,FI=function(t,e,i,n){e.eachSeriesByType(t,function(t){var e=t.getData(),n=e.mapDimension("value"),o=t.get("center"),r=t.get("radius");_(r)||(r=[0,r]),_(o)||(o=[o,o]);var a=i.getWidth(),s=i.getHeight(),l=Math.min(a,s),h=Bo(o[0],a),c=Bo(o[1],s),u=Bo(r[0],l/2),d=Bo(r[1],l/2),f=-t.get("startAngle")*WI,p=t.get("minAngle")*WI,g=0;e.each(n,function(t){!isNaN(t)&&g++});var m=e.getSum(n),v=Math.PI/(m||g)*2,y=t.get("clockwise"),x=t.get("roseType"),w=t.get("stillShowZeroSum"),b=e.getDataExtent(n);b[0]=0;var S=VI,D=0,M=f,C=y?1:-1;if(e.each(n,function(t,i){var n;if(isNaN(t))return void e.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:h,cy:c,r0:u,r:x?NaN:d});n="area"!==x?0===m&&w?v:t*v:VI/g,n<p?(n=p,S-=p):D+=t;var o=M+C*n;e.setItemLayout(i,{angle:n,startAngle:M,endAngle:o,clockwise:y,cx:h,cy:c,r0:u,r:x?zo(t,b,[u,d]):d}),M=o}),S<VI&&g)if(S<=.001){var T=VI/g;e.each(n,function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i);n.angle=T,n.startAngle=f+C*i*T,n.endAngle=f+C*(i+1)*T}})}else v=S/D,M=f,e.each(n,function(t,i){if(!isNaN(t)){var n=e.getItemLayout(i),o=n.angle===p?p:t*v;n.startAngle=M,n.endAngle=M+C*o,M+=C*o}});HI(t,d,a,s)})},$I=function(t){return{seriesType:t,reset:function(t,e){var i=e.findComponents({mainType:"legend"});if(i&&i.length){var n=t.getData();n.filterSelf(function(t){for(var e=n.getName(t),o=0;o<i.length;o++)if(!i[o].isSelected(e))return!1;return!0})}}}};zI("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),Os(BI("pie")),Ls(y(FI,"pie")),Ts($I("pie")),LM.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(t,e){return pl(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}});var GI=$n({shape:{points:null},symbolProxy:null,buildPath:function(t,e){var i=e.points,n=e.size,o=this.symbolProxy,r=o.shape;if(!((t.getContext?t.getContext():t)&&n[0]<4))for(var a=0;a<i.length;){var s=i[a++],l=i[a++];isNaN(s)||isNaN(l)||(r.x=s-n[0]/2,r.y=l-n[1]/2,r.width=n[0],r.height=n[1],o.buildPath(t,r,!0))}},afterBrush:function(t){var e=this.shape,i=e.points,n=e.size;if(n[0]<4){this.setTransform(t);for(var o=0;o<i.length;){var r=i[o++],a=i[o++];isNaN(r)||isNaN(a)||t.fillRect(r-n[0]/2,a-n[1]/2,n[0],n[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var i=this.shape,n=i.points,o=i.size,r=Math.max(o[0],4),a=Math.max(o[1],4),s=n.length/2-1;s>=0;s--){var l=2*s,h=n[l]-r/2,c=n[l+1]-a/2;if(t>=h&&e>=c&&t<=h+r&&e<=c+a)return s}return-1}}),jI=Vc.prototype;jI.isPersistent=function(){return!this._incremental},jI.updateData=function(t){this.group.removeAll();var e=new GI({rectHover:!0,cursor:"default"});e.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},jI.updateLayout=function(t){if(!this._incremental){var e=t.getLayout("symbolPoints");this.group.eachChild(function(t){if(null!=t.startIndex){var i=2*(t.endIndex-t.startIndex),n=4*t.startIndex*2;e=new Float32Array(e.buffer,n,i)}t.setShape("points",e)})}},jI.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>2e6?(this._incremental||(this._incremental=new Fn({silent:!0})),this.group.add(this._incremental)):this._incremental=null},jI.incrementalUpdate=function(t,e){var i;this._incremental?(i=new GI,this._incremental.addDisplayable(i,!0)):(i=new GI({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end}),i.incremental=!0,this.group.add(i)),i.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(i,e,!!this._incremental)},jI._setCommon=function(t,e,i){var n=e.hostModel,o=e.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.symbolProxy=ql(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var r=t.shape.size[0]<4;t.useStyle(n.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"]));var a=e.getVisual("color");a&&t.setColor(a),i||(t.seriesIndex=n.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var i=t.findDataIndex(e.offsetX,e.offsetY);i>=0&&(t.dataIndex=i+(t.startIndex||0))}))},jI.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},jI._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},Hs({type:"scatter",render:function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).updateData(n),this._finished=!0},incrementalPrepareRender:function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).incrementalPrepareUpdate(n),this._finished=!1},incrementalRender:function(t,e,i){this._symbolDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var n=t.getData();if(this.group.dirty(),!this._finished||n.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var o=iI().reset(t);o.progress&&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateSymbolDraw:function(t,e){var i=this._symbolDraw,n=e.pipelineContext,o=n.large;return i&&o===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=o?new Vc:new Dh,this._isLargeDraw=o,this.group.removeAll()),this.group.add(i.group),i},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),Os(eI("scatter","circle")),Ls(iI("scatter")),h(Wc,NT),Fc.prototype.getIndicatorAxes=function(){return this._indicatorAxes},Fc.prototype.dataToPoint=function(t,e){var i=this._indicatorAxes[e];return this.coordToPoint(i.dataToCoord(t),e)},Fc.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e],n=i.angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},Fc.prototype.pointToData=function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var o,r=Math.atan2(-i,e),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var h=this._indicatorAxes[l],c=Math.abs(r-h.angle);c<a&&(o=h,s=l,a=c)}return[s,+(o&&o.coodToData(n))]},Fc.prototype.resize=function(t,e){var i=t.get("center"),n=e.getWidth(),o=e.getHeight(),r=Math.min(n,o)/2;this.cx=Bo(i[0],n),this.cy=Bo(i[1],o),this.startAngle=t.get("startAngle")*Math.PI/180,this.r=Bo(t.get("radius"),r),d(this._indicatorAxes,function(t,e){t.setExtent(0,this.r);var i=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i)),t.angle=i},this)},Fc.prototype.update=function(t,e){function i(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),i=t/e;return 2===i?i=5:i*=2,i*e}var n=this._indicatorAxes,o=this._model;d(n,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(e,i){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===o){var r=e.getData();d(n,function(t){t.scale.unionExtentFromData(r,r.mapDimension(t.dim))})}},this);var r=o.get("splitNumber");d(n,function(t,e){var n=Bl(t.scale,t.model);Vl(t.scale,t.model);var o=t.model,a=t.scale,s=o.getMin(),l=o.getMax(),h=a.getInterval();if(null!=s&&null!=l)a.setExtent(+s,+l),a.setInterval((l-s)/r);else if(null!=s){var c;do{c=s+h*r,a.setExtent(+s,c),a.setInterval(h),h=i(h)}while(c<n[1]&&isFinite(c)&&isFinite(n[1]))}else if(null!=l){var u;do{u=l-h*r,a.setExtent(u,+l),a.setInterval(h),h=i(h)}while(u>n[0]&&isFinite(u)&&isFinite(n[0]))}else{var d=a.getTicks().length-1;d>r&&(h=i(h));var f=Math.round((n[0]+n[1])/2/h)*h,p=Math.round(r/2);a.setExtent(Ho(f-p*h),Ho(f+(r-p)*h)),a.setInterval(h)}})},Fc.dimensions=[],Fc.create=function(t,e){var i=[];return t.eachComponent("radar",function(n){var o=new Fc(n,t,e);i.push(o),n.coordinateSystem=o}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])}),i},Fr.register("radar",Fc);var YI=lI.valueAxis,UI=(Rs({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),o=this.get("scale"),s=this.get("axisLine"),l=this.get("axisTick"),h=this.get("axisLabel"),c=this.get("name"),u=this.get("name.show"),d=this.get("name.formatter"),p=this.get("nameGap"),g=this.get("triggerEvent"),m=f(this.get("indicator")||[],function(f){null!=f.max&&f.max>0&&!f.min?f.min=0:null!=f.min&&f.min<0&&!f.max&&(f.max=0);var m=c;if(null!=f.color&&(m=a({color:f.color},c)),f=n(i(f),{boundaryGap:t,splitNumber:e,scale:o,axisLine:s,axisTick:l,axisLabel:h,name:f.text,nameLocation:"end",nameGap:p,nameTextStyle:m,triggerEvent:g},!1),u||(f.name=""),"string"==typeof d){var v=f.name;f.name=d.replace("{value}",null!=v?v:"")}else"function"==typeof d&&(f.name=d(f.name,f));var y=r(new Lo(f,null,this.ecModel),xT);return y.mainType="radar",y.componentIndex=this.componentIndex,y},this);this.getIndicatorModels=function(){return m}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:n({lineStyle:{color:"#bbb"}},YI.axisLine),axisLabel:$c(YI.axisLabel,!1),axisTick:$c(YI.axisTick,!1),splitLine:$c(YI.splitLine,!0),splitArea:$c(YI.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]);zs({type:"radar",render:function(t,e,i){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem;d(f(e.getIndicatorAxes(),function(t){return new mI(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(t){d(UI,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,i){var n=i%e.length;return t[n]=t[n]||[],n}var i=t.coordinateSystem,n=i.getIndicatorAxes();if(n.length){var o=t.get("shape"),r=t.getModel("splitLine"),s=t.getModel("splitArea"),l=r.getModel("lineStyle"),h=s.getModel("areaStyle"),c=r.get("show"),u=s.get("show"),p=l.get("color"),g=h.get("color");p=_(p)?p:[p],g=_(g)?g:[g];var m=[],v=[];if("circle"===o)for(var y=n[0].getTicksCoords(),x=i.cx,w=i.cy,b=0;b<y.length;b++){if(c){var S=e(m,p,b);m[S].push(new ZS({shape:{cx:x,cy:w,r:y[b].coord}}))}if(u&&b<y.length-1){var S=e(v,g,b);v[S].push(new JS({shape:{cx:x,cy:w,r0:y[b].coord,r:y[b+1].coord}}))}}else for(var D,M=f(n,function(t,e){var n=t.getTicksCoords();return D=null==D?n.length-1:Math.min(n.length-1,D),f(n,function(t){return i.coordToPoint(t.coord,e)})}),C=[],b=0;b<=D;b++){for(var T=[],I=0;I<n.length;I++)T.push(M[I][b]);if(T[0]?T.push(T[0].slice()):Nx&&console.error("Can't draw value axis "+b),c){var S=e(m,p,b);m[S].push(new nD({shape:{points:T}}))}if(u&&C){var S=e(v,g,b-1);v[S].push(new iD({shape:{points:T.concat(C)}}))}C=T.slice().reverse()}var A=l.getLineStyle(),k=h.getAreaStyle();d(v,function(t,e){this.group.add(yD(t,{style:a({stroke:"none",fill:g[e%g.length]},k),silent:!0}))},this),d(m,function(t,e){this.group.add(yD(t,{style:a({fill:"none",stroke:p[e%p.length]},A),silent:!0}))},this)}}});var qI=LM.extend({type:"series.radar",dependencies:["radar"],init:function(t){qI.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(t,e){return OI(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(t){var e=this.getData(),i=this.coordinateSystem,n=i.getIndicatorAxes(),o=this.getData().getName(t);return er(""===o?this.name:o)+"<br/>"+f(n,function(i,n){var o=e.get(e.mapDimension(i.dim),t);return er(i.name+" : "+o)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});Hs({type:"radar",render:function(t,e,n){function o(t,e){var i=t.getItemVisual(e,"symbol")||"circle",n=t.getItemVisual(e,"color");if("none"!==i){var o=Gc(t.getItemVisual(e,"symbolSize")),r=ql(i,-1,-1,2,2,n);return r.attr({style:{strokeNoScale:!0},z2:100,scale:[o[0]/2,o[1]/2]}),r}}function r(e,i,n,r,a,s){n.removeAll();for(var l=0;l<i.length-1;l++){var h=o(r,a);h&&(h.__dimIdx=l,e[l]?(h.attr("position",e[l]),_D[s?"initProps":"updateProps"](h,{position:i[l]},t,a)):h.attr("position",i[l]),n.add(h))}}function s(t){return f(t,function(t){return[l.cx,l.cy]})}var l=t.coordinateSystem,h=this.group,c=t.getData(),u=this._data;c.diff(u).add(function(e){var i=c.getItemLayout(e);if(i){var n=new iD,o=new nD,a={shape:{points:i}};n.shape.points=s(i),o.shape.points=s(i),Do(n,a,t,e),Do(o,a,t,e);var l=new Ww,h=new Ww;l.add(o),l.add(n),l.add(h),r(o.shape.points,i,h,c,e,!0),c.setItemGraphicEl(e,l)}}).update(function(e,i){var n=u.getItemGraphicEl(i),o=n.childAt(0),a=n.childAt(1),s=n.childAt(2),l={shape:{points:c.getItemLayout(e)}};l.shape.points&&(r(o.shape.points,l.shape.points,s,c,e,!1),So(o,l,t),So(a,l,t),c.setItemGraphicEl(e,n))}).remove(function(t){h.remove(u.getItemGraphicEl(t))}).execute(),c.eachItemGraphicEl(function(t,e){function n(){l.attr("ignore",m)}function o(){l.attr("ignore",g)}var r=c.getItemModel(e),s=t.childAt(0),l=t.childAt(1),u=t.childAt(2),d=c.getItemVisual(e,"color");h.add(t),s.useStyle(a(r.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:d})),s.hoverStyle=r.getModel("emphasis.lineStyle").getLineStyle();var f=r.getModel("areaStyle"),p=r.getModel("emphasis.areaStyle"),g=f.isEmpty()&&f.parentModel.isEmpty(),m=p.isEmpty()&&p.parentModel.isEmpty();m=m&&g,l.ignore=g,l.useStyle(a(f.getAreaStyle(),{fill:d,opacity:.7})),l.hoverStyle=p.getAreaStyle();var v=r.getModel("itemStyle").getItemStyle(["color"]),y=r.getModel("emphasis.itemStyle").getItemStyle(),_=r.getModel("label"),x=r.getModel("emphasis.label");u.eachChild(function(t){t.setStyle(v),t.hoverStyle=i(y),uo(t.style,t.hoverStyle,_,x,{labelFetcher:c.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:c.get(c.dimensions[t.__dimIdx],e),autoColor:d,isRectText:!0})}),t.off("mouseover").off("mouseout").off("normal").off("emphasis"),t.on("emphasis",n).on("mouseover",n).on("normal",o).on("mouseout",o),co(t)}),this._data=c},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}});var ZI=function(t){t.eachSeriesByType("radar",function(t){function e(t,e){n[e]=n[e]||[],n[e][a]=o.dataToPoint(t,a)}var i=t.getData(),n=[],o=t.coordinateSystem;if(o){for(var r=o.getIndicatorAxes(),a=0;a<r.length;a++)i.each(i.mapDimension(r[a].dim),e);i.each(function(t){n[t][0]&&n[t].push(n[t][0].slice()),i.setItemLayout(t,n[t])})}})},XI=function(t){var e=t.polar;if(e){_(e)||(e=[e]);var i=[];d(e,function(e,n){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],_(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):i.push(e)}),t.polar=i}d(t.series,function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})};Os(BI("radar")),Os(eI("radar","circle")),Ls(ZI),Ts($I("radar")),Cs(XI);var KI=ot;c(jc,gw),Yc.prototype={constructor:Yc,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,i,n){return this._rect=new ie(t,e,i,n),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,i,n){this.transformTo(t,e,i,n),this._viewRect=new ie(t,e,i,n)},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),r=this._rawTransformable;r.transform=o.calculateTransform(new ie(t,e,i,n)),r.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,i=this.getDefaultCenter(),n=this.getCenter(),o=this.getZoom();n=ot([],n,t),i=ot([],i,t),e.origin=n,e.position=[i[0]-n[0],i[1]-n[1]],e.scale=[o,o],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;e.parent=t,t.updateTransform(),e.updateTransform(),pt(this.transform||(this.transform=[]),e.transform||dt()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],_t(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,i){var n=e?this._rawTransform:this.transform;return i=i||[],n?KI(i,t,n):W(i,t)},pointToData:function(t){var e=this.invTransform;return e?KI([],t,e):[t[0],t[1]]},convertToPixel:y(Uc,"dataToPoint"),convertFromPixel:y(Uc,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},c(Yc,gw);for(var QI=[126,25],JI=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],tA=0;tA<JI.length;tA++)for(var eA=0;eA<JI[tA].length;eA++)JI[tA][eA][0]/=10.5,JI[tA][eA][1]/=-14,JI[tA][eA][0]+=QI[0],JI[tA][eA][1]+=QI[1];var iA=function(t){"china"===t.map&&t.regions.push(new th("南海诸岛",f(JI,function(t){return{type:"polygon",exterior:t}}),QI))},nA={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]},oA=function(t){d(t.regions,function(t){var e=nA[t.name];if(e){
var i=t.center;i[0]+=e[0]/10.5,i[1]+=-e[1]/14}})},rA={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},aA=function(t){d(t.regions,function(t){var e=rA[t.name];if(e){var i=t.center;i[0]=e[0],i[1]=e[1]}})},sA=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],lA=function(t){if("china"===t.map)for(var e=0,i=t.regions.length;e<i;++e)"台湾"===t.regions[e].name&&t.regions[e].geometries.push({type:"polygon",exterior:sA[0]})},hA=[iA,oA,aA,lA];if(qc.prototype={constructor:qc,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return!0;return!1},loadGeoJson:function(t,e,i){try{this.regions=t?LT(t):[]}catch(t){throw"Invalid geoJson format\n"+t.message}e=e||{},i=i||{};for(var n=this.regions,o=z(),r=0;r<n.length;r++){var a=n[r].name;a=i.hasOwnProperty(a)?i[a]:a,n[r].name=a,o.set(a,n[r]),this.addGeoCoord(a,n[r].center);var s=e[a];s&&n[r].transformTo(s.left,s.top,s.width,s.height)}this._regionsMap=o,this._rect=null,d(hA,function(t){t(this)},this)},transformTo:function(t,e,i,n){var o=this.getBoundingRect();o=o.clone(),o.y=-o.y-o.height;var r=this._rawTransformable;r.transform=o.calculateTransform(new ie(t,e,i,n)),r.decomposeTransform();var a=r.scale;a[1]=-a[1],r.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,i=0;i<e.length;i++)if(e[i].contain(t))return e[i]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){if(this._rect)return this._rect;for(var t,e=this.regions,i=0;i<e.length;i++){var n=e[i].getBoundingRect();t=t||n.clone(),t.union(n)}return this._rect=t||new ie(0,0,0,0)},dataToPoint:function(t,e,i){if("string"==typeof t&&(t=this.getGeoCoord(t)),t)return Yc.prototype.dataToPoint.call(this,t,e,i)},convertToPixel:y(Zc,"dataToPoint"),convertFromPixel:y(Zc,"pointToData")},c(qc,Yc),Nx)var cA=function(t){console.error("Map "+t+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")};var uA={dimensions:qc.prototype.dimensions,create:function(t,e){var i=[];t.eachComponent("geo",function(t,n){var o=t.get("map"),r=Fs(o);Nx&&(r||cA(o));var a=new qc(o+n,o,r&&r.geoJson,r&&r.specialAreas,t.get("nameMap"));a.zoomLimit=t.get("scaleLimit"),i.push(a),Kc(a,t),t.coordinateSystem=a,a.model=t,a.resize=Xc,a.resize(t,e)}),t.eachSeries(function(t){if("geo"===t.get("coordinateSystem")){var e=t.get("geoIndex")||0;t.coordinateSystem=i[e]}});var n={};return t.eachSeriesByType("map",function(t){if(!t.getHostGeoModel()){var e=t.getMapType();n[e]=n[e]||[],n[e].push(t)}}),d(n,function(t,n){var r=Fs(n);Nx&&(r||cA(t[0].get("map")));var a=f(t,function(t){return t.get("nameMap")}),s=new qc(n,n,r&&r.geoJson,r&&r.specialAreas,o(a));s.zoomLimit=T.apply(null,f(t,function(t){return t.get("scaleLimit")})),i.push(s),s.resize=Xc,s.resize(t[0],e),d(t,function(t){t.coordinateSystem=s,Kc(s,t)})}),i},getFilledRegions:function(t,e,i){var n=(t||[]).slice();i=i||{};var o=Fs(e),r=o&&o.geoJson;if(!r)return Nx&&cA(e),t;for(var a=z(),s=r.features,l=0;l<n.length;l++)a.set(n[l].name,n[l]);for(var l=0;l<s.length;l++){var h=s[l].properties.name;a.get(h)||(i.hasOwnProperty(h)&&(h=i[h]),n.push({name:h}))}return n}};ks("geo",uA);var dA=LM.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(t){dA.superApply(this,"init",arguments),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t){return OI(this,["value"])},mergeOption:function(t){dA.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),i=[],n=0,o=t.count();n<o;n++)i.push({name:t.getName(n),value:t.get(e,n),selected:ga(t,n,"selected")});return i=uA.getFilledRegions(i,this.getMapType(),this.option.nameMap)},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(t,e){},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),i=Jo(this.getRawValue(t)),n=e.getName(t),o=this.seriesGroup,r=[],a=0;a<o.length;a++){var s=o[a].originalData.indexOfName(n),l=e.mapDimension("value");isNaN(o[a].originalData.get(l,s))||r.push(er(o[a].name))}return r.join(", ")+"<br />"+er(n+" : "+i)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),i=this.coordinateSystem,n=i.getRegion(e);return n&&i.dataToPoint(n.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});c(dA,PI);var fA="\0_ec_interaction_mutex";As({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),c(iu,sw);var pA={axisPointer:1,tooltip:1,brush:1};mu.prototype={constructor:mu,draw:function(t,e,i,n,o){var r="geo"===t.mainType,a=t.getData&&t.getData();r&&e.eachComponent({mainType:"series",subType:"map"},function(e){a||e.getHostGeoModel()!==t||(a=e.getData())});var s=t.coordinateSystem,l=this.group,h=s.scale,c={position:s.position,scale:h};!l.childAt(0)||o?l.attr(c):So(l,c,t),l.removeAll();var u=["itemStyle"],f=["emphasis","itemStyle"],p=["label"],g=["emphasis","label"],m=z();d(s.regions,function(e){var i=m.get(e.name)||m.set(e.name,new Ww),n=new hD({shape:{paths:[]}});i.add(n);var o,s=t.getRegionModel(e.name)||t,c=s.getModel(u),v=s.getModel(f),y=fu(c,h),_=fu(v,h),x=s.getModel(p),w=s.getModel(g);if(a){o=a.indexOfName(e.name);var b=a.getItemVisual(o,"color",!0);b&&(y.fill=b)}d(e.geometries,function(t){if("polygon"===t.type){n.shape.paths.push(new iD({shape:{points:t.exterior}}));for(var e=0;e<(t.interiors?t.interiors.length:0);e++)n.shape.paths.push(new iD({shape:{points:t.interiors[e]}}))}}),n.setStyle(y),n.style.strokeNoScale=!0,n.culling=!0;var S=x.get("show"),D=w.get("show"),M=a&&isNaN(a.get(a.mapDimension("value"),o)),C=a&&a.getItemLayout(o);if(r||M&&(S||D)||C&&C.showLabel){var T,I=r?e.name:o;(!a||o>=0)&&(T=t);var A=new qS({position:e.center.slice(),scale:[1/h[0],1/h[1]],z2:10,silent:!0});uo(A.style,A.hoverStyle={},x,w,{labelFetcher:T,labelDataIndex:I,defaultText:e.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),i.add(A)}if(a)a.setItemGraphicEl(o,i);else{var s=t.getRegionModel(e.name);n.eventData={componentType:"geo",geoIndex:t.componentIndex,name:e.name,region:s&&s.option||{}}}(i.__regions||(i.__regions=[])).push(e),co(i,_,{hoverSilentOnTouch:!!t.get("selectedMode")}),l.add(i)}),this._updateController(t,e,i),pu(this,t,l,i,n),gu(t,l)},remove:function(){this.group.removeAll(),this._controller.dispose(),this._controllerHost={}},_updateController:function(t,e,i){function n(){var e={type:"geoRoam",componentType:l};return e[l+"Id"]=t.id,e}var o=t.coordinateSystem,a=this._controller,s=this._controllerHost;s.zoomLimit=t.get("scaleLimit"),s.zoom=o.getZoom(),a.enable(t.get("roam")||!1);var l=t.mainType;a.off("pan").on("pan",function(t,e){this._mouseDownFlag=!1,cu(s,t,e),i.dispatchAction(r(n(),{dx:t,dy:e}))},this),a.off("zoom").on("zoom",function(t,e,o){if(this._mouseDownFlag=!1,uu(s,t,e,o),i.dispatchAction(r(n(),{zoom:t,originX:e,originY:o})),this._updateGroup){var a=this.group,l=a.scale;a.traverse(function(t){"text"===t.type&&t.attr("scale",[1/l[0],1/l[1]])})}},this),a.setPointerChecker(function(e,n,r){return o.getViewRectAfterRoam().contain(n,r)&&!du(e,i,t)})}},Hs({type:"map",render:function(t,e,i,n){if(!n||"mapToggleSelect"!==n.type||n.from!==this.uid){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(n&&"geoRoam"===n.type&&"series"===n.componentType&&n.seriesId===t.id){var r=this._mapDraw;r&&o.add(r.group)}else if(t.needsDrawMap){var r=this._mapDraw||new mu(i,!0);o.add(r.group),r.draw(t,e,i,this,n),this._mapDraw=r}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,i)}}},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(t,e,i){var n=t.originalData,o=this.group;n.each(n.mapDimension("value"),function(e,i){if(!isNaN(e)){var r=n.getItemLayout(i);if(r&&r.point){var a=r.point,s=r.offset,l=new ZS({style:{fill:t.getData().getVisual("color")},shape:{cx:a[0]+9*s,cy:a[1],r:3},silent:!0,z2:s?8:10});if(!s){var h=t.mainSeries.getData(),c=n.getName(i),u=h.indexOfName(c),d=n.getItemModel(i),f=d.getModel("label"),p=d.getModel("emphasis.label"),g=h.getItemGraphicEl(u),m=I(t.getFormattedLabel(i,"normal"),c),v=I(t.getFormattedLabel(i,"emphasis"),m),y=function(){var t=fo({},p,{text:p.get("show")?v:null},{isRectText:!0,useInsideStyle:!1},!0);l.style.extendFrom(t),l.__mapOriginalZ2=l.z2,l.z2+=1},_=function(){fo(l.style,f,{text:f.get("show")?m:null,textPosition:f.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=l.__mapOriginalZ2&&(l.z2=l.__mapOriginalZ2,l.__mapOriginalZ2=null)};g.on("mouseover",y).on("mouseout",_).on("emphasis",y).on("normal",_),_()}o.add(l)}}})}}),As({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,e){var i=t.componentType||"series";e.eachComponent({mainType:i,query:t},function(e){var n=e.coordinateSystem;if("geo"===n.type){var o=vu(n,t,e.get("scaleLimit"));e.setCenter&&e.setCenter(o.center),e.setZoom&&e.setZoom(o.zoom),"series"===i&&d(e.seriesGroup,function(t){t.setCenter(o.center),t.setZoom(o.zoom)})}})});var gA=function(t){var e={};t.eachSeriesByType("map",function(i){var n=i.getMapType();if(!i.getHostGeoModel()&&!e[n]){var o={};d(i.seriesGroup,function(e){var i=e.coordinateSystem,n=e.originalData;e.get("showLegendSymbol")&&t.getComponent("legend")&&n.each(n.mapDimension("value"),function(t,e){var r=n.getName(e),a=i.getRegion(r);if(a&&!isNaN(t)){var s=o[r]||0,l=i.dataToPoint(a.center);o[r]=s+1,n.setItemLayout(e,{point:l,offset:s})}})});var r=i.getData();r.each(function(t){var e=r.getName(t),i=r.getItemLayout(t)||{};i.showLabel=!o[e],r.setItemLayout(t,i)}),e[n]=!0}})},mA=function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),i=t.getModel("itemStyle"),n=i.get("areaColor"),o=i.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:n,color:o})})},vA=function(t){var e={};t.eachSeriesByType("map",function(t){var i=t.getHostGeoModel(),n=i?"o"+i.id:"i"+t.getMapType();(e[n]=e[n]||[]).push(t)}),d(e,function(t,e){for(var i=yu(f(t,function(t){return t.getData()}),t[0].get("mapValueCalculation")),n=0;n<t.length;n++)t[n].originalData=t[n].getData();for(var n=0;n<t.length;n++)t[n].seriesGroup=t,t[n].needsDrawMap=0===n&&!t[n].getHostGeoModel(),t[n].setData(i.cloneShallow()),t[n].mainSeries=t[0]})},yA=function(t){var e=[];d(t.series,function(t){t&&"map"===t.type&&(e.push(t),t.map=t.map||t.mapType,a(t,t.mapLocation))})};Ls(gA),Os(mA),Ts(gC.PROCESSOR.STATISTIC,vA),Cs(yA),zI("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);var _A=d,xA="\0__link_datas",wA="\0__link_mainData",bA=function(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e};bA.prototype={constructor:bA,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,i){"function"==typeof t&&(i=e,e=t,t=null),t=t||{},w(t)&&(t={order:t});var n,o=t.order||"preorder",r=this[t.attr||"children"];"preorder"===o&&(n=e.call(i,this));for(var a=0;!n&&a<r.length;a++)r[a].eachNode(t,e,i);"postorder"===o&&e.call(i,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(t+1),n.height>e&&(e=n.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].getNodeById(t);if(o)return o}},contains:function(t){if(t===this)return!0;for(var e=0,i=this.children,n=i.length;e<n;e++){var o=i[e].contains(t);if(o)return o}},getAncestors:function(t){for(var e=[],i=t?this:this.parentNode;i;)e.push(i),i=i.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e,i=this.hostTree,n=i.data.getItemModel(this.dataIndex),o=this.getLevelModel();return o||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),n.getModel(t,(o||e||i.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},Tu.prototype={constructor:Tu,type:"tree",eachNode:function(t,e,i){this.root.eachNode(t,e,i)},getNodeByDataIndex:function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,i=0,n=e.length;i<n;i++)e[i].dataIndex=-1;for(var i=0,n=t.count();i<n;i++)e[t.getRawIndex(i)].dataIndex=i},clearLayouts:function(){this.data.clearItemLayouts()}},Tu.createTree=function(t,e,i){function n(t,e){var i=t.value;a=Math.max(a,_(i)?i.length:1),r.push(t);var s=new bA(t.name,o);e?Iu(s,e):o.root=s,o._nodes.push(s);var l=t.children;if(l)for(var h=0;h<l.length;h++)n(l[h],s)}var o=new Tu(e,i.levels,i.leaves),r=[],a=1;n(t),o.root.updateDepthAndHeight(0);var s=ZC(r,{coordDimensions:["value"],dimensionsCount:a}),l=new YC(s,e);return l.initData(r),_u({mainData:l,struct:o,structAttr:"tree"}),o.update(),o},LM.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(t){var e={name:t.name,children:t.data},i=t.leaves||{},n={};n.leaves=i;var o=Tu.createTree(e,this,n),r=0;o.eachNode("preorder",function(t){t.depth>r&&(r=t.depth)});var a=t.expandAndCollapse,s=a&&t.initialTreeDepth>=0?t.initialTreeDepth:r;return o.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=s}),o.data},getOrient:function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},formatTooltip:function(t){for(var e=this.getData().tree,i=e.root.children[0],n=e.getNodeByDataIndex(t),o=n.getValue(),r=n.name;n&&n!==i;)r=n.parentNode.name+"."+r,n=n.parentNode;return er(r+(isNaN(o)||null==o?"":" : "+o))},defaultOption:{zlevel:0,z:2,left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}}),Hs({type:"tree",init:function(t,e){this._oldTree,this._mainGroup=new Ww,this.group.add(this._mainGroup)},render:function(t,e,i,n){var o=t.getData(),r=t.layoutInfo,a=this._mainGroup,s=t.get("layout");"radial"===s?a.attr("position",[r.x+r.width/2,r.y+r.height/2]):a.attr("position",[r.x,r.y]);var l=this._data,h={expandAndCollapse:t.get("expandAndCollapse"),layout:s,orient:t.getOrient(),curvature:t.get("lineStyle.curveness"),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};o.diff(l).add(function(e){Fu(o,e)&&Gu(o,e,null,a,t,h)}).update(function(e,i){var n=l.getItemGraphicEl(i);if(!Fu(o,e))return void(n&&ju(l,i,n,a,t,h));Gu(o,e,n,a,t,h)}).remove(function(e){var i=l.getItemGraphicEl(e);i&&ju(l,e,i,a,t,h)}).execute(),!0===h.expandAndCollapse&&o.eachItemGraphicEl(function(e,n){e.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:n})})}),this._data=o},dispose:function(){},remove:function(){this._mainGroup.removeAll(),this._data=null}}),As({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(e){var i=t.dataIndex,n=e.getData().tree,o=n.getNodeByDataIndex(i);o.isExpand=!o.isExpand})});var SA=function(t,e){t.eachSeriesByType("tree",function(t){Zu(t,e)})};Os(eI("tree","circle")),Ls(SA),LM.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var i={name:t.name,children:t.data};td(i);var n=t.levels||[];n=t.levels=ed(n,e);var o={};return o.levels=n,Tu.createTree(i,this,o).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=Jo(_(i)?i[0]:i);return er(e.getName(t)+": "+n)},getDataParams:function(t){var e=LM.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=Ju(i,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},r(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=z(),this._idIndexMapCount=0);var i=e.get(t);return null==i&&e.set(t,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});var DA=5;id.prototype={constructor:id,render:function(t,e,i,n){var o=t.getModel("breadcrumb"),r=this.group;if(r.removeAll(),o.get("show")&&i){var a=o.getModel("itemStyle"),s=a.getModel("textStyle"),l={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,l,s),this._renderContent(t,l,a,s,n),ur(r,l.pos,l.box)}},_prepare:function(t,e,i){for(var n=t;n;n=n.parentNode){var o=n.getModel().get("name"),r=i.getTextRect(o),a=Math.max(r.width+16,e.emptyItemWidth);e.totalWidth+=a+8,e.renderList.push({node:n,text:o,width:a})}},_renderContent:function(t,e,i,n,o){for(var r=0,s=e.emptyItemWidth,l=t.get("breadcrumb.height"),h=hr(e.pos,e.box),c=e.totalWidth,u=e.renderList,d=u.length-1;d>=0;d--){var f=u[d],p=f.node,g=f.width,m=f.text;c>h.width&&(c-=g-s,g=s,m=null);var v=new iD({shape:{points:nd(r,0,g,l,d===u.length-1,0===d)},style:a(i.getItemStyle(),{lineJoin:"bevel",text:m,textFill:n.getTextColor(),textFont:n.getFont()}),z:10,onclick:y(o,p)});this.group.add(v),od(v,t,p),r+=g+8}},remove:function(){this.group.removeAll()}};var MA=v,CA=Ww,TA=oD,IA=d,AA=["label"],kA=["emphasis","label"],EA=["upperLabel"],LA=["emphasis","upperLabel"],OA=10,PA=1,NA=2,RA=Fb([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),zA=function(t){var e=RA(t);return e.stroke=e.fill=e.lineWidth=null,e};Hs({type:"treemap",init:function(t,e){this._containerGroup,this._storage=ad(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(t,e,i,n){if(!(l(e.findComponents({mainType:"series",subType:"treemap",query:n}),t)<0)){this.seriesModel=t,this.api=i,this.ecModel=e;var o=["treemapZoomToNode","treemapRootToNode"],r=Xu(n,o,t),a=n&&n.type,s=t.layoutInfo,h=!this._oldTree,c=this._storage,u="treemapRootToNode"===a&&r&&c?{rootNodeGroup:c.nodeGroup[r.node.getRawIndex()],direction:n.direction}:null,d=this._giveContainerGroup(s),f=this._doRender(d,t,u);h||a&&"treemapZoomToNode"!==a&&"treemapRootToNode"!==a?f.renderFinally():this._doAnimation(d,f,t,u),this._resetController(i),this._renderBreadcrumb(t,i,r)}},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new CA,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,i){function n(t,e,i,o,r){function a(t){return t.getId()}function s(a,s){var l=null!=a?t[a]:null,h=null!=s?e[s]:null,c=u(l,h,i,r);c&&n(l&&l.viewChildren||[],h&&h.viewChildren||[],c,o,r+1)}o?(e=t,IA(t,function(t,e){!t.isRemoved()&&s(e,e)})):new Gs(e,t,a,a).add(s).update(s).remove(y(s,null)).execute()}function o(){IA(d,function(t){IA(t,function(t){t.parent&&t.parent.remove(t)})}),IA(c,function(t){t.invisible=!0,t.dirty()})}var r=e.getData().tree,a=this._oldTree,s=ad(),l=ad(),h=this._storage,c=[],u=y(sd,e,l,h,i,s,c);n(r.root?[r.root]:[],a&&a.root?[a.root]:[],t,r===a||!a,0);var d=function(t){var e=ad();return t&&IA(t,function(t,i){var n=e[i];IA(t,function(t){t&&(n.push(t),t.__tmWillDelete=1)})}),e}(h);return this._oldTree=r,this._storage=l,{lastsForAnimation:s,willDeleteEls:d,renderFinally:o}},_doAnimation:function(t,e,i,n){if(i.get("animation")){var o=i.get("animationDurationUpdate"),a=i.get("animationEasing"),s=rd();IA(e.willDeleteEls,function(t,e){IA(t,function(t,i){if(!t.invisible){var r,l=t.parent;if(n&&"drillDown"===n.direction)r=l===n.rootNodeGroup?{shape:{x:0,y:0,width:l.__tmNodeWidth,height:l.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var h=0,c=0;l.__tmWillDelete||(h=l.__tmNodeWidth/2,c=l.__tmNodeHeight/2),r="nodeGroup"===e?{position:[h,c],style:{opacity:0}}:{shape:{x:h,y:c,width:0,height:0},style:{opacity:0}}}r&&s.add(t,r,o,a)}})}),IA(this._storage,function(t,i){IA(t,function(t,n){var l=e.lastsForAnimation[i][n],h={};l&&("nodeGroup"===i?l.old&&(h.position=t.position.slice(),t.attr("position",l.old)):(l.old&&(h.shape=r({},t.shape),t.setShape(l.old)),l.fadein?(t.setStyle("opacity",0),h.style={opacity:1}):1!==t.style.opacity&&(h.style={opacity:1})),s.add(t,h,o,a))})},this),this._state="animating",s.done(MA(function(){this._state="ready",e.renderFinally()},this)).start()}},_resetController:function(t){var e=this._controller;e||(e=this._controller=new iu(t.getZr()),e.enable(this.seriesModel.get("roam")),e.on("pan",MA(this._onPan,this)),e.on("zoom",MA(this._onZoom,this)));var i=new ie(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,n){return i.contain(e,n)})},_clearController:function(){var t=this._controller;t&&(t.dispose(),t=null)},_onPan:function(t,e){if("animating"!==this._state&&(Math.abs(t)>3||Math.abs(e)>3)){var i=this.seriesModel.getData().tree.root;if(!i)return;var n=i.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+t,y:n.y+e,width:n.width,height:n.height}})}},_onZoom:function(t,e,i){if("animating"!==this._state){var n=this.seriesModel.getData().tree.root;if(!n)return;var o=n.getLayout();if(!o)return;var r=new ie(o.x,o.y,o.width,o.height),a=this.seriesModel.layoutInfo;e-=a.x,i-=a.y;var s=dt();mt(s,s,[-e,-i]),yt(s,s,[t,t]),mt(s,s,[e,i]),r.applyTransform(s),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x,y:r.y,width:r.width,height:r.height}})}},_initEvents:function(t){t.on("click",function(t){if("ready"===this._state){var e=this.seriesModel.get("nodeClick",!0);if(e){var i=this.findTarget(t.offsetX,t.offsetY);if(i){var n=i.node;if(n.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===e)this._zoomToNode(i);else if("link"===e){var o=n.hostTree.data.getItemModel(n.dataIndex),r=o.get("link",!0),a=o.get("target",!0)||"blank";r&&window.open(r,a)}}}}},this)},_renderBreadcrumb:function(t,e,i){function n(e){"animating"!==this._state&&(Qu(t.getViewRoot(),e)?this._rootToNode({node:e}):this._zoomToNode({node:e}))}i||(i=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(e.getWidth()/2,e.getHeight()/2))||(i={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new id(this.group))).render(t,e,i.node,MA(n,this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=ad(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(t,e){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(n){var o=this._storage.background[n.getRawIndex()];if(o){var r=o.transformCoordToLocal(t,e),a=o.shape;if(!(a.x<=r[0]&&r[0]<=a.x+a.width&&a.y<=r[1]&&r[1]<=a.y+a.height))return!1;i={node:n,offsetX:r[0],offsetY:r[1]}}},this),i}});for(var BA=function(){},HA=["treemapZoomToNode","treemapRender","treemapMove"],VA=0;VA<HA.length;VA++)As({type:HA[VA],update:"updateView"},BA);As({type:"treemapRootToNode",update:"updateView"},function(t,e){function i(e,i){var n=["treemapZoomToNode","treemapRootToNode"],o=Xu(t,n,e);if(o){var r=e.getViewRoot();r&&(t.direction=Qu(r,o.node)?"rollUp":"drillDown"),e.resetViewRoot(o.node)}}e.eachComponent({mainType:"series",subType:"treemap",query:t},i)});var WA=d,FA=b,$A=-1,GA=function(t){var e=t.mappingMethod,n=t.type,o=this.option=i(t);this.type=n,this.mappingMethod=e,this._normalizeData=YA[e];var r=jA[n];this.applyVisual=r.applyVisual,this.getColorMapper=r.getColorMapper,this._doMap=r._doMap[e],"piecewise"===e?(ud(o),hd(o)):"category"===e?o.categories?cd(o):ud(o,!0):(L("linear"!==e||o.dataExtent),ud(o))};GA.prototype={constructor:GA,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return v(this._normalizeData,this)}};var jA=GA.visualHandlers={color:{applyVisual:pd("color"),getColorMapper:function(){var t=this.option;return v("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),gd.call(this,t)}:function(e,i,n){var o=!!n;return!i&&(e=this._normalizeData(e)),n=Bt(e,t.parsedVisual,n),o?n:Ft(n,"rgba")},this)},_doMap:{linear:function(t){return Ft(Bt(t,this.option.parsedVisual),"rgba")},category:gd,piecewise:function(t,e){var i=yd.call(this,e);return null==i&&(i=Ft(Bt(t,this.option.parsedVisual),"rgba")),i},fixed:md}},colorHue:dd(function(t,e){return Vt(t,e)}),colorSaturation:dd(function(t,e){return Vt(t,null,e)}),colorLightness:dd(function(t,e){return Vt(t,null,null,e)}),colorAlpha:dd(function(t,e){return Wt(t,e)}),opacity:{applyVisual:pd("opacity"),_doMap:vd([0,1])},liftZ:{applyVisual:pd("liftZ"),_doMap:{linear:md,category:md,piecewise:md,fixed:md}},symbol:{applyVisual:function(t,e,i){var n=this.mapValueToVisual(t);if(w(n))i("symbol",n);else if(FA(n))for(var o in n)n.hasOwnProperty(o)&&i(o,n[o])},_doMap:{linear:fd,category:gd,piecewise:function(t,e){var i=yd.call(this,e);return null==i&&(i=fd.call(this,t)),i},fixed:md}},symbolSize:{applyVisual:pd("symbolSize"),_doMap:vd([0,1])}},YA={linear:function(t){return zo(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,i=GA.findPieceIndex(t,e,!0);if(null!=i)return zo(i,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?$A:e},fixed:H};GA.listVisualTypes=function(){var t=[];return d(jA,function(e,i){t.push(i)}),t},GA.addVisualHandler=function(t,e){jA[t]=e},GA.isValidType=function(t){return jA.hasOwnProperty(t)},GA.eachVisual=function(t,e,i){b(t)?d(t,e,i):e.call(i,t)},GA.mapVisual=function(t,e,i){var n,o=_(t)?[]:b(t)?{}:(n=!0,null);return GA.eachVisual(t,function(t,r){var a=e.call(i,t,r);n?o=a:o[r]=a}),o},GA.retrieveVisuals=function(t){var e,i={};return t&&WA(jA,function(n,o){t.hasOwnProperty(o)&&(i[o]=t[o],e=!0)}),e?i:null},GA.prepareVisualTypes=function(t){if(FA(t)){var e=[];WA(t,function(t,i){e.push(i)}),t=e}else{if(!_(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},GA.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},GA.findPieceIndex=function(t,e,i){function n(e,i){var n=Math.abs(e-t);n<r&&(r=n,o=i)}for(var o,r=1/0,a=0,s=e.length;a<s;a++){var l=e[a].value;if(null!=l){if(l===t||"string"==typeof l&&l===t+"")return a;i&&n(l,a)}}for(var a=0,s=e.length;a<s;a++){var h=e[a],c=h.interval,u=h.close;if(c){if(c[0]===-1/0){if(xd(u[1],t,c[1]))return a}else if(c[1]===1/0){if(xd(u[0],c[0],t))return a}else if(xd(u[0],c[0],t)&&xd(u[1],t,c[1]))return a;i&&n(c[0],a),i&&n(c[1],a)}}if(i)return t===1/0?e.length-1:t===-1/0?0:o};var UA=_,qA="itemStyle",ZA={seriesType:"treemap",reset:function(t,e,i,n){var o=t.getData().tree,r=o.root,a=t.getModel(qA);if(!r.isRemoved()){wd(r,{},f(o.levelModels,function(t){return t?t.get(qA):null}),a,t.getViewRoot().getAncestors(),t)}}},XA=Math.max,KA=Math.min,QA=T,JA=d,tk=["itemStyle","borderWidth"],ek=["itemStyle","gapWidth"],ik=["upperLabel","show"],nk=["upperLabel","height"],ok={seriesType:"treemap",reset:function(t,e,i,n){var o=i.getWidth(),a=i.getHeight(),s=t.option,l=cr(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),h=s.size||[],c=Bo(QA(l.width,h[0]),o),u=Bo(QA(l.height,h[1]),a),d=n&&n.type,f=["treemapZoomToNode","treemapRootToNode"],p=Xu(n,f,t),g="treemapRender"===d||"treemapMove"===d?n.rootRect:null,m=t.getViewRoot(),v=Ku(m);if("treemapMove"!==d){var y="treemapZoomToNode"===d?Rd(t,p,m,c,u):g?[g.width,g.height]:[c,u],_=s.sort;_&&"asc"!==_&&"desc"!==_&&(_="desc");var x={squareRatio:s.squareRatio,sort:_,leafDepth:s.leafDepth};m.hostTree.clearLayouts();var w={x:0,y:0,width:y[0],height:y[1],area:y[0]*y[1]};m.setLayout(w),Ad(m,x,!1,0);var w=m.getLayout();JA(v,function(t,e){
var i=(v[e+1]||m).getValue();t.setLayout(r({dataExtent:[i,i],borderWidth:0,upperHeight:0},w))})}var b=t.getData().tree.root;b.setLayout(zd(l,g,p),!0),t.setLayoutInfo(l),Bd(b,new ie(-l.x,-l.y,o,a),v,m,0)}};Os(ZA),Ls(ok);var rk=function(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData},ak=rk.prototype;ak.type="graph",ak.isDirected=function(){return this._directed},ak.addNode=function(t,e){t=t||""+e;var i=this._nodesMap;if(i[Vd(t)])return void(Nx&&console.error("Graph nodes have duplicate name or id"));var n=new Wd(t,e);return n.hostGraph=this,this.nodes.push(n),i[Vd(t)]=n,n},ak.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},ak.getNodeById=function(t){return this._nodesMap[Vd(t)]},ak.addEdge=function(t,e,i){var n=this._nodesMap,o=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),Wd.isInstance(t)||(t=n[Vd(t)]),Wd.isInstance(e)||(e=n[Vd(e)]),t&&e){var r=t.id+"-"+e.id;if(!o[r]){var a=new Fd(t,e,i);return a.hostGraph=this,this._directed&&(t.outEdges.push(a),e.inEdges.push(a)),t.edges.push(a),t!==e&&e.edges.push(a),this.edges.push(a),o[r]=a,a}}},ak.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},ak.getEdge=function(t,e){Wd.isInstance(t)&&(t=t.id),Wd.isInstance(e)&&(e=e.id);var i=this._edgesMap;return this._directed?i[t+"-"+e]:i[t+"-"+e]||i[e+"-"+t]},ak.eachNode=function(t,e){for(var i=this.nodes,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&t.call(e,i[o],o)},ak.eachEdge=function(t,e){for(var i=this.edges,n=i.length,o=0;o<n;o++)i[o].dataIndex>=0&&i[o].node1.dataIndex>=0&&i[o].node2.dataIndex>=0&&t.call(e,i[o],o)},ak.breadthFirstTraverse=function(t,e,i,n){if(Wd.isInstance(e)||(e=this._nodesMap[Vd(e)]),e){for(var o="out"===i?"outEdges":"in"===i?"inEdges":"edges",r=0;r<this.nodes.length;r++)this.nodes[r].__visited=!1;if(!t.call(n,e,null))for(var a=[e];a.length;)for(var s=a.shift(),l=s[o],r=0;r<l.length;r++){var h=l[r],c=h.node1===s?h.node2:h.node1;if(!c.__visited){if(t.call(n,c,s))return;a.push(c),c.__visited=!0}}}},ak.update=function(){for(var t=this.data,e=this.edgeData,i=this.nodes,n=this.edges,o=0,r=i.length;o<r;o++)i[o].dataIndex=-1;for(var o=0,r=t.count();o<r;o++)i[t.getRawIndex(o)].dataIndex=o;e.filterSelf(function(t){var i=n[e.getRawIndex(t)];return i.node1.dataIndex>=0&&i.node2.dataIndex>=0});for(var o=0,r=n.length;o<r;o++)n[o].dataIndex=-1;for(var o=0,r=e.count();o<r;o++)n[e.getRawIndex(o)].dataIndex=o},ak.clone=function(){for(var t=new rk(this._directed),e=this.nodes,i=this.edges,n=0;n<e.length;n++)t.addNode(e[n].id,e[n].dataIndex);for(var n=0;n<i.length;n++){var o=i[n];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},Wd.prototype={constructor:Wd,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0)){return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}}},Fd.prototype.getModel=function(t){if(!(this.dataIndex<0)){return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)}};var sk=function(t,e){return{getValue:function(i){var n=this[t][e];return n.get(n.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,n){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,i,n)},getVisual:function(i,n){return this[t][e].getItemVisual(this.dataIndex,i,n)},setLayout:function(i,n){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,i,n)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}};c(Wd,sk("hostGraph","data")),c(Fd,sk("hostGraph","edgeData")),rk.Node=Wd,rk.Edge=Fd,qi(Wd),qi(Fd);var lk=function(t,e,i,n,o){for(var r=new rk(n),a=0;a<t.length;a++)r.addNode(T(t[a].id,t[a].name,a),a);for(var s=[],h=[],c=0,a=0;a<e.length;a++){var u=e[a],d=u.source,f=u.target;r.addEdge(d,f,c)&&(h.push(u),s.push(T(u.id,d+" > "+f)),c++)}var p,g=i.get("coordinateSystem");if("cartesian2d"===g||"polar"===g)p=pl(t,i);else{var m=Fr.get(g),v=m&&"view"!==m.type?m.dimensions||[]:[];l(v,"value")<0&&v.concat(["value"]);var y=ZC(t,{coordDimensions:v});p=new YC(y,i),p.initData(t)}var _=new YC(["value"],i);return _.initData(h,s),o&&o(p,_),_u({mainData:p,struct:r,structAttr:"graph",datas:{node:p,edge:_},datasAttr:{node:"data",edge:"edgeData"}}),r.update(),r},hk=Bs({type:"series.graph",init:function(t){hk.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){hk.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){hk.superApply(this,"mergeDefaultAndTheme",arguments),Ei(t,["edgeLabel"],["show"])},getInitialData:function(t,e){function i(t,i){function n(t){return t=this.parsePath(t),t&&"label"===t[0]?a:t&&"emphasis"===t[0]&&"label"===t[1]?l:this.parentModel}t.wrapMethod("getItemModel",function(t){var e=r._categoriesModels,i=t.getShallow("category"),n=e[i];return n&&(n.parentModel=t.parentModel,t.parentModel=n),t});var o=r.getModel("edgeLabel"),a=new Lo({label:o.option},o.parentModel,e),s=r.getModel("emphasis.edgeLabel"),l=new Lo({emphasis:{label:s.option}},s.parentModel,e);i.wrapMethod("getItemModel",function(t){return t.customizeGetParent(n),t})}var n=t.edges||t.links||[],o=t.data||t.nodes||[],r=this;if(o&&n)return lk(o,n,this,!0,i).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,i){if("edge"===i){var n=this.getData(),o=this.getDataParams(t,i),r=n.graph.getEdgeByIndex(t),a=n.getName(r.node1.dataIndex),s=n.getName(r.node2.dataIndex),l=[];return null!=a&&l.push(a),null!=s&&l.push(s),l=er(l.join(" > ")),o.value&&(l+=" : "+er(o.value)),l}return hk.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=f(this.option.categories||[],function(t){return null!=t.value?t:r({value:0},t)}),e=new YC(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return hk.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),ck=rD.prototype,uk=sD.prototype,dk=$n({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){($d(e)?ck:uk).buildPath(t,e)},pointAt:function(t){return $d(this.shape)?ck.pointAt.call(this,t):uk.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,i=$d(e)?[e.x2-e.x1,e.y2-e.y1]:uk.tangentAt.call(this,t);return J(i,i)}}),fk=["fromSymbol","toSymbol"],pk=Zd.prototype;pk.beforeUpdate=qd,pk._createLine=function(t,e,i){var n=t.hostModel,o=t.getItemLayout(e),r=Yd(o);r.shape.percent=0,Do(r,{shape:{percent:1}},n,e),this.add(r);var a=new qS({name:"label"});this.add(a),d(fk,function(i){var n=jd(i,t,e);this.add(n),this[Gd(i)]=t.getItemVisual(e,i)},this),this._updateCommonStl(t,e,i)},pk.updateData=function(t,e,i){var n=t.hostModel,o=this.childOfName("line"),r=t.getItemLayout(e),a={shape:{}};Ud(a.shape,r),So(o,a,n,e),d(fk,function(i){var n=t.getItemVisual(e,i),o=Gd(i);if(this[o]!==n){this.remove(this.childOfName(i));var r=jd(i,t,e);this.add(r)}this[o]=n},this),this._updateCommonStl(t,e,i)},pk._updateCommonStl=function(t,e,i){var n=t.hostModel,o=this.childOfName("line"),r=i&&i.lineStyle,s=i&&i.hoverLineStyle,l=i&&i.labelModel,h=i&&i.hoverLabelModel;if(!i||t.hasItemOption){var c=t.getItemModel(e);r=c.getModel("lineStyle").getLineStyle(),s=c.getModel("emphasis.lineStyle").getLineStyle(),l=c.getModel("label"),h=c.getModel("emphasis.label")}var u=t.getItemVisual(e,"color"),f=A(t.getItemVisual(e,"opacity"),r.opacity,1);o.useStyle(a({strokeNoScale:!0,fill:"none",stroke:u,opacity:f},r)),o.hoverStyle=s,d(fk,function(t){var e=this.childOfName(t);e&&(e.setColor(u),e.setStyle({opacity:f}))},this);var p,g,m=l.getShallow("show"),v=h.getShallow("show"),y=this.childOfName("label");if((m||v)&&(p=u||"#000",null==(g=n.getFormattedLabel(e,"normal",t.dataType)))){var _=n.getRawValue(e);g=null==_?t.getName(e):isFinite(_)?Ho(_):_}var x=m?g:null,w=v?I(n.getFormattedLabel(e,"emphasis",t.dataType),g):null,b=y.style;null==x&&null==w||(fo(y.style,l,{text:x},{autoColor:p}),y.__textAlign=b.textAlign,y.__verticalAlign=b.textVerticalAlign,y.__position=l.get("position")||"middle"),y.hoverStyle=null!=w?{text:w,textFill:h.getTextColor(!0),fontStyle:h.getShallow("fontStyle"),fontWeight:h.getShallow("fontWeight"),fontSize:h.getShallow("fontSize"),fontFamily:h.getShallow("fontFamily")}:{text:null},y.ignore=!m&&!v,co(this)},pk.highlight=function(){this.trigger("emphasis")},pk.downplay=function(){this.trigger("normal")},pk.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},pk.setLinePoints=function(t){var e=this.childOfName("line");Ud(e.shape,t),e.dirty()},h(Zd,Ww);var gk=Xd.prototype;gk.isPersistent=function(){return!0},gk.updateData=function(t){var e=this,i=e.group,n=e._lineData;e._lineData=t,n||i.removeAll();var o=Jd(t);t.diff(n).add(function(i){Kd(e,t,i,o)}).update(function(i,r){Qd(e,n,t,r,i,o)}).remove(function(t){i.remove(n.getItemGraphicEl(t))}).execute()},gk.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,i){e.updateLayout(t,i)},this)},gk.incrementalPrepareUpdate=function(t){this._seriesScope=Jd(t),this._lineData=null,this.group.removeAll()},gk.incrementalUpdate=function(t,e){function i(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}for(var n=t.start;n<t.end;n++){if(ef(e.getItemLayout(n))){var o=new this._ctor(e,n,this._seriesScope);o.traverse(i),this.group.add(o),e.setItemGraphicEl(n,o)}}},gk.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},gk._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var mk=[],vk=[],yk=[],_k=sn,xk=ow,wk=Math.abs,bk=function(t,e){function i(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),e}var n=[],o=un,r=[[],[],[]],a=[[],[]],s=[];e/=2,t.eachEdge(function(t,l){var h=t.getLayout(),c=t.getVisual("fromSymbol"),u=t.getVisual("toSymbol");h.__original||(h.__original=[F(h[0]),F(h[1])],h[2]&&h.__original.push(F(h[2])));var d=h.__original;if(null!=h[2]){if(W(r[0],d[0]),W(r[1],d[2]),W(r[2],d[1]),c&&"none"!=c){var f=i(t.node1),p=nf(r,d[0],f*e);o(r[0][0],r[1][0],r[2][0],p,n),r[0][0]=n[3],r[1][0]=n[4],o(r[0][1],r[1][1],r[2][1],p,n),r[0][1]=n[3],r[1][1]=n[4]}if(u&&"none"!=u){var f=i(t.node2),p=nf(r,d[1],f*e);o(r[0][0],r[1][0],r[2][0],p,n),r[1][0]=n[1],r[2][0]=n[2],o(r[0][1],r[1][1],r[2][1],p,n),r[1][1]=n[1],r[2][1]=n[2]}W(h[0],r[0]),W(h[1],r[2]),W(h[2],r[1])}else{if(W(a[0],d[0]),W(a[1],d[1]),Y(s,a[1],a[0]),J(s,s),c&&"none"!=c){var f=i(t.node1);j(a[0],a[0],s,f*e)}if(u&&"none"!=u){var f=i(t.node2);j(a[1],a[1],s,-f*e)}W(h[0],a[0]),W(h[1],a[1])}})},Sk=["itemStyle","opacity"],Dk=["lineStyle","opacity"];Hs({type:"graph",init:function(t,e){var i=new Dh,n=new Xd,o=this.group;this._controller=new iu(e.getZr()),this._controllerHost={target:o},o.add(i.group),o.add(n.group),this._symbolDraw=i,this._lineDraw=n,this._firstRender=!0},render:function(t,e,i){var n=t.coordinateSystem;this._model=t,this._nodeScaleRatio=t.get("nodeScaleRatio");var o=this._symbolDraw,r=this._lineDraw,a=this.group;if("view"===n.type){var s={position:n.position,scale:n.scale};this._firstRender?a.attr(s):So(a,s,t)}bk(t.getGraph(),this._getNodeGlobalScale(t));var l=t.getData();o.updateData(l);var h=t.getEdgeData();r.updateData(h),this._updateNodeAndLinkScale(),this._updateController(t,e,i),clearTimeout(this._layoutTimeout);var c=t.forceLayout,u=t.get("force.layoutAnimation");c&&this._startForceLayoutIteration(c,u),l.eachItemGraphicEl(function(e,n){var o=l.getItemModel(n);e.off("drag").off("dragend");var r=l.getItemModel(n).get("draggable");r&&e.on("drag",function(){c&&(c.warmUp(),!this._layouting&&this._startForceLayoutIteration(c,u),c.setFixed(n),l.setItemLayout(n,e.position))},this).on("dragend",function(){c&&c.setUnfixed(n)},this),e.setDraggable(r&&c),e.off("mouseover",e.__focusNodeAdjacency),e.off("mouseout",e.__unfocusNodeAdjacency),o.get("focusNodeAdjacency")&&(e.on("mouseover",e.__focusNodeAdjacency=function(){i.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,dataIndex:e.dataIndex})}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))},this),l.graph.eachEdge(function(e){var n=e.getGraphicEl();n.off("mouseover",n.__focusNodeAdjacency),n.off("mouseout",n.__unfocusNodeAdjacency),e.getModel().get("focusNodeAdjacency")&&(n.on("mouseover",n.__focusNodeAdjacency=function(){i.dispatchAction({type:"focusNodeAdjacency",seriesId:t.id,edgeDataIndex:e.dataIndex})}),n.on("mouseout",n.__unfocusNodeAdjacency=function(){i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t.id})}))});var d="circular"===t.get("layout")&&t.get("circular.rotateLabel"),f=l.getLayout("cx"),p=l.getLayout("cy");l.eachItemGraphicEl(function(t,e){var i=t.getSymbolPath();if(d){var n=l.getItemLayout(e),o=Math.atan2(n[1]-p,n[0]-f);o<0&&(o=2*Math.PI+o);var r=n[0]<f;r&&(o-=Math.PI);var a=r?"left":"right";i.setStyle({textRotation:-o,textPosition:a,textOrigin:"center"}),i.hoverStyle&&(i.hoverStyle.textPosition=a)}else i.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(t,e,i,n){var o=this._model.getData(),r=o.graph,a=n.dataIndex,s=n.edgeDataIndex,l=r.getNodeByIndex(a),h=r.getEdgeByIndex(s);(l||h)&&(r.eachNode(function(t){rf(t,Sk,.1)}),r.eachEdge(function(t){rf(t,Dk,.1)}),l&&(af(l,Sk),d(l.edges,function(t){t.dataIndex<0||(af(t,Dk),af(t.node1,Sk),af(t.node2,Sk))})),h&&(af(h,Dk),af(h.node1,Sk),af(h.node2,Sk)))},unfocusNodeAdjacency:function(t,e,i,n){var o=this._model.getData().graph;o.eachNode(function(t){rf(t,Sk)}),o.eachEdge(function(t){rf(t,Dk)})},_startForceLayoutIteration:function(t,e){var i=this;!function n(){t.step(function(t){i.updateLayout(i._model),(i._layouting=!t)&&(e?i._layoutTimeout=setTimeout(n,16):n())})}()},_updateController:function(t,e,i){var n=this._controller,o=this._controllerHost,r=this.group;if(n.setPointerChecker(function(e,n,o){var a=r.getBoundingRect();return a.applyTransform(r.transform),a.contain(n,o)&&!du(e,i,t)}),"view"!==t.coordinateSystem.type)return void n.disable();n.enable(t.get("roam")),o.zoomLimit=t.get("scaleLimit"),o.zoom=t.coordinateSystem.getZoom(),n.off("pan").off("zoom").on("pan",function(e,n){cu(o,e,n),i.dispatchAction({seriesId:t.id,type:"graphRoam",dx:e,dy:n})}).on("zoom",function(e,n,r){uu(o,e,n,r),i.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:e,originX:n,originY:r}),this._updateNodeAndLinkScale(),bk(t.getGraph(),this._getNodeGlobalScale(t)),this._lineDraw.updateLayout()},this)},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),i=this._getNodeGlobalScale(t),n=[i,i];e.eachItemGraphicEl(function(t,e){t.attr("scale",n)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var i=this._nodeScaleRatio,n=e.scale,o=n&&n[0]||1;return((e.getZoom()-1)*i+1)/o},updateLayout:function(t){bk(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),As({type:"graphRoam",event:"graphRoam",update:"none"},function(t,e){e.eachComponent({mainType:"series",query:t},function(e){var i=e.coordinateSystem,n=vu(i,t);e.setCenter&&e.setCenter(n.center),e.setZoom&&e.setZoom(n.zoom)})}),As({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series.graph:focusNodeAdjacency"},function(){}),As({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series.graph:unfocusNodeAdjacency"},function(){});var Mk=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),n=t.getGraph(),o=n.data,r=i.mapArray(i.getName);o.filterSelf(function(t){var i=o.getItemModel(t),n=i.getShallow("category");if(null!=n){"number"==typeof n&&(n=r[n]);for(var a=0;a<e.length;a++)if(!e[a].isSelected(n))return!1}return!0})},this)},Ck=function(t){var e={};t.eachSeriesByType("graph",function(t){var i=t.getCategoriesData(),n=t.getData(),o={};i.each(function(n){var r=i.getName(n);o["ec-"+r]=n;var a=i.getItemModel(n),s=a.get("itemStyle.color")||t.getColorFromPalette(r,e);i.setItemVisual(n,"color",s)}),i.count()&&n.each(function(t){var e=n.getItemModel(t),r=e.getShallow("category");null!=r&&("string"==typeof r&&(r=o["ec-"+r]),n.getItemVisual(t,"color",!0)||n.setItemVisual(t,"color",i.getItemVisual(r,"color")))})})},Tk=function(t){t.eachSeriesByType("graph",function(t){var e=t.getGraph(),i=t.getEdgeData(),n=sf(t.get("edgeSymbol")),o=sf(t.get("edgeSymbolSize")),r="lineStyle.color".split("."),a="lineStyle.opacity".split(".");i.setVisual("fromSymbol",n&&n[0]),i.setVisual("toSymbol",n&&n[1]),i.setVisual("fromSymbolSize",o&&o[0]),i.setVisual("toSymbolSize",o&&o[1]),i.setVisual("color",t.get(r)),i.setVisual("opacity",t.get(a)),i.each(function(t){var n=i.getItemModel(t),o=e.getEdgeByIndex(t),s=sf(n.getShallow("symbol",!0)),l=sf(n.getShallow("symbolSize",!0)),h=n.get(r),c=n.get(a);switch(h){case"source":h=o.node1.getVisual("color");break;case"target":h=o.node2.getVisual("color")}s[0]&&o.setVisual("fromSymbol",s[0]),s[1]&&o.setVisual("toSymbol",s[1]),l[0]&&o.setVisual("fromSymbolSize",l[0]),l[1]&&o.setVisual("toSymbolSize",l[1]),o.setVisual("color",h),o.setVisual("opacity",c)})})},Ik=function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),i=t.coordinateSystem;if(i&&"view"!==i.type){var n=t.getData(),o=[];d(i.dimensions,function(t){o=o.concat(n.mapDimension(t,!0))});for(var r=0;r<n.count();r++){for(var a=[],s=!1,l=0;l<o.length;l++){var h=n.get(o[l],r);isNaN(h)||(s=!0),a.push(h)}s?n.setItemLayout(r,i.dataToPoint(a)):n.setItemLayout(r,[NaN,NaN])}hf(n.graph)}else e&&"none"!==e||lf(t)})},Ak=function(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&cf(t)})},kk=j,Ek=function(t){t.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var i=t.preservedPoints||{},n=t.getGraph(),o=n.data,r=n.edgeData,a=t.getModel("force"),s=a.get("initLayout");t.preservedPoints?o.each(function(t){var e=o.getId(t);o.setItemLayout(t,i[e]||[NaN,NaN])}):s&&"none"!==s?"circular"===s&&cf(t):lf(t);var l=o.getDataExtent("value"),h=r.getDataExtent("value"),c=a.get("repulsion"),u=a.get("edgeLength");_(c)||(c=[c,c]),_(u)||(u=[u,u]),u=[u[1],u[0]];var d=o.mapArray("value",function(t,e){var i=o.getItemLayout(e),n=zo(t,l,c);return isNaN(n)&&(n=(c[0]+c[1])/2),{w:n,rep:n,fixed:o.getItemModel(e).get("fixed"),p:!i||isNaN(i[0])||isNaN(i[1])?null:i}}),f=r.mapArray("value",function(t,e){var i=n.getEdgeByIndex(e),o=zo(t,h,u);return isNaN(o)&&(o=(u[0]+u[1])/2),{n1:d[i.node1.dataIndex],n2:d[i.node2.dataIndex],d:o,curveness:i.getModel().get("lineStyle.curveness")||0}}),e=t.coordinateSystem,p=e.getBoundingRect(),g=uf(d,f,{rect:p,gravity:a.get("gravity")}),m=g.step;g.step=function(t){for(var e=0,r=d.length;e<r;e++)d[e].fixed&&W(d[e].p,n.getNodeByIndex(e).getLayout());m(function(e,r,a){for(var s=0,l=e.length;s<l;s++)e[s].fixed||n.getNodeByIndex(s).setLayout(e[s].p),i[o.getId(s)]=e[s].p;for(var s=0,l=r.length;s<l;s++){var h=r[s],c=n.getEdgeByIndex(s),u=h.n1.p,d=h.n2.p,f=c.getLayout();f=f?f.slice():[],f[0]=f[0]||[],f[1]=f[1]||[],W(f[0],u),W(f[1],d),+h.curveness&&(f[2]=[(u[0]+d[0])/2-(u[1]-d[1])*h.curveness,(u[1]+d[1])/2-(d[0]-u[0])*h.curveness]),c.setLayout(f)}t&&t(a)})},t.forceLayout=g,t.preservedPoints=i,g.step()}else t.forceLayout=null})},Lk=function(t,e){var i=[];return t.eachSeriesByType("graph",function(t){var n=t.get("coordinateSystem");if(!n||"view"===n){var o=t.getData(),r=o.mapArray(function(t){var e=o.getItemModel(t);return[+e.get("x"),+e.get("y")]}),a=[],s=[];fn(r,a,s),s[0]-a[0]==0&&(s[0]+=1,a[0]-=1),s[1]-a[1]==0&&(s[1]+=1,a[1]-=1);var l=(s[0]-a[0])/(s[1]-a[1]),h=df(t,e,l);isNaN(l)&&(a=[h.x,h.y],s=[h.x+h.width,h.y+h.height]);var c=s[0]-a[0],u=s[1]-a[1],d=h.width,f=h.height,p=t.coordinateSystem=new Yc;p.zoomLimit=t.get("scaleLimit"),p.setBoundingRect(a[0],a[1],c,u),p.setViewRect(h.x,h.y,d,f),p.setCenter(t.get("center")),p.setZoom(t.get("zoom")),i.push(p)}}),i};Ts(Mk),Os(eI("graph","circle",null)),Os(Ck),Os(Tk),Ls(Ik),Ls(Ak),Ls(Ek),ks("graphView",{create:Lk});var Ok=(LM.extend({type:"series.gauge",getInitialData:function(t,e){var i=t.data||[];return _(i)||(i=[i]),t.data=i,OI(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}}),Ln.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var i=Math.cos,n=Math.sin,o=e.r,r=e.width,a=e.angle,s=e.x-i(a)*r*(r>=o/3?1:2),l=e.y-n(a)*r*(r>=o/3?1:2);a=e.angle-Math.PI/2,t.moveTo(s,l),t.lineTo(e.x+i(a)*r,e.y+n(a)*r),t.lineTo(e.x+i(e.angle)*o,e.y+n(e.angle)*o),t.lineTo(e.x-i(a)*r,e.y-n(a)*r),t.lineTo(s,l)}})),Pk=2*Math.PI,Nk=(Ia.extend({type:"gauge",render:function(t,e,i){this.group.removeAll();var n=t.get("axisLine.lineStyle.color"),o=ff(t,i);this._renderMain(t,e,i,n,o)},dispose:function(){},_renderMain:function(t,e,i,n,o){for(var r=this.group,a=t.getModel("axisLine"),s=a.getModel("lineStyle"),l=t.get("clockwise"),h=-t.get("startAngle")/180*Math.PI,c=-t.get("endAngle")/180*Math.PI,u=(c-h)%Pk,d=h,f=s.get("width"),p=0;p<n.length;p++){var g=Math.min(Math.max(n[p][0],0),1),c=h+u*g,m=new QS({shape:{startAngle:d,endAngle:c,cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-f,r:o.r},silent:!0});m.setStyle({fill:n[p][1]}),m.setStyle(s.getLineStyle(["color","borderWidth","borderColor"])),r.add(m),d=c}var v=function(t){if(t<=0)return n[0][1];for(var e=0;e<n.length;e++)if(n[e][0]>=t&&(0===e?0:n[e-1][0])<t)return n[e][1];return n[e-1][1]};if(!l){var y=h;h=c,c=y}this._renderTicks(t,e,i,v,o,h,c,l),this._renderPointer(t,e,i,v,o,h,c,l),this._renderTitle(t,e,i,v,o),this._renderDetail(t,e,i,v,o)},_renderTicks:function(t,e,i,n,o,r,a,s){for(var l=this.group,h=o.cx,c=o.cy,u=o.r,d=+t.get("min"),f=+t.get("max"),p=t.getModel("splitLine"),g=t.getModel("axisTick"),m=t.getModel("axisLabel"),v=t.get("splitNumber"),y=g.get("splitNumber"),_=Bo(p.get("length"),u),x=Bo(g.get("length"),u),w=r,b=(a-r)/v,S=b/y,D=p.getModel("lineStyle").getLineStyle(),M=g.getModel("lineStyle").getLineStyle(),C=0;C<=v;C++){var T=Math.cos(w),I=Math.sin(w);if(p.get("show")){var A=new rD({shape:{x1:T*u+h,y1:I*u+c,x2:T*(u-_)+h,y2:I*(u-_)+c},style:D,silent:!0});"auto"===D.stroke&&A.setStyle({stroke:n(C/v)}),l.add(A)}if(m.get("show")){var k=pf(Ho(C/v*(f-d)+d),m.get("formatter")),E=m.get("distance"),L=n(C/v);l.add(new qS({style:fo({},m,{text:k,x:T*(u-_-E)+h,y:I*(u-_-E)+c,textVerticalAlign:I<-.4?"top":I>.4?"bottom":"middle",textAlign:T<-.4?"left":T>.4?"right":"center"},{autoColor:L}),silent:!0}))}if(g.get("show")&&C!==v){for(var O=0;O<=y;O++){var T=Math.cos(w),I=Math.sin(w),P=new rD({shape:{x1:T*u+h,y1:I*u+c,x2:T*(u-x)+h,y2:I*(u-x)+c},silent:!0,style:M});"auto"===M.stroke&&P.setStyle({stroke:n((C+O/y)/v)}),l.add(P),w+=S}w-=S}else w+=b}},_renderPointer:function(t,e,i,n,o,r,a,s){var l=this.group,h=this._data;if(!t.get("pointer.show"))return void(h&&h.eachItemGraphicEl(function(t){l.remove(t)}));var c=[+t.get("min"),+t.get("max")],u=[r,a],d=t.getData(),f=d.mapDimension("value");d.diff(h).add(function(e){var i=new Ok({shape:{angle:r}});Do(i,{shape:{angle:zo(d.get(f,e),c,u,!0)}},t),l.add(i),d.setItemGraphicEl(e,i)}).update(function(e,i){var n=h.getItemGraphicEl(i);So(n,{shape:{angle:zo(d.get(f,e),c,u,!0)}},t),l.add(n),d.setItemGraphicEl(e,n)}).remove(function(t){var e=h.getItemGraphicEl(t);l.remove(e)}).execute(),d.eachItemGraphicEl(function(t,e){var i=d.getItemModel(e),r=i.getModel("pointer");t.setShape({x:o.cx,y:o.cy,width:Bo(r.get("width"),o.r),r:Bo(r.get("length"),o.r)}),t.useStyle(i.getModel("itemStyle").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",n(zo(d.get(f,e),c,[0,1],!0))),co(t,i.getModel("emphasis.itemStyle").getItemStyle())}),this._data=d},_renderTitle:function(t,e,i,n,o){var r=t.getData(),a=r.mapDimension("value"),s=t.getModel("title");if(s.get("show")){var l=s.get("offsetCenter"),h=o.cx+Bo(l[0],o.r),c=o.cy+Bo(l[1],o.r),u=+t.get("min"),d=+t.get("max"),f=t.getData().get(a,0),p=n(zo(f,[u,d],[0,1],!0));this.group.add(new qS({silent:!0,style:fo({},s,{x:h,y:c,text:r.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:p,forceRich:!0})}))}},_renderDetail:function(t,e,i,n,o){var r=t.getModel("detail"),a=+t.get("min"),s=+t.get("max");if(r.get("show")){var l=r.get("offsetCenter"),h=o.cx+Bo(l[0],o.r),c=o.cy+Bo(l[1],o.r),u=Bo(r.get("width"),o.r),d=Bo(r.get("height"),o.r),f=t.getData(),p=f.get(f.mapDimension("value"),0),g=n(zo(p,[a,s],[0,1],!0));this.group.add(new qS({silent:!0,style:fo({},r,{x:h,y:c,text:pf(p,r.get("formatter")),textWidth:isNaN(u)?null:u,textHeight:isNaN(d)?null:d,textAlign:"center",textVerticalAlign:"middle"},{autoColor:g,forceRich:!0})}))}}}),Bs({type:"series.funnel",init:function(t){Nk.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(t)},getInitialData:function(t,e){return OI(this,["value"])},_defaultLabelLine:function(t){Ei(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),i=Nk.superCall(this,"getDataParams",t),n=e.mapDimension("value"),o=e.getSum(n);return i.percent=o?+(e.get(n,t)/o*100).toFixed(2):0,i.$vars.push("percent"),i},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}})),Rk=gf.prototype,zk=["itemStyle","opacity"];Rk.updateData=function(t,e,i){var n=this.childAt(0),o=t.hostModel,r=t.getItemModel(e),s=t.getItemLayout(e),l=t.getItemModel(e).get(zk);l=null==l?1:l,n.useStyle({}),i?(n.setShape({points:s.points}),n.setStyle({opacity:0}),Do(n,{style:{opacity:l}},o,e)):So(n,{style:{opacity:l},shape:{points:s.points}},o,e);var h=r.getModel("itemStyle"),c=t.getItemVisual(e,"color");n.setStyle(a({lineJoin:"round",fill:c},h.getItemStyle(["opacity"]))),n.hoverStyle=h.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),co(this)},Rk._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),o=t.hostModel,r=t.getItemModel(e),a=t.getItemLayout(e),s=a.label,l=t.getItemVisual(e,"color");So(i,{shape:{points:s.linePoints||s.linePoints}},o,e),So(n,{style:{x:s.x,y:s.y}},o,e),n.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var h=r.getModel("label"),c=r.getModel("emphasis.label"),u=r.getModel("labelLine"),d=r.getModel("emphasis.labelLine"),l=t.getItemVisual(e,"color");uo(n.style,n.hoverStyle={},h,c,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign}),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!c.get("show"),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!d.get("show"),i.setStyle({stroke:l}),i.setStyle(u.getModel("lineStyle").getLineStyle()),i.hoverStyle=d.getModel("lineStyle").getLineStyle()},h(gf,Ww);var Bk=(Ia.extend({type:"funnel",render:function(t,e,i){var n=t.getData(),o=this._data,r=this.group;n.diff(o).add(function(t){var e=new gf(n,t);n.setItemGraphicEl(t,e),r.add(e)}).update(function(t,e){var i=o.getItemGraphicEl(e);i.updateData(n,t),r.add(i),n.setItemGraphicEl(t,i)}).remove(function(t){var e=o.getItemGraphicEl(t);r.remove(e)}).execute(),this._data=n},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),function(t,e,i){t.eachSeriesByType("funnel",function(t){var i=t.getData(),n=i.mapDimension("value"),o=t.get("sort"),r=mf(t,e),a=vf(i,o),s=[Bo(t.get("minSize"),r.width),Bo(t.get("maxSize"),r.width)],l=i.getDataExtent(n),h=t.get("min"),c=t.get("max");null==h&&(h=Math.min(l[0],0)),null==c&&(c=l[1]);var u=t.get("funnelAlign"),d=t.get("gap"),f=(r.height-d*(i.count()-1))/i.count(),p=r.y,g=function(t,e){var o,a=i.get(n,t)||0,l=zo(a,[h,c],s,!0);switch(u){case"left":o=r.x;break;case"center":o=r.x+(r.width-l)/2;break;case"right":o=r.x+r.width-l}return[[o,e],[o+l,e]]};"ascending"===o&&(f=-f,d=-d,p+=r.height,a=a.reverse());for(var m=0;m<a.length;m++){var v=a[m],y=a[m+1],_=i.getItemModel(v),x=_.get("itemStyle.height");null==x?x=f:(x=Bo(x,r.height),"ascending"===o&&(x=-x));var w=g(v,p),b=g(y,p+x);p+=x+d,i.setItemLayout(v,{points:w.concat(b.slice().reverse())})}yf(i)})});Os(BI("funnel")),Ls(Bk),Ts($I("funnel"));var Hk=function(t){_f(t),xf(t)},Vk=function(t,e,i,n,o){NT.call(this,t,e,i),this.type=n||"value",this.axisIndex=o};Vk.prototype={constructor:Vk,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},h(Vk,NT);var Wk=function(t,e,i,n,o,r){e[0]=bf(e[0],i),e[1]=bf(e[1],i),t=t||0;var a=i[1]-i[0];null!=o&&(o=bf(o,[0,a])),null!=r&&(r=Math.max(r,null!=o?o:0)),"all"===n&&(o=r=Math.abs(e[1]-e[0]),n=0);var s=wf(e,n);e[n]+=t;var l=o||0,h=i.slice();s.sign<0?h[0]+=l:h[1]-=l,e[n]=bf(e[n],h);var c=wf(e,n);null!=o&&(c.sign!==s.sign||c.span<o)&&(e[1-n]=e[n]+s.sign*o);var c=wf(e,n);return null!=r&&c.span>r&&(e[1-n]=e[n]+c.sign*r),e},Fk=d,$k=Math.min,Gk=Math.max,jk=Math.floor,Yk=Math.ceil,Uk=Ho,qk=Math.PI;Sf.prototype={type:"parallel",constructor:Sf,_init:function(t,e,i){var n=t.dimensions,o=t.parallelAxisIndex;Fk(n,function(t,i){var n=o[i],r=e.getComponent("parallelAxis",n),a=this._axesMap.set(t,new Vk(t,Wl(r),[0,0],r.get("type"),n)),s="category"===a.type;a.onBand=s&&r.get("boundaryGap"),a.inverse=r.get("inverse"),r.axis=a,a.model=r,a.coordinateSystem=r.coordinateSystem=this},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),i=e.axisBase,n=e.layoutBase,o=e.pixelDimIndex,r=t[1-o],a=t[o];return r>=i&&r<=i+e.axisLength&&a>=n&&a<=n+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(t,e){e.eachSeries(function(i){if(t.contains(i,e)){var n=i.getData();Fk(this.dimensions,function(t){var e=this._axesMap.get(t)
;e.scale.unionExtentFromData(n,n.mapDimension(t)),Vl(e.scale,e.model)},this)}},this)},resize:function(t,e){this._rect=cr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t,e=this._model,i=this._rect,n=["x","y"],o=["width","height"],r=e.get("layout"),a="horizontal"===r?0:1,s=i[o[a]],l=[0,s],h=this.dimensions.length,c=Df(e.get("axisExpandWidth"),l),u=Df(e.get("axisExpandCount")||0,[0,h]),d=e.get("axisExpandable")&&h>3&&h>u&&u>1&&c>0&&s>0,f=e.get("axisExpandWindow");if(f)t=Df(f[1]-f[0],l),f[1]=f[0]+t;else{t=Df(c*(u-1),l);f=[c*(e.get("axisExpandCenter")||jk(h/2))-t/2],f[1]=f[0]+t}var p=(s-t)/(h-u);p<3&&(p=0);var g=[jk(Uk(f[0]/c,1))+1,Yk(Uk(f[1]/c,1))-1],m=p/c*f[0];return{layout:r,pixelDimIndex:a,layoutBase:i[n[a]],layoutLength:s,axisBase:i[n[1-a]],axisLength:i[o[1-a]],axisExpandable:d,axisExpandWidth:c,axisCollapseWidth:p,axisExpandWindow:f,axisCount:h,winInnerIndices:g,axisExpandWindow0Pos:m}},_layoutAxes:function(){var t=this._rect,e=this._axesMap,i=this.dimensions,n=this._makeLayoutInfo(),o=n.layout;e.each(function(t){var e=[0,n.axisLength],i=t.inverse?1:0;t.setExtent(e[i],e[1-i])}),Fk(i,function(e,i){var r=(n.axisExpandable?Cf:Mf)(i,n),a={horizontal:{x:r.position,y:n.axisLength},vertical:{x:0,y:r.position}},s={horizontal:qk/2,vertical:0},l=[a[o].x+t.x,a[o].y+t.y],h=s[o],c=dt();vt(c,c,h),mt(c,c,l),this._axesLayout[e]={position:l,rotation:h,transform:c,axisNameAvailableWidth:r.axisNameAvailableWidth,axisLabelShow:r.axisLabelShow,nameTruncateMaxWidth:r.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(t,e,i,n){null==i&&(i=0),null==n&&(n=t.count());var o=this._axesMap,r=this.dimensions,a=[],s=[];d(r,function(e){a.push(t.mapDimension(e)),s.push(o.get(e).model)});for(var l=this.hasAxisBrushed(),h=i;h<n;h++){var c;if(l){c="active";for(var u=t.getValues(a,h),f=0,p=r.length;f<p;f++){if("inactive"===s[f].getActiveState(u[f])){c="inactive";break}}}else c="normal";e(c,h)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,i=!1,n=0,o=t.length;n<o;n++)"normal"!==e.get(t[n]).model.getActiveState()&&(i=!0);return i},axisCoordToPoint:function(t,e){return Co([t,0],this._axesLayout[e].transform)},getAxisLayout:function(t){return i(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),i=e.pixelDimIndex,n=e.axisExpandWindow.slice(),o=n[1]-n[0],r=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:n};var a,s=t[i]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",h=e.axisCollapseWidth,c=this._model.get("axisExpandSlideTriggerArea"),u=null!=c[0];if(h)u&&h&&s<o*c[0]?(l="jump",a=s-o*c[2]):u&&h&&s>o*(1-c[0])?(l="jump",a=s-o*(1-c[2])):(a=s-o*c[1])>=0&&(a=s-o*(1-c[1]))<=0&&(a=0),a*=e.axisExpandWidth/h,a?Wk(a,n,r,"all"):l="none";else{var o=n[1]-n[0];n=[Gk(0,r[1]*s/o-o/2)],n[1]=$k(r[1],n[0]+o),n[0]=n[1]-o}return{axisExpandWindow:n,behavior:l}}},Fr.register("parallel",{create:Tf});var Zk=jD.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Fb([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=i(t);if(e)for(var n=e.length-1;n>=0;n--)Vo(e[n])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(t))return"inactive";if(1===e.length){var i=e[0];if(i[0]<=t&&t<=i[1])return"active"}else for(var n=0,o=e.length;n<o;n++)if(e[n][0]<=t&&t<=e[n][1])return"active";return"inactive"}}),Xk={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};n(Zk.prototype,xT),cI("parallel",Zk,If,Xk),jD.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){jD.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&n(e,t,!0),this._initDimensions()},contains:function(t,e){var i=t.get("parallelIndex");return null!=i&&e.getComponent("parallel",i)===this},setAxisExpand:function(t){d(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(e){t.hasOwnProperty(e)&&(this.option[e]=t[e])},this)},_initDimensions:function(){var t=this.dimensions=[],e=this.parallelAxisIndex=[];d(g(this.dependentModels.parallelAxis,function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this),function(i){t.push("dim"+i.get("dim")),e.push(i.componentIndex)})}}),As({type:"axisAreaSelect",event:"axisAreaSelected"},function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(e){e.axis.model.setActiveIntervals(t.intervals)})}),As("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(e){e.setAxisExpand(t)})});var Kk=y,Qk=d,Jk=f,tE=Math.min,eE=Math.max,iE=Math.pow,nE=1e4,oE=6,rE=6,aE="globalPan",sE={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},lE={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},hE={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},cE=0;Af.prototype={constructor:Af,enableBrush:function(t){return Nx&&L(this._mounted),this._brushType&&Ef(this),t.brushType&&kf(this,t),this},setPanels:function(t){if(t&&t.length){var e=this._panels={};d(t,function(t){e[t.panelId]=i(t)})}else this._panels=null;return this},mount:function(t){t=t||{},Nx&&(this._mounted=!0),this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){Qk(this._covers,t,e)},updateCovers:function(t){function e(t,e){return(null!=t.id?t.id:s+e)+"-"+t.brushType}function o(t,i){return e(t.__brushOption,i)}function r(e,i){var n=t[e];if(null!=i&&l[i]===u)h[e]=l[i];else{var o=h[e]=null!=i?(l[i].__brushOption=n,l[i]):Of(c,Lf(c,n));Rf(c,o)}}function a(t){l[t]!==u&&c.group.remove(l[t])}Nx&&L(this._mounted),t=f(t,function(t){return n(i(hE),t,!0)});var s="\0-brush-index-",l=this._covers,h=this._covers=[],c=this,u=this._creatingCover;return new Gs(l,t,o,e).add(r).update(r).remove(a).execute(),this},unmount:function(){if(!Nx||this._mounted)return this.enableBrush(!1),Vf(this),this._zr.remove(this.group),Nx&&(this._mounted=!1),this},dispose:function(){this.unmount(),this.off()}},c(Af,sw);var uE={mousedown:function(t){if(this._dragging)lp.call(this,t);else if(!t.target||!t.target.draggable){op(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var i=this._creatingPanel=Bf(this,t,e);i&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);if(np(this,t,e),this._dragging){op(t);var i=ap(this,t,e,!1);i&&Wf(this,i)}},mouseup:lp},dE={lineX:hp(0),lineY:hp(1),rect:{createCover:function(t,e){return Gf(Kk(Qf,function(t){return t},function(t){return t}),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=$f(t);return Zf(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,i,n){jf(t,e,i,n)},updateCommon:Yf,contain:rp},polygon:{createCover:function(t,e){var i=new Ww;return i.add(new nD({name:"main",style:qf(e),silent:!0})),i},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new iD({name:"main",draggable:!0,drift:Kk(Jf,t,e),ondragend:Kk(Wf,t,{isEnd:!0})}))},updateCoverShape:function(t,e,i,n){e.childAt(0).setShape({points:ep(t,e,i)})},updateCommon:Yf,contain:rp}},fE=["axisLine","axisTickLabel","axisName"],pE=zs({type:"parallelAxis",init:function(t,e){pE.superApply(this,"init",arguments),(this._brushController=new Af(e.getZr())).on("brush",v(this._onBrush,this))},render:function(t,e,i,n){if(!pp(t,e,n)){this.axisModel=t,this.api=i,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Ww,this.group.add(this._axisGroup),t.get("show")){var a=mp(t,e),s=a.coordinateSystem,l=t.getAreaSelectStyle(),h=l.width,c=t.axis.dim,u=s.getAxisLayout(c),f=r({strokeContainThreshold:h},u),p=new mI(t,f);d(fE,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(f,l,t,a,h,i);var g=n&&!1===n.animation?null:t;Io(o,this._axisGroup,g)}}},_refreshBrushController:function(t,e,i,n,o,r){var a=i.axis.getExtent(),s=a[1]-a[0],l=Math.min(30,.1*Math.abs(s)),h=ie.create({x:a[0],y:-o/2,width:s,height:o});h.x-=l,h.width+=2*l,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",clipPath:cp(h),isTargetByCursor:dp(h,r,n),getLinearBrushOtherExtent:up(h,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers(gp(i))},_onBrush:function(t,e){var i=this.axisModel,n=i.axis,o=f(t,function(t){return[n.coordToData(t.range[0],!0),n.coordToData(t.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:o})},dispose:function(){this._brushController.dispose()}});zs({type:"parallel",render:function(t,e,i){this._model=t,this._api=i,this._handlers||(this._handlers={},d(gE,function(t,e){i.getZr().on(e,this._handlers[e]=v(t,this))},this)),Pa(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},dispose:function(t,e){d(this._handlers,function(t,i){e.getZr().off(i,t)}),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(r({type:"parallelAxisExpand"},t))}});var gE={mousedown:function(t){vp(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(vp(this,"click")&&e){var i=[t.offsetX,t.offsetY];if(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2)>5)return;var n=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==n.behavior&&this._dispatchExpand({axisExpandWindow:n.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!this._mouseDownPoint&&vp(this,"mousemove")){var e=this._model,i=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),n=i.behavior;"jump"===n&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:i.axisExpandWindow,animation:"jump"===n&&null})}}};Cs(Hk),LM.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){var i=this.getSource();return yp(i,this),pl(i,this)},getRawIndicesByActiveState:function(t){var e=this.coordinateSystem,i=this.getData(),n=[];return e.eachActiveState(i,function(e,o){t===e&&n.push(i.getRawIndex(o))}),n},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});var mE=.3,vE=(Ia.extend({type:"parallel",init:function(){this._dataGroup=new Ww,this.group.add(this._dataGroup),this._data,this._initialized},render:function(t,e,i,n){function o(t){Dp(bp(l,s,t,u,c),l,t,d)}function r(e,i){var o=h.getItemGraphicEl(i),r=wp(l,e,u,c);l.setItemGraphicEl(e,o),So(o,{shape:{points:r}},n&&!1===n.animation?null:t,e),Dp(o,l,e,d)}function a(t){var e=h.getItemGraphicEl(t);s.remove(e)}var s=this._dataGroup,l=t.getData(),h=this._data,c=t.coordinateSystem,u=c.dimensions,d=Sp(t);if(l.diff(h).add(o).update(r).remove(a).execute(),!this._initialized){this._initialized=!0;var f=xp(c,t,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(f)}this._data=l},incrementalPrepareRender:function(t,e,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(t,e,i){for(var n=e.getData(),o=e.coordinateSystem,r=o.dimensions,a=Sp(e),s=t.start;s<t.end;s++){var l=bp(n,this._dataGroup,s,r,o);l.incremental=!0,Dp(l,n,s,a)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),["lineStyle","normal","opacity"]);Os({seriesType:"parallel",reset:function(t,e,i){function n(t,e){u.eachActiveState(e,function(t,i){var n=f[t];if("normal"===t&&e.hasItemOption){var o=e.getItemModel(i).get(vE,!0);null!=o&&(n=o)}e.setItemVisual(i,"opacity",n)},t.start,t.end)}var o=t.getModel("itemStyle"),r=t.getModel("lineStyle"),a=e.get("color"),s=r.get("color")||o.get("color")||a[t.seriesIndex%a.length],l=t.get("inactiveOpacity"),h=t.get("activeOpacity"),c=t.getModel("lineStyle").getLineStyle(),u=t.coordinateSystem,d=t.getData(),f={normal:c.opacity,active:h,inactive:l};return d.setVisual("color",s),{progress:n}}});var yE=LM.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(t){var e=t.edges||t.links,i=t.data||t.nodes;if(i&&e){return lk(i,e,this,!0).data}},setNodePosition:function(t,e){var i=this.option.data[t];i.localX=e[0],i.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,i){if("edge"===i){var n=this.getDataParams(t,i),o=n.data,r=o.source+" -- "+o.target;return n.value&&(r+=" : "+n.value),er(r)}return yE.superCall(this,"formatTooltip",t,e)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),_E=$n({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(t,e){var i=e.extent/2;t.moveTo(e.x1,e.y1-i),t.bezierCurveTo(e.cpx1,e.cpy1-i,e.cpx2,e.cpy2-i,e.x2,e.y2-i),t.lineTo(e.x2,e.y2+i),t.bezierCurveTo(e.cpx2,e.cpy2+i,e.cpx1,e.cpy1+i,e.x1,e.y1+i),t.closePath()}});Hs({type:"sankey",_model:null,render:function(t,e,i){var n=t.getGraph(),o=this.group,r=t.layoutInfo,a=r.width,s=r.height,l=t.getData(),h=t.getData("edge");this._model=t,o.removeAll(),o.attr("position",[r.x,r.y]),n.eachEdge(function(e){var i=new _E;i.dataIndex=e.dataIndex,i.seriesIndex=t.seriesIndex,i.dataType="edge";var n=e.getModel("lineStyle"),r=n.get("curveness"),l=e.node1.getLayout(),c=e.node1.getModel(),u=c.get("localX"),d=c.get("localY"),f=e.node2.getLayout(),p=e.node2.getModel(),g=p.get("localX"),m=p.get("localY"),v=e.getLayout();i.shape.extent=Math.max(1,v.dy);var y=(null!=u?u*a:l.x)+l.dx,_=(null!=d?d*s:l.y)+v.sy+v.dy/2,x=null!=g?g*a:f.x,w=(null!=m?m*s:f.y)+v.ty+v.dy/2,b=y*(1-r)+x*r,S=_,D=y*r+x*(1-r),M=w;switch(i.setShape({x1:y,y1:_,x2:x,y2:w,cpx1:b,cpy1:S,cpx2:D,cpy2:M}),i.setStyle(n.getItemStyle()),i.style.fill){case"source":i.style.fill=e.node1.getVisual("color");break;case"target":i.style.fill=e.node2.getVisual("color")}co(i,e.getModel("emphasis.lineStyle").getItemStyle()),o.add(i),h.setItemGraphicEl(e.dataIndex,i)}),n.eachNode(function(e){var i=e.getLayout(),n=e.getModel(),r=n.get("localX"),h=n.get("localY"),c=n.getModel("label"),u=n.getModel("emphasis.label"),d=new oD({shape:{x:null!=r?r*a:i.x,y:null!=h?h*s:i.y,width:i.dx,height:i.dy},style:n.getModel("itemStyle").getItemStyle()}),f=e.getModel("emphasis.itemStyle").getItemStyle();uo(d.style,f,c,u,{labelFetcher:t,labelDataIndex:e.dataIndex,defaultText:e.id,isRectText:!0}),d.setStyle("fill",e.getVisual("color")),co(d,f),o.add(d),l.setItemGraphicEl(e.dataIndex,d),d.dataType="node"}),t.get("draggable")&&l.eachItemGraphicEl(function(e,n){e.drift=function(e,o){this.shape.x+=e,this.shape.y+=o,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:l.getRawIndex(n),localX:this.shape.x/a,localY:this.shape.y/s})},e.draggable=!0,e.cursor="move"}),!this._data&&t.get("animation")&&o.setClipPath(Cp(o.getBoundingRect(),t,function(){o.removeClipPath()})),this._data=t.getData()},dispose:function(){}}),As({type:"dragNode",event:"dragNode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(e){e.setNodePosition(t.dataIndex,[t.localX,t.localY])})});var xE=function(t,e,i){t.eachSeriesByType("sankey",function(t){var i=t.get("nodeWidth"),n=t.get("nodeGap"),o=Ip(t,e);t.layoutInfo=o;var r=o.width,a=o.height,s=t.getGraph(),l=s.nodes,h=s.edges;kp(l),Ap(l,h,i,n,r,a,0!==g(l,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations"))})},wE=function(t,e){t.eachSeriesByType("sankey",function(t){var e=t.getGraph(),i=e.nodes;if(i.length){var n=1/0,o=-1/0;d(i,function(t){var e=t.getLayout().value;e<n&&(n=e),e>o&&(o=e)}),d(i,function(e){var i=new GA({type:"color",mappingMethod:"linear",dataExtent:[n,o],visual:t.get("color")}),r=i.mapValueToVisual(e.getLayout().value);e.setVisual("color",r);var a=e.getModel(),s=a.get("itemStyle.color");null!=s&&e.setVisual("color",s)})}})};Ls(xE),Os(wE);var bE={_baseAxisDim:null,getInitialData:function(t,e){var i,n,o=e.getComponent("xAxis",this.get("xAxisIndex")),r=e.getComponent("yAxis",this.get("yAxisIndex")),a=o.get("type"),s=r.get("type");"category"===a?(t.layout="horizontal",i=o.getOrdinalMeta(),n=!0):"category"===s?(t.layout="vertical",i=r.getOrdinalMeta(),n=!0):t.layout=t.layout||"horizontal";var l=["x","y"],h="horizontal"===t.layout?0:1,c=this._baseAxisDim=l[h],u=l[1-h],f=[o,r],p=f[h].get("type"),g=f[1-h].get("type"),m=t.data;if(m&&n){var v=[];d(m,function(t,e){var i;t.value&&_(t.value)?(i=t.value.slice(),t.value.unshift(e)):_(t)?(i=t.slice(),t.unshift(e)):i=t,v.push(i)}),t.data=v}var y=this.defaultValueDimensions;return OI(this,{coordDimensions:[{name:c,type:Us(p),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:u,type:Us(g),dimsDef:y.slice()}],dimensionsCount:y.length+1})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}};c(LM.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),bE,!0);var SE=["itemStyle"],DE=["emphasis","itemStyle"],ME=(Ia.extend({type:"boxplot",render:function(t,e,i){var n=t.getData(),o=this.group,r=this._data;this._data||o.removeAll();var a="horizontal"===t.get("layout")?1:0;n.diff(r).add(function(t){if(n.hasValue(t)){var e=n.getItemLayout(t),i=Zp(e,n,t,a,!0);n.setItemGraphicEl(t,i),o.add(i)}}).update(function(t,e){var i=r.getItemGraphicEl(e);if(!n.hasValue(t))return void o.remove(i);var s=n.getItemLayout(t);i?Xp(s,i,n,t):i=Zp(s,n,t,a),o.add(i),n.setItemGraphicEl(t,i)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&o.remove(e)}).execute(),this._data=n},remove:function(t){var e=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(t){t&&e.remove(t)})},dispose:H}),Ln.extend({type:"boxplotBoxPath",shape:{},buildPath:function(t,e){var i=e.points,n=0;for(t.moveTo(i[n][0],i[n][1]),n++;n<4;n++)t.lineTo(i[n][0],i[n][1]);for(t.closePath();n<i.length;n++)t.moveTo(i[n][0],i[n][1]),n++,t.lineTo(i[n][0],i[n][1])}})),CE=["itemStyle","borderColor"],TE=function(t,e){var i=t.get("color");t.eachRawSeriesByType("boxplot",function(e){var n=i[e.seriesIndex%i.length],o=e.getData();o.setVisual({legendSymbol:"roundRect",color:e.get(CE)||n}),t.isSeriesFiltered(e)||o.each(function(t){var e=o.getItemModel(t);o.setItemVisual(t,{color:e.get(CE,!0)})})})},IE=d,AE=function(t){var e=Qp(t);IE(e,function(t){var e=t.seriesModels;e.length&&(Jp(t),IE(e,function(e,i){tg(e,t.boxOffsetList[i],t.boxWidthList[i])}))})};Os(TE),Ls(AE),c(LM.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:5e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(t,e,i){var n=e.getItemLayout(t);return n&&i.rect(n.brushRect)}}),bE,!0);var kE=["itemStyle"],EE=["emphasis","itemStyle"],LE=["color","color0","borderColor","borderColor0"],OE=(Ia.extend({type:"candlestick",render:function(t,e,i){this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},incrementalPrepareRender:function(t,e,i){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,i,n){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t){var e=t.getData(),i=this._data,n=this.group,o=e.getLayout("isSimpleBox");this._data||n.removeAll(),e.diff(i).add(function(i){if(e.hasValue(i)){var r,a=e.getItemLayout(i);r=eg(a,i,!0),Do(r,{shape:{points:a.ends}},t,i),ig(r,e,i,o),n.add(r),e.setItemGraphicEl(i,r)}}).update(function(r,a){var s=i.getItemGraphicEl(a);if(!e.hasValue(r))return void n.remove(s);var l=e.getItemLayout(r);s?So(s,{shape:{points:l.ends}},t,r):s=eg(l,r),ig(s,e,r,o),n.add(s),e.setItemGraphicEl(r,s)}).remove(function(t){var e=i.getItemGraphicEl(t);e&&n.remove(e)}).execute(),this._data=e},_renderLarge:function(t){this._clear(),og(t,this.group)},_incrementalRenderNormal:function(t,e){for(var i,n=e.getData(),o=n.getLayout("isSimpleBox");null!=(i=t.next());){var r;r=eg(n.getItemLayout(i),i),ig(r,n,i,o),r.incremental=!0,this.group.add(r)}},_incrementalRenderLarge:function(t,e){og(e,this.group,!0)},remove:function(t){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:H}),Ln.extend({type:"normalCandlestickBox",shape:{},buildPath:function(t,e){var i=e.points;this.__simpleBox?(t.moveTo(i[4][0],i[4][1]),t.lineTo(i[6][0],i[6][1])):(t.moveTo(i[0][0],i[0][1]),t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]),t.lineTo(i[3][0],i[3][1]),t.closePath(),t.moveTo(i[4][0],i[4][1]),t.lineTo(i[5][0],i[5][1]),t.moveTo(i[6][0],i[6][1]),t.lineTo(i[7][0],i[7][1]))}})),PE=Ln.extend({type:"largeCandlestickBox",shape:{},buildPath:function(t,e){for(var i=e.points,n=0;n<i.length;)if(this.__sign===i[n++]){var o=i[n++];t.moveTo(o,i[n++]),t.lineTo(o,i[n++])}else n+=3}}),NE=function(t){t&&_(t.series)&&d(t.series,function(t){b(t)&&"k"===t.type&&(t.type="candlestick")})},RE=["itemStyle","borderColor"],zE=["itemStyle","borderColor0"],BE=["itemStyle","color"],HE=["itemStyle","color0"],VE={seriesType:"candlestick",plan:NM(),performRawSeries:!0,reset:function(t,e){function i(t,e){for(var i;null!=(i=t.next());){var r=e.getItemModel(i),a=e.getItemLayout(i).sign;e.setItemVisual(i,{color:n(a,r),borderColor:o(a,r)})}}function n(t,e){return e.get(t>0?BE:HE)}function o(t,e){return e.get(t>0?RE:zE)}var r=t.getData(),a=t.pipelineContext.large;if(r.setVisual({legendSymbol:"roundRect",colorP:n(1,t),colorN:n(-1,t),borderColorP:o(1,t),borderColorN:o(-1,t)}),!e.isSeriesFiltered(t))return!a&&{progress:i}}},WE="undefined"!=typeof Float32Array?Float32Array:Array,FE={seriesType:"candlestick",plan:NM(),reset:function(t){function e(t,e){function i(t,e){var i=[];return i[a]=e,i[s]=t,isNaN(e)||isNaN(t)?[NaN,NaN]:n.dataToPoint(i)}function o(t,e,i){var n=e.slice(),o=e.slice();n[a]=Kn(n[a]+r/2,1,!1),o[a]=Kn(o[a]-r/2,1,!0),i?t.push(n,o):t.push(o,n)}function l(t){return t[a]=Kn(t[a],1),t}for(var c;null!=(c=t.next());){var g=e.get(h,c),m=e.get(u,c),v=e.get(d,c),y=e.get(f,c),_=e.get(p,c),x=Math.min(m,v),w=Math.max(m,v),b=i(x,g),S=i(w,g),D=i(y,g),M=i(_,g),C=[];o(C,S,0),o(C,b,1),C.push(l(M),l(S),l(D),l(b)),e.setItemLayout(c,{sign:ag(e,c,m,v,d),initBaseline:m>v?S[s]:b[s],ends:C,brushRect:function(t,e,n){var o=i(t,n),l=i(e,n);return o[a]-=r/2,l[a]-=r/2,{x:o[0],y:o[1],width:s?r:l[0]-o[0],height:s?l[1]-o[1]:r}}(y,_,g)})}}function i(t,e){for(var i,o,r=new WE(5*t.count),l=0,c=[],g=[];null!=(o=t.next());){var m=e.get(h,o),v=e.get(u,o),y=e.get(d,o),_=e.get(f,o),x=e.get(p,o);isNaN(m)||isNaN(_)||isNaN(x)?(r[l++]=NaN,l+=4):(r[l++]=ag(e,o,v,y,d),c[a]=m,c[s]=_,i=n.dataToPoint(c,null,g),r[l++]=i?i[0]:NaN,r[l++]=i?i[1]:NaN,c[s]=x,i=n.dataToPoint(c,null,g),r[l++]=i?i[1]:NaN)}e.setLayout("largePoints",r)}var n=t.coordinateSystem,o=t.getData(),r=sg(t,o),a=0,s=1,l=["x","y"],h=o.mapDimension(l[a]),c=o.mapDimension(l[s],!0),u=c[0],d=c[1],f=c[2],p=c[3];if(o.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(null==h||c.length<4))return{progress:t.pipelineContext.large?i:e}}};Cs(NE),Os(VE),Ls(FE),LM.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){return pl(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});var $E=cg.prototype;$E.stopEffectAnimation=function(){this.childAt(1).removeAll()},$E.startEffectAnimation=function(t){for(var e=t.symbolType,i=t.color,n=this.childAt(1),o=0;o<3;o++){var r=ql(e,-1,-1,2,2,i);r.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var a=-o/3*t.period+t.effectOffset;r.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(a).start(),r.animateStyle(!0).when(t.period,{opacity:0}).delay(a).start(),n.add(r)}hg(n,t)},$E.updateEffectAnimation=function(t){for(var e=this._effectCfg,i=this.childAt(1),n=["symbolType","period","rippleScale"],o=0;o<n.length;o++){var r=n[o];if(e[r]!==t[r])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}hg(i,t)},$E.highlight=function(){this.trigger("emphasis")},$E.downplay=function(){this.trigger("normal")},$E.updateData=function(t,e){var i=t.hostModel;this.childAt(0).updateData(t,e);var n=this.childAt(1),o=t.getItemModel(e),r=t.getItemVisual(e,"symbol"),a=lg(t.getItemVisual(e,"symbolSize")),s=t.getItemVisual(e,"color");n.attr("scale",a),n.traverse(function(t){t.attr({fill:s})});var l=o.getShallow("symbolOffset");if(l){var h=n.position;h[0]=Bo(l[0],a[0]),h[1]=Bo(l[1],a[1])}n.rotation=(o.getShallow("symbolRotate")||0)*Math.PI/180||0;var c={};if(c.showEffectOn=i.get("showEffectOn"),c.rippleScale=o.get("rippleEffect.scale"),c.brushType=o.get("rippleEffect.brushType"),c.period=1e3*o.get("rippleEffect.period"),c.effectOffset=e/t.count(),c.z=o.getShallow("z")||0,c.zlevel=o.getShallow("zlevel")||0,c.symbolType=r,c.color=s,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===c.showEffectOn)this._effectCfg?this.updateEffectAnimation(c):this.startEffectAnimation(c),this._effectCfg=c;else{this._effectCfg=null,this.stopEffectAnimation();var u=this.childAt(0),d=function(){u.highlight(),"render"!==c.showEffectOn&&this.startEffectAnimation(c)},f=function(){u.downplay(),"render"!==c.showEffectOn&&this.stopEffectAnimation()};this.on("mouseover",d,this).on("mouseout",f,this).on("emphasis",d,this).on("normal",f,this)}this._effectCfg=c},$E.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},h(cg,Ww),Hs({type:"effectScatter",init:function(){this._symbolDraw=new Dh(cg)},render:function(t,e,i){var n=t.getData(),o=this._symbolDraw;o.updateData(n),this.group.add(o.group)},updateTransform:function(t,e,i){var n=t.getData();this.group.dirty();var o=iI().reset(t);o.progress&&o.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateGroupTransform:function(t){var e=t.coordinateSystem;e&&e.getRoamTransform&&(this.group.transform=xt(e.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}}),Os(eI("effectScatter","circle")),Ls(iI("effectScatter"));var GE="undefined"==typeof Uint32Array?Array:Uint32Array,jE="undefined"==typeof Float64Array?Array:Float64Array,YE=LM.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],ug(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),YE.superApply(this,"init",arguments)},mergeOption:function(t){if(t.data=t.data||[],ug(t),t.data){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))}YE.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=B(this._flatCoords,e.flatCoords),this._flatCoordsOffset=B(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t),i=e.option instanceof Array?e.option:e.getShallow("coords");if(Nx&&!(i instanceof Array&&i.length>0&&i[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(i)+". Lines must have 2d coords array in data item.");return i},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*t],n=this._flatCoordsOffset[2*t+1],o=0;o<n;o++)e[o]=e[o]||[],e[o][0]=this._flatCoords[i+2*o],e[o][1]=this._flatCoords[i+2*o+1];return n}for(var r=this._getCoordsFromItemModel(t),o=0;o<r.length;o++)e[o]=e[o]||[],e[o][0]=r[o][0],e[o][1]=r[o][1];return r.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"==typeof t[0]){for(var i=t.length,n=new GE(i),o=new jE(i),r=0,a=0,s=0,l=0;l<i;){s++;var h=t[l++];n[a++]=r+e,n[a++]=h;for(var c=0;c<h;c++){var u=t[l++],d=t[l++];if(o[r++]=u,o[r++]=d,l>i&&Nx)throw new Error("Invalid data format.")}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,a),flatCoords:o,count:s}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){if(Nx){if(!Fr.get(t.coordinateSystem))throw new Error("Unkown coordinate system "+t.coordinateSystem)}var i=new YC(["value"],this);return i.hasItemOption=!1,i.initData(t.data,[],function(t,e,n,o){if(t instanceof Array)return NaN;i.hasItemOption=!0;var r=t.value;return null!=r?r instanceof Array?r[o]:r:void 0}),i},formatTooltip:function(t){var e=this.getData(),i=e.getItemModel(t),n=i.get("name");if(n)return n;var o=i.get("fromName"),r=i.get("toName"),a=[];return null!=o&&a.push(o),null!=r&&a.push(r),er(a.join(" > "))},preventIncremental:function(){
return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),UE=dg.prototype;UE.createLine=function(t,e,i){return new Zd(t,e,i)},UE._updateEffectSymbol=function(t,e){var i=t.getItemModel(e),n=i.getModel("effect"),o=n.get("symbolSize"),r=n.get("symbol");_(o)||(o=[o,o]);var a=n.get("color")||t.getItemVisual(e,"color"),s=this.childAt(1);this._symbolType!==r&&(this.remove(s),s=ql(r,-.5,-.5,1,1,a),s.z2=100,s.culling=!0,this.add(s)),s&&(s.setStyle("shadowColor",a),s.setStyle(n.getItemStyle(["color"])),s.attr("scale",o),s.setColor(a),s.attr("scale",o),this._symbolType=r,this._updateEffectAnimation(t,n,e))},UE._updateEffectAnimation=function(t,e,i){var n=this.childAt(1);if(n){var o=this,r=t.getItemLayout(i),a=1e3*e.get("period"),s=e.get("loop"),l=e.get("constantSpeed"),h=T(e.get("delay"),function(e){return e/t.count()*a/3}),c="function"==typeof h;if(n.ignore=!0,this.updateAnimationPoints(n,r),l>0&&(a=this.getLineLength(n)/l*1e3),a!==this._period||s!==this._loop){n.stopAnimation();var u=h;c&&(u=h(i)),n.__t>0&&(u=-a*n.__t),n.__t=0;var d=n.animate("",s).when(a,{__t:1}).delay(u).during(function(){o.updateSymbolPosition(n)});s||d.done(function(){o.remove(n)}),d.start()}this._period=a,this._loop=s}},UE.getLineLength=function(t){return nw(t.__p1,t.__cp1)+nw(t.__cp1,t.__p2)},UE.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},UE.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e)},UE.updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,n=t.__cp1,o=t.__t,r=t.position,a=sn,s=ln;r[0]=a(e[0],n[0],i[0],o),r[1]=a(e[1],n[1],i[1],o);var l=s(e[0],n[0],i[0],o),h=s(e[1],n[1],i[1],o);t.rotation=-Math.atan2(h,l)-Math.PI/2,t.ignore=!1},UE.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,i,e)},h(dg,Ww);var qE=fg.prototype;qE._createPolyline=function(t,e,i){var n=t.getItemLayout(e),o=new nD({shape:{points:n}});this.add(o),this._updateCommonStl(t,e,i)},qE.updateData=function(t,e,i){var n=t.hostModel;So(this.childAt(0),{shape:{points:t.getItemLayout(e)}},n,e),this._updateCommonStl(t,e,i)},qE._updateCommonStl=function(t,e,i){var n=this.childAt(0),o=t.getItemModel(e),r=t.getItemVisual(e,"color"),s=i&&i.lineStyle,l=i&&i.hoverLineStyle;i&&!t.hasItemOption||(s=o.getModel("lineStyle").getLineStyle(),l=o.getModel("emphasis.lineStyle").getLineStyle()),n.useStyle(a({strokeNoScale:!0,fill:"none",stroke:r},s)),n.hoverStyle=l,co(this)},qE.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},h(fg,Ww);var ZE=pg.prototype;ZE.createLine=function(t,e,i){return new fg(t,e,i)},ZE.updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],n=0,o=1;o<e.length;o++){var r=e[o-1],a=e[o];n+=nw(r,a),i.push(n)}if(0!==n){for(var o=0;o<i.length;o++)i[o]/=n;this._offsets=i,this._length=n}},ZE.getLineLength=function(t){return this._length},ZE.updateSymbolPosition=function(t){var e=t.__t,i=this._points,n=this._offsets,o=i.length;if(n){var r,a=this._lastFrame;if(e<this._lastFramePercent){var s=Math.min(a+1,o-1);for(r=s;r>=0&&!(n[r]<=e);r--);r=Math.min(r,o-2)}else{for(var r=a;r<o&&!(n[r]>e);r++);r=Math.min(r-1,o-2)}nt(t.position,i[r],i[r+1],(e-n[r])/(n[r+1]-n[r]));var l=i[r+1][0]-i[r][0],h=i[r+1][1]-i[r][1];t.rotation=-Math.atan2(h,l)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=e,t.ignore=!1}},h(pg,dg);var XE=$n({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var i=e.segs,n=e.curveness;if(e.polyline)for(var o=0;o<i.length;){var r=i[o++];if(r>0){t.moveTo(i[o++],i[o++]);for(var a=1;a<r;a++)t.lineTo(i[o++],i[o++])}}else for(var o=0;o<i.length;){var s=i[o++],l=i[o++],h=i[o++],c=i[o++];if(t.moveTo(s,l),n>0){var u=(s+h)/2-(l-c)*n,d=(l+c)/2-(h-s)*n;t.quadraticCurveTo(u,d,h,c)}else t.lineTo(h,c)}},findDataIndex:function(t,e){var i=this.shape,n=i.segs,o=i.curveness;if(i.polyline)for(var r=0,a=0;a<n.length;){var s=n[a++];if(s>0)for(var l=n[a++],h=n[a++],c=1;c<s;c++){var u=n[a++],d=n[a++];if(yn(l,h,u,d))return r}r++}else for(var r=0,a=0;a<n.length;){var l=n[a++],h=n[a++],u=n[a++],d=n[a++];if(o>0){var f=(l+u)/2-(h-d)*o,p=(h+d)/2-(u-l)*o;if(xn(l,h,f,p,u,d))return r}else if(yn(l,h,u,d))return r;r++}return-1}}),KE=gg.prototype;KE.isPersistent=function(){return!this._incremental},KE.updateData=function(t){this.group.removeAll();var e=new XE({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},KE.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),t.count()>5e5?(this._incremental||(this._incremental=new Fn({silent:!0})),this.group.add(this._incremental)):this._incremental=null},KE.incrementalUpdate=function(t,e){var i=new XE;i.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(i,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=t.start,this.group.add(i))},KE.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},KE._setCommon=function(t,e,i){var n=e.hostModel;t.setShape({polyline:n.get("polyline"),curveness:n.get("lineStyle.curveness")}),t.useStyle(n.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("color");o&&t.setStyle("stroke",o),t.setStyle("fill"),i||(t.seriesIndex=n.seriesIndex,t.on("mousemove",function(e){t.dataIndex=null;var i=t.findDataIndex(e.offsetX,e.offsetY);i>0&&(t.dataIndex=i+t.__startIndex)}))},KE._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var QE={seriesType:"lines",plan:NM(),reset:function(t){function e(e,r){var a=[];if(o){var s,l=e.end-e.start;if(n){for(var h=0,c=e.start;c<e.end;c++)h+=t.getLineCoordsCount(c);s=new Float32Array(l+2*h)}else s=new Float32Array(4*l);for(var u=0,d=[],c=e.start;c<e.end;c++){var f=t.getLineCoords(c,a);n&&(s[u++]=f);for(var p=0;p<f;p++)d=i.dataToPoint(a[p],!1,d),s[u++]=d[0],s[u++]=d[1]}r.setLayout("linesPoints",s)}else for(var c=e.start;c<e.end;c++){var g=r.getItemModel(c),f=t.getLineCoords(c,a),m=[];if(n)for(var v=0;v<f;v++)m.push(i.dataToPoint(a[v]));else{m[0]=i.dataToPoint(a[0]),m[1]=i.dataToPoint(a[1]);var y=g.get("lineStyle.curveness");+y&&(m[2]=[(m[0][0]+m[1][0])/2-(m[0][1]-m[1][1])*y,(m[0][1]+m[1][1])/2-(m[1][0]-m[0][0])*y])}r.setItemLayout(c,m)}}var i=t.coordinateSystem,n=t.get("polyline"),o=t.pipelineContext.large;return{progress:e}}};Hs({type:"lines",init:function(){},render:function(t,e,i){var n=t.getData(),o=this._updateLineDraw(n,t),r=t.get("zlevel"),a=t.get("effect.trailLength"),s=i.getZr(),l="svg"===s.painter.getType();if(l||s.painter.getLayer(r).clear(!0),null==this._lastZlevel||l||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a){if(Nx){var h=!1;e.eachSeries(function(e){e!==t&&e.get("zlevel")===r&&(h=!0)}),h&&console.warn("Lines with trail effect should have an individual zlevel")}l||s.configLayer(r,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})}o.updateData(n),this._lastZlevel=r,this._finished=!0},incrementalPrepareRender:function(t,e,i){var n=t.getData();this._updateLineDraw(n,t).incrementalPrepareUpdate(n),this._clearLayer(i),this._finished=!1},incrementalRender:function(t,e,i){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var n=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var r=QE.reset(t);r.progress&&r.progress({start:0,end:n.count()},n),this._lineDraw.updateLayout(),this._clearLayer(i)},_updateLineDraw:function(t,e){var i=this._lineDraw,n=this._showEffect(e),o=!!e.get("polyline"),r=e.pipelineContext,a=r.large;return Nx&&n&&a&&console.warn("Large lines not support effect"),i&&n===this._hasEffet&&o===this._isPolyline&&a===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=a?new gg:new Xd(o?n?pg:fg:n?dg:Zd),this._hasEffet=n,this._isPolyline=o,this._isLargeDraw=a,this.group.removeAll()),this.group.add(i.group),i},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){var e=t.getZr();"svg"===e.painter.getType()||null==this._lastZlevel||e.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});var JE="lineStyle.opacity".split("."),tL={seriesType:"lines",reset:function(t,e,i){function n(t,e){var i=t.getItemModel(e),n=mg(i.getShallow("symbol",!0)),o=mg(i.getShallow("symbolSize",!0)),r=i.get(JE);n[0]&&t.setItemVisual(e,"fromSymbol",n[0]),n[1]&&t.setItemVisual(e,"toSymbol",n[1]),o[0]&&t.setItemVisual(e,"fromSymbolSize",o[0]),o[1]&&t.setItemVisual(e,"toSymbolSize",o[1]),t.setItemVisual(e,"opacity",r)}var o=mg(t.get("symbol")),r=mg(t.get("symbolSize")),a=t.getData();return a.setVisual("fromSymbol",o&&o[0]),a.setVisual("toSymbol",o&&o[1]),a.setVisual("fromSymbolSize",r&&r[0]),a.setVisual("toSymbolSize",r&&r[1]),a.setVisual("opacity",t.get(JE)),{dataEach:a.hasItemOption?n:null}}};Ls(QE),Os(tL),LM.extend({type:"series.heatmap",getInitialData:function(t,e){return pl(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var t=Fr.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}});vg.prototype={update:function(t,e,i,n,o,r){var a=this._getBrush(),s=this._getGradient(t,o,"inRange"),l=this._getGradient(t,o,"outOfRange"),h=this.pointSize+this.blurSize,c=this.canvas,u=c.getContext("2d"),d=t.length;c.width=e,c.height=i;for(var f=0;f<d;++f){var p=t[f],g=p[0],m=p[1],v=p[2],y=n(v);u.globalAlpha=y,u.drawImage(a,g-h,m-h)}if(!c.width||!c.height)return c;for(var _=u.getImageData(0,0,c.width,c.height),x=_.data,w=0,b=x.length,S=this.minOpacity,D=this.maxOpacity,M=D-S;w<b;){var y=x[w+3]/256,C=4*Math.floor(255*y);if(y>0){var T=r(y)?s:l;y>0&&(y=y*M+S),x[w++]=T[C],x[w++]=T[C+1],x[w++]=T[C+2],x[w++]=T[C+3]*y*256}else w+=4}return u.putImageData(_,0,0),c},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=Xx()),e=this.pointSize+this.blurSize,i=2*e;t.width=i,t.height=i;var n=t.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-e,e,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),t},_getGradient:function(t,e,i){for(var n=this._gradientPixels,o=n[i]||(n[i]=new Uint8ClampedArray(1024)),r=[0,0,0,0],a=0,s=0;s<256;s++)e[i](s/255,!0,r),o[a++]=r[0],o[a++]=r[1],o[a++]=r[2],o[a++]=r[3];return o}},Hs({type:"heatmap",render:function(t,e,i){var n;if(e.eachComponent("visualMap",function(e){e.eachTargetSeries(function(i){i===t&&(n=e)})}),Nx&&!n)throw new Error("Heatmap must use with visualMap");this.group.removeAll(),this._incrementalDisplayable=null;var o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(t,i,0,t.getData().count()):xg(o)&&this._renderOnGeo(o,t,n,i)},incrementalPrepareRender:function(t,e,i){this.group.removeAll()},incrementalRender:function(t,e,i,n){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,n,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,i,n,o){var a,s,l=t.coordinateSystem;if("cartesian2d"===l.type){var h=l.getAxis("x"),c=l.getAxis("y");if(Nx){if("category"!==h.type||"category"!==c.type)throw new Error("Heatmap on cartesian must have two category axes");if(!h.onBand||!c.onBand)throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}a=h.getBandWidth(),s=c.getBandWidth()}for(var u=this.group,d=t.getData(),f=t.getModel("itemStyle").getItemStyle(["color"]),p=t.getModel("emphasis.itemStyle").getItemStyle(),g=t.getModel("label"),m=t.getModel("emphasis.label"),v=l.type,y="cartesian2d"===v?[d.mapDimension("x"),d.mapDimension("y"),d.mapDimension("value")]:[d.mapDimension("time"),d.mapDimension("value")],_=i;_<n;_++){var x;if("cartesian2d"===v){if(isNaN(d.get(y[2],_)))continue;var w=l.dataToPoint([d.get(y[0],_),d.get(y[1],_)]);x=new oD({shape:{x:w[0]-a/2,y:w[1]-s/2,width:a,height:s},style:{fill:d.getItemVisual(_,"color"),opacity:d.getItemVisual(_,"opacity")}})}else{if(isNaN(d.get(y[1],_)))continue;x=new oD({z2:1,shape:l.dataToRect([d.get(y[0],_)]).contentShape,style:{fill:d.getItemVisual(_,"color"),opacity:d.getItemVisual(_,"opacity")}})}var b=d.getItemModel(_);d.hasItemOption&&(f=b.getModel("itemStyle").getItemStyle(["color"]),p=b.getModel("emphasis.itemStyle").getItemStyle(),g=b.getModel("label"),m=b.getModel("emphasis.label"));var S=t.getRawValue(_),D="-";S&&null!=S[2]&&(D=S[2]),uo(f,p,g,m,{labelFetcher:t,labelDataIndex:_,defaultText:D,isRectText:!0}),x.setStyle(f),co(x,d.hasItemOption?p:r({},p)),x.incremental=o,o&&(x.useHoverLayer=!0),u.add(x),d.setItemGraphicEl(_,x)}},_renderOnGeo:function(t,e,i,n){var o=i.targetVisuals.inRange,r=i.targetVisuals.outOfRange,a=e.getData(),s=this._hmLayer||this._hmLayer||new vg;s.blurSize=e.get("blurSize"),s.pointSize=e.get("pointSize"),s.minOpacity=e.get("minOpacity"),s.maxOpacity=e.get("maxOpacity");var l=t.getViewRect().clone(),h=t.getRoamTransform();l.applyTransform(h);var c=Math.max(l.x,0),u=Math.max(l.y,0),d=Math.min(l.width+l.x,n.getWidth()),f=Math.min(l.height+l.y,n.getHeight()),p=d-c,g=f-u,m=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],v=a.mapArray(m,function(e,i,n){var o=t.dataToPoint([e,i]);return o[0]-=c,o[1]-=u,o.push(n),o}),y=i.getExtent(),_="visualMap.continuous"===i.type?_g(y,i.option.range):yg(y,i.getPieceList(),i.option.selected);s.update(v,p,g,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:r.color.getColorMapper()},_);var x=new ni({style:{width:p,height:g,x:c,y:u,image:s.canvas},silent:!0});this.group.add(x)},dispose:function(){}});var eL=CI.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,eL.superApply(this,"getInitialData",arguments)}}),iL=["itemStyle","borderWidth"],nL=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],oL=new ZS;Hs({type:"pictorialBar",render:function(t,e,i){var n=this.group,o=t.getData(),r=this._data,a=t.coordinateSystem,s=a.getBaseAxis(),l=!!s.isHorizontal(),h=a.grid.getRect(),c={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:t,coordSys:a,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:l,valueDim:nL[+l],categoryDim:nL[1-l]};return o.diff(r).add(function(t){if(o.hasValue(t)){var e=Lg(o,t),i=wg(o,t,e,c),r=Rg(o,c,i);o.setItemGraphicEl(t,r),n.add(r),Fg(r,c,i)}}).update(function(t,e){var i=r.getItemGraphicEl(e);if(!o.hasValue(t))return void n.remove(i);var a=Lg(o,t),s=wg(o,t,a,c),l=Hg(o,s);i&&l!==i.__pictorialShapeStr&&(n.remove(i),o.setItemGraphicEl(t,null),i=null),i?zg(i,c,s):i=Rg(o,c,s,!0),o.setItemGraphicEl(t,i),i.__pictorialSymbolMeta=s,n.add(i),Fg(i,c,s)}).remove(function(t){var e=r.getItemGraphicEl(t);e&&Bg(r,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=o,this.group},dispose:H,remove:function(t,e){var i=this.group,n=this._data;t.get("animation")?n&&n.eachItemGraphicEl(function(e){Bg(n,e.dataIndex,t,e)}):i.removeAll()}});Ls(y(Ol,"pictorialBar")),Os(eI("pictorialBar","roundRect"));var rL=function(t,e,i,n,o){NT.call(this,t,e,i),this.type=n||"value",this.position=o||"bottom",this.orient=null};rL.prototype={constructor:rL,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},h(rL,NT),Gg.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:Gg,_init:function(t,e,i){var n=this.dimension,o=new rL(n,Wl(t),[0,0],t.get("type"),t.get("position")),r="category"===o.type;o.onBand=r&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},update:function(t,e){t.eachSeries(function(t){if(t.coordinateSystem===this){var e=t.getData();d(e.mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(e,t)},this),Vl(this._axis.scale,this._axis.model)}},this)},resize:function(t,e){this._rect=cr({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,i=e.isHorizontal(),n=i?[0,t.width]:[0,t.height],o=e.reverse?1:0;e.setExtent(n[o],n[1-o]),this._updateAxisTransform(e,i?t.x:t.y)},_updateAxisTransform:function(t,e){var i=t.getExtent(),n=i[0]+i[1],o=t.isHorizontal();t.toGlobalCoord=o?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord=o?function(t){return t-e}:function(t){return n-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),i=this.getAxis();return"horizontal"===i.orient?i.contain(i.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:i.contain(i.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),i=this.getRect(),n=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),n[o]=e.toGlobalCoord(e.dataToCoord(+t)),n[1-o]=0===o?i.y+i.height/2:i.x+i.width/2,n}},Fr.register("single",{create:jg,dimensions:Gg.prototype.dimensions});var aL=["axisLine","axisTickLabel","axisName"],sL=wI.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(t,e,i,n){var o=this.group;o.removeAll();var r=Yg(t),a=new mI(t,r);d(aL,a.add,a),o.add(a.getGroup()),t.get("splitLine.show")&&this._splitLine(t),sL.superCall(this,"render",t,e,i,n)},_splitLine:function(t){var e=t.axis;if(!e.scale.isBlank()){var i=t.getModel("splitLine"),n=i.getModel("lineStyle"),o=n.get("width"),r=n.get("color");r=r instanceof Array?r:[r];for(var a=t.coordinateSystem.getRect(),s=e.isHorizontal(),l=[],h=0,c=e.getTicksCoords({tickModel:i}),u=[],d=[],f=0;f<c.length;++f){var p=e.toGlobalCoord(c[f].coord);s?(u[0]=p,u[1]=a.y,d[0]=p,d[1]=a.y+a.height):(u[0]=a.x,u[1]=p,d[0]=a.x+a.width,d[1]=p);var g=h++%r.length;l[g]=l[g]||[],l[g].push(new rD(Zn({shape:{x1:u[0],y1:u[1],x2:d[0],y2:d[1]},style:{lineWidth:o},silent:!0})))}for(var f=0;f<l.length;++f)this.group.add(yD(l[f],{style:{stroke:r[f%r.length],lineDash:n.getLineDash(o),lineWidth:o},silent:!0}))}}}),lL=jD.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}}),hL={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};n(lL.prototype,xT),cI("single",lL,Ug,hL);var cL=function(t,e){var i,n=[],o=t.seriesIndex;if(null==o||!(i=e.getSeriesByIndex(o)))return{point:[]};var r=i.getData(),a=Hi(r,t);if(null==a||a<0||_(a))return{point:[]};var s=r.getItemGraphicEl(a),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)n=l.dataToPoint(r.getValues(f(l.dimensions,function(t){return r.mapDimension(t)}),a,!0))||[];else if(s){var h=s.getBoundingRect().clone();h.applyTransform(s.transform),n=[h.x+h.width/2,h.y+h.height/2]}return{point:n,el:s}},uL=d,dL=y,fL=Vi(),pL=function(t,e,i){var n=t.currTrigger,o=[t.x,t.y],r=t,a=t.dispatchAction||v(i.dispatchAction,i),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){nm(o)&&(o=cL({seriesIndex:r.seriesIndex,dataIndex:r.dataIndex},e).point);var l=nm(o),h=r.axesInfo,c=s.axesInfo,u="leave"===n||nm(o),d={},f={},p={list:[],map:{}},g={showPointer:dL(Xg,f),showTooltip:dL(Kg,p)};uL(s.coordSysMap,function(t,e){var i=l||t.containPoint(o);uL(s.coordSysAxesInfo[e],function(t,e){var n=t.axis,r=em(h,t);if(!u&&i&&(!h||r)){var a=r&&r.value;null!=a||l||(a=n.pointToData(o)),null!=a&&qg(t,a,g,!1,d)}})});var m={};return uL(c,function(t,e){var i=t.linkGroup;i&&!f[e]&&uL(i.axesInfo,function(e,n){var o=f[n];if(e!==t&&o){var r=o.value;i.mapper&&(r=t.axis.scale.parse(i.mapper(r,im(e),im(t)))),m[t.key]=r}})}),uL(m,function(t,e){qg(c[e],t,g,!0,d)}),Qg(f,c,d),Jg(p,o,t,a),tm(c,a,i),d}},gL=(Rs({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),Vi()),mL=d,vL=zs({type:"axisPointer",render:function(t,e,i){var n=e.getComponent("tooltip"),o=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";om("axisPointer",i,function(t,e,i){"none"!==o&&("leave"===t||o.indexOf(t)>=0)&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){cm(e.getZr(),"axisPointer"),vL.superApply(this._model,"remove",arguments)},dispose:function(t,e){cm("axisPointer",e),vL.superApply(this._model,"dispose",arguments)}}),yL=Vi(),_L=i,xL=v;um.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,i,n){var o=e.get("value"),r=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==o||this._lastStatus!==r){this._lastValue=o,this._lastStatus=r;var a=this._group,s=this._handle;if(!r||"hide"===r)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,o,t,e,i);var h=l.graphicKey;h!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=h;var c=this._moveAnimation=this.determineAnimation(t,e);if(a){var u=y(dm,e,c);this.updatePointerEl(a,l,u,e),this.updateLabelEl(a,l,u,e)}else a=this._group=new Ww,this.createPointerEl(a,l,t,e),this.createLabelEl(a,l,t,e),i.getZr().add(a);mm(a,e,!0),this._renderHandle(o)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var i=e.get("animation"),n=t.axis,o="category"===n.type,r=e.get("snap");if(!r&&!o)return!1;if("auto"===i||null==i){var a=this.animationThreshold;if(o&&n.getBandWidth()>a)return!0;if(r){var s=xc(t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===i},makeElOption:function(t,e,i,n,o){},createPointerEl:function(t,e,i,n){var o=e.pointer;if(o){var r=yL(t).pointerEl=new _D[o.type](_L(e.pointer));t.add(r)}},createLabelEl:function(t,e,i,n){if(e.label){var o=yL(t).labelEl=new oD(_L(e.label));t.add(o),pm(o,n)}},updatePointerEl:function(t,e,i){var n=yL(t).pointerEl;n&&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,i,n){var o=yL(t).labelEl;o&&(o.setStyle(e.label.style),i(o,{shape:e.label.shape,position:e.label.position}),pm(o,n))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e=this._axisPointerModel,i=this._api.getZr(),n=this._handle,o=e.getModel("handle"),r=e.get("status");if(!o.get("show")||!r||"hide"===r)return n&&i.remove(n),void(this._handle=null);var a;this._handle||(a=!0,n=this._handle=Eo(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){vb(t.event)},onmousedown:xL(this._onHandleDragMove,this,0,0),drift:xL(this._onHandleDragMove,this),ondragend:xL(this._onHandleDragEnd,this)}),i.add(n)),mm(n,e,!1);var s=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];n.setStyle(o.getItemStyle(null,s));var l=o.get("size");_(l)||(l=[l,l]),n.attr("scale",[l[0]/2,l[1]/2]),Pa(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,a)}},_moveHandleToValue:function(t,e){dm(this._axisPointerModel,!e&&this._moveAnimation,this._handle,gm(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(gm(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(gm(n)),yL(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,i){return i=i||0,{x:t[i],y:t[1-i],width:e[i],height:e[1-i]}}},um.prototype.constructor=um,Ui(um);var wL=um.extend({makeElOption:function(t,e,i,n,o){var r=i.axis,a=r.grid,s=n.get("type"),l=Cm(a,r).getOtherAxis(r).getGlobalExtent(),h=r.toGlobalCoord(r.dataToCoord(e,!0));if(s&&"none"!==s){var c=vm(n),u=bL[s](r,h,l,c);u.style=c,t.graphicKey=u.type,t.pointer=u}bm(e,t,Cc(a.model,i),i,n,o)},getHandleTransform:function(t,e,i){var n=Cc(e.axis.grid.model,e,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:wm(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var o=i.axis,r=o.grid,a=o.getGlobalExtent(!0),s=Cm(r,o).getOtherAxis(o).getGlobalExtent(),l="x"===o.dim?0:1,h=t.position;h[l]+=e[l],h[l]=Math.min(a[1],h[l]),h[l]=Math.max(a[0],h[l]);var c=(s[1]+s[0])/2,u=[c,c];u[l]=h[l];var d=[{verticalAlign:"middle"},{align:"center"}];return{position:h,rotation:t.rotation,cursorPoint:u,tooltipOption:d[l]}}}),bL={line:function(t,e,i,n){var o=Sm([e,i[0]],[e,i[1]],Tm(t));return Zn({shape:o,style:n}),{type:"Line",shape:o}},shadow:function(t,e,i,n){var o=Math.max(1,t.getBandWidth()),r=i[1]-i[0];return{type:"Rect",shape:Dm([e-o/2,i[0]],[o,r],Tm(t))}}};wI.registerAxisPointerClass("CartesianAxisPointer",wL),Cs(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!_(e)&&(t.axisPointer.link=[e])}}),Ts(gC.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=fc(t,e)}),As({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},pL);var SL=["x","y"],DL=["width","height"],ML=um.extend({makeElOption:function(t,e,i,n,o){var r=i.axis,a=r.coordinateSystem,s=Am(a,1-Im(r)),l=a.dataToPoint(e)[0],h=n.get("type");if(h&&"none"!==h){var c=vm(n),u=CL[h](r,l,s,c);u.style=c,t.graphicKey=u.type,t.pointer=u}bm(e,t,Yg(i),i,n,o)},getHandleTransform:function(t,e,i){var n=Yg(e,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:wm(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var o=i.axis,r=o.coordinateSystem,a=Im(o),s=Am(r,a),l=t.position;l[a]+=e[a],l[a]=Math.min(s[1],l[a]),l[a]=Math.max(s[0],l[a]);var h=Am(r,1-a),c=(h[1]+h[0])/2,u=[c,c];return u[a]=l[a],{position:l,rotation:t.rotation,cursorPoint:u,tooltipOption:{verticalAlign:"middle"}}}}),CL={line:function(t,e,i,n){var o=Sm([e,i[0]],[e,i[1]],Im(t));return Zn({shape:o,style:n}),{type:"Line",shape:o}},shadow:function(t,e,i,n){var o=t.getBandWidth(),r=i[1]-i[0];return{type:"Rect",shape:Dm([e-o/2,i[0]],[o,r],Im(t))}}};wI.registerAxisPointerClass("SingleAxisPointer",ML),zs({type:"single"});var TL=LM.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(t){TL.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(t){for(var e=t.length,i=Tp().key(function(t){return t[2]}).entries(t),n=f(i,function(t){return{name:t.key,dataList:t.values}}),o=n.length,r=-1,a=-1,s=0;s<o;++s){var l=n[s].dataList.length;l>r&&(r=l,a=s)}for(var h=0;h<o;++h)if(h!==a)for(var c=n[h].name,u=0;u<r;++u){for(var d=n[a].dataList[u][0],p=n[h].dataList.length,g=-1,m=0;m<p;++m){var v=n[h].dataList[m][0];if(v===d){g=m;break}}-1===g&&(t[e]=[],t[e][0]=d,t[e][1]=0,t[e][2]=c,e++)}return t},getInitialData:function(t,e){for(var i=e.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],n=i.get("type"),o=g(t.data,function(t){return void 0!==t[2]}),r=this.fixData(o||[]),a=[],s=this.nameMap=z(),l=0,h=0;h<r.length;++h)a.push(r[h][2]),s.get(r[h][2])||(s.set(r[h][2],l),l++);var c=ZC(r,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Us(n)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),u=new YC(c,this);return u.initData(r),u},getLayerSeries:function(){function t(t,i){return e.get(s,t)-e.get(s,i)}for(var e=this.getData(),i=e.count(),n=[],o=0;o<i;++o)n[o]=o;for(var r=Tp().key(function(t){return e.get("name",t)}).entries(n),a=f(r,function(t){return{name:t.key,indices:t.values}}),s=e.mapDimension("single"),l=0;l<a.length;++l)a[l].indices.sort(t);return a},getAxisTooltipData:function(t,e,i){_(t)||(t=t?[t]:[]);for(var n,o=this.getData(),r=this.getLayerSeries(),a=[],s=r.length,l=0;l<s;++l){for(var h=Number.MAX_VALUE,c=-1,u=r[l].indices.length,d=0;d<u;++d){var f=o.get(t[0],r[l].indices[d]),p=Math.abs(f-e);p<=h&&(n=f,h=p,c=r[l].indices[d])}a.push(c)}return{dataIndices:a,nestestValue:n}},formatTooltip:function(t){var e=this.getData(),i=e.getName(t),n=e.get(e.mapDimension("value"),t);return(isNaN(n)||null==n)&&(n="-"),er(i+" : "+n)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});Hs({type:"themeRiver",init:function(){this._layers=[]},render:function(t,e,i){function n(t){return t.name}function o(e,i,n){var o=this._layers;if("remove"===e)return void s.remove(o[i]);for(var h,c=[],u=[],d=l[i].indices,p=0;p<d.length;p++){var g=a.getItemLayout(d[p]),m=g.x,v=g.y0,y=g.y;c.push([m,v]),u.push([m,v+y]),h=a.getItemVisual(d[p],"color")}
var _,x,w=a.getItemLayout(d[0]),b=a.getItemModel(d[p-1]),S=b.getModel("label"),D=S.get("margin");if("add"===e){var M=f[i]=new Ww;_=new tI({shape:{points:c,stackedOnPoints:u,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),x=new qS({style:{x:w.x-D,y:w.y0+w.y/2}}),M.add(_),M.add(x),s.add(M),_.setClipPath(km(_.getBoundingRect(),t,function(){_.removeClipPath()}))}else{var M=o[n];_=M.childAt(0),x=M.childAt(1),s.add(M),f[i]=M,So(_,{shape:{points:c,stackedOnPoints:u}},t),So(x,{style:{x:w.x-D,y:w.y0+w.y/2}},t)}var C=b.getModel("emphasis.itemStyle"),T=b.getModel("itemStyle");fo(x.style,S,{text:S.get("show")?t.getFormattedLabel(d[p-1],"normal")||a.getName(d[p-1]):null,textVerticalAlign:"middle"}),_.setStyle(r({fill:h},T.getItemStyle(["color"]))),co(_,C.getItemStyle())}var a=t.getData(),s=this.group,l=t.getLayerSeries(),h=a.getLayout("layoutInfo"),c=h.rect,u=h.boundaryGap;s.attr("position",[0,c.y+u[0]]);var d=new Gs(this._layersSeries||[],l,n,n),f={};d.add(v(o,this,"add")).update(v(o,this,"update")).remove(v(o,this,"remove")).execute(),this._layersSeries=l,this._layers=f},dispose:function(){}});var IL=function(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),i=t.coordinateSystem,n={},o=i.getRect();n.rect=o;var r=t.get("boundaryGap"),a=i.getAxis();if(n.boundaryGap=r,"horizontal"===a.orient){r[0]=Bo(r[0],o.height),r[1]=Bo(r[1],o.height);Em(e,t,o.height-r[0]-r[1])}else{r[0]=Bo(r[0],o.width),r[1]=Bo(r[1],o.width);Em(e,t,o.width-r[0]-r[1])}e.setLayout("layoutInfo",n)})},AL=function(t){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),i=t.getRawData(),n=t.get("color"),o=z();e.each(function(t){o.set(e.getRawIndex(t),t)}),i.each(function(r){var a=i.getName(r),s=n[(t.nameMap.get(a)-1)%n.length];i.setItemVisual(r,"color",s);var l=o.get(r);null!=l&&e.setItemVisual(l,"color",s)})})};Ls(IL),Os(AL),Ts($I("themeRiver")),LM.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(t,e){var i={name:t.name,children:t.data};Om(i);var n=t.levels||[],o={};return o.levels=n,Tu.createTree(i,this,o).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=LM.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=Ju(i,this),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});var kL={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},EL=2,LL=4,OL=Pm.prototype;OL.updateData=function(t,e,i,o,s){this.node=e,e.piece=this,o=o||this._seriesModel,s=s||this._ecModel;var l=this.childAt(0);l.dataIndex=e.dataIndex;var h=e.getModel(),c=e.getLayout();c||console.log(e.getLayout());var u=r({},c);u.label=null;var d,f=Nm(e,o,s),p=h.getModel("itemStyle").getItemStyle();if("normal"===i)d=p;else{d=n(h.getModel(i+".itemStyle").getItemStyle(),p)}d=a({lineJoin:"bevel",fill:d.fill||f},d),t?(l.setShape(u),l.shape.r=c.r0,So(l,{shape:{r:c.r}},o,e.dataIndex),l.useStyle(d)):"object"==typeof d.fill&&d.fill.type||"object"==typeof l.style.fill&&l.style.fill.type?(So(l,{shape:u},o),l.useStyle(d)):So(l,{shape:u,style:d},o),this._updateLabel(o,f,i);var g=h.getShallow("cursor");if(g&&l.attr("cursor",g),t){var m=o.getShallow("highlightPolicy");this._initEvents(l,e,o,m)}this._seriesModel=o||this._seriesModel,this._ecModel=s||this._ecModel},OL.onEmphasis=function(t){var e=this;this.node.hostTree.root.eachNode(function(i){i.piece&&(e.node===i?i.piece.updateData(!1,i,"emphasis"):zm(i,e.node,t)?i.piece.childAt(0).trigger("highlight"):t!==kL.NONE&&i.piece.childAt(0).trigger("downplay"))})},OL.onNormal=function(){this.node.hostTree.root.eachNode(function(t){t.piece&&t.piece.updateData(!1,t,"normal")})},OL.onHighlight=function(){this.updateData(!1,this.node,"highlight")},OL.onDownplay=function(){this.updateData(!1,this.node,"downplay")},OL._updateLabel=function(t,e,i){function n(t){var e=a.get(t);return null==e?r.get(t):e}var o=this.node.getModel(),r=o.getModel("label"),a="normal"===i||"emphasis"===i?r:o.getModel(i+".label"),s=o.getModel("emphasis.label"),l=T(t.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);!1===n("show")&&(l="");var h=this.node.getLayout(),c=a.get("minAngle");null==c&&(c=r.get("minAngle")),c=c/180*Math.PI;var u=h.endAngle-h.startAngle;null!=c&&Math.abs(u)<c&&(l="");var d=this.childAt(1);uo(d.style,d.hoverStyle||{},r,s,{defaultText:a.getShallow("show")?l:null,autoColor:e,useInsideStyle:!0});var f,p=(h.startAngle+h.endAngle)/2,g=Math.cos(p),m=Math.sin(p),v=n("position"),y=n("distance")||0,_=n("align");"outside"===v?(f=h.r+y,_=p>Math.PI/2?"right":"left"):_&&"center"!==_?"left"===_?(f=h.r0+y,p>Math.PI/2&&(_="right")):"right"===_&&(f=h.r-y,p>Math.PI/2&&(_="left")):(f=(h.r+h.r0)/2,_="center"),d.attr("style",{text:l,textAlign:_,textVerticalAlign:n("verticalAlign")||"middle",opacity:n("opacity")});var x=f*g+h.cx,w=f*m+h.cy;d.attr("position",[x,w]);var b=n("rotate"),S=0;"radial"===b?(S=-p)<-Math.PI/2&&(S+=Math.PI):"tangential"===b?(S=Math.PI/2-p,S>Math.PI/2?S-=Math.PI:S<-Math.PI/2&&(S+=Math.PI)):"number"==typeof b&&(S=b*Math.PI/180),d.attr("rotation",S)},OL._initEvents=function(t,e,i,n){t.off("mouseover").off("mouseout").off("emphasis").off("normal");var o=this,r=function(){o.onEmphasis(n)},a=function(){o.onNormal()},s=function(){o.onDownplay()},l=function(){o.onHighlight()};i.isAnimationEnabled()&&t.on("mouseover",r).on("mouseout",a).on("emphasis",r).on("normal",a).on("downplay",s).on("highlight",l)},h(Pm,Ww);var PL=(Ia.extend({type:"sunburst",init:function(){},render:function(t,e,i,n){function o(i,n){if(u||!i||i.getValue()||(i=null),i!==l&&n!==l)if(n&&n.piece)i?(n.piece.updateData(!1,i,"normal",t,e),s.setItemGraphicEl(i.dataIndex,n.piece)):r(n);else if(i){var o=new Pm(i,t,e);c.add(o),s.setItemGraphicEl(i.dataIndex,o)}}function r(t){t&&t.piece&&(c.remove(t.piece),t.piece=null)}var a=this;this.seriesModel=t,this.api=i,this.ecModel=e;var s=t.getData(),l=s.tree.root,h=t.getViewRoot(),c=this.group,u=t.get("renderLabelForZeroData"),d=[];h.eachNode(function(t){d.push(t)});var f=this._oldChildren||[];if(function(t,e){function i(t){return t.getId()}function n(i,n){o(null==i?null:t[i],null==n?null:e[n])}0===t.length&&0===e.length||new Gs(e,t,i,i).add(n).update(n).remove(y(n,null)).execute()}(d,f),function(i,n){if(n.depth>0){a.virtualPiece?a.virtualPiece.updateData(!1,i,"normal",t,e):(a.virtualPiece=new Pm(i,t,e),c.add(a.virtualPiece)),n.piece._onclickEvent&&n.piece.off("click",n.piece._onclickEvent);var o=function(t){a._rootToNode(n.parentNode)};n.piece._onclickEvent=o,a.virtualPiece.on("click",o)}else a.virtualPiece&&(c.remove(a.virtualPiece),a.virtualPiece=null)}(l,h),n&&n.highlight&&n.highlight.piece){var p=t.getShallow("highlightPolicy");n.highlight.piece.onEmphasis(p)}else if(n&&n.unhighlight){var g=this.virtualPiece;!g&&l.children.length&&(g=l.children[0].piece),g&&g.onNormal()}this._initEvents(),this._oldChildren=d},dispose:function(){},_initEvents:function(){var t=this,e=function(e){var i=!1;t.seriesModel.getViewRoot().eachNode(function(n){if(!i&&n.piece&&n.piece.childAt(0)===e.target){var o=n.getModel().get("nodeClick");if("rootToNode"===o)t._rootToNode(n);else if("link"===o){var r=n.getModel(),a=r.get("link");if(a){var s=r.get("target",!0)||"_blank";window.open(a,s)}}i=!0}})};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",e),this.group._onclickEvent=e},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var i=e.getData(),n=i.getItemLayout(0);if(n){var o=t[0]-n.cx,r=t[1]-n.cy,a=Math.sqrt(o*o+r*r);return a<=n.r&&a>=n.r0}}}),"sunburstRootToNode");As({type:PL,update:"updateView"},function(t,e){function i(e,i){var n=Xu(t,[PL],e);if(n){var o=e.getViewRoot();o&&(t.direction=Qu(o,n.node)?"rollUp":"drillDown"),e.resetViewRoot(n.node)}}e.eachComponent({mainType:"series",subType:"sunburst",query:t},i)});var NL="sunburstHighlight";As({type:NL,update:"updateView"},function(t,e){function i(e,i){var n=Xu(t,[NL],e);n&&(t.highlight=n.node)}e.eachComponent({mainType:"series",subType:"sunburst",query:t},i)});As({type:"sunburstUnhighlight",update:"updateView"},function(t,e){function i(e,i){t.unhighlight=!0}e.eachComponent({mainType:"series",subType:"sunburst",query:t},i)});var RL=Math.PI/180,zL=function(t,e,i,n){e.eachSeriesByType(t,function(t){var e=t.get("center"),n=t.get("radius");_(n)||(n=[0,n]),_(e)||(e=[e,e]);var o=i.getWidth(),r=i.getHeight(),a=Math.min(o,r),s=Bo(e[0],o),l=Bo(e[1],r),h=Bo(n[0],a/2),c=Bo(n[1],a/2),u=-t.get("startAngle")*RL,f=t.get("minAngle")*RL,p=t.getData().tree.root,g=t.getViewRoot(),m=g.depth,v=t.get("sort");null!=v&&Bm(g,v);var y=0;d(g.children,function(t){!isNaN(t.getValue())&&y++});var x=g.getValue(),w=Math.PI/(x||y)*2,b=g.depth>0,S=g.height-(b?-1:1),D=(c-h)/(S||1),M=t.get("clockwise"),C=t.get("stillShowZeroSum"),T=M?1:-1,I=function(t,e){if(t){var i=e;if(t!==p){var n=t.getValue(),o=0===x&&C?w:n*w;o<f&&(o=f),i=e+T*o;var r=t.depth-m-(b?-1:1),c=h+D*r,u=h+D*(r+1),g=t.getModel();null!=g.get("r0")&&(c=Bo(g.get("r0"),a/2)),null!=g.get("r")&&(u=Bo(g.get("r"),a/2)),t.setLayout({angle:o,startAngle:e,endAngle:i,clockwise:M,cx:s,cy:l,r0:c,r:u})}if(t.children&&t.children.length){var v=0;d(t.children,function(t){v+=I(t,e+v)})}return i-e}};if(b){var A=h,k=h+D,E=2*Math.PI;p.setLayout({angle:E,startAngle:u,endAngle:u+E,clockwise:M,cx:s,cy:l,r0:A,r:k})}I(g,u)})};Os(y(BI,"sunburst")),Ls(y(zL,"sunburst")),Ts(y($I,"sunburst"));var BL=function(t){var e=t.grid.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:v(Vm,t)}}},HL=function(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:v(Wm,t)}}},VL=function(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(e){return t.dataToPoint(e)},size:v(Fm,t)}}},WL=function(t){var e=t.getRadiusAxis(),i=t.getAngleAxis(),n=e.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:n[1],r0:n[0]},api:{coord:v(function(n){var o=e.dataToRadius(n[0]),r=i.dataToAngle(n[1]),a=t.coordToPoint([o,r]);return a.push(o,r*Math.PI/180),a}),size:v($m,t)}}},FL=function(t){var e=t.getRect(),i=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:i.start,end:i.end,weeks:i.weeks,dayCount:i.allDay}},api:{coord:function(e,i){return t.dataToPoint(e,i)}}}},$L=["itemStyle"],GL=["emphasis","itemStyle"],jL=["label"],YL=["emphasis","label"],UL="e\0\0",qL={cartesian2d:BL,geo:HL,singleAxis:VL,polar:WL,calendar:FL};Bs({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0},getInitialData:function(t,e){return pl(this.getSource(),this)}}),Hs({type:"custom",_data:null,render:function(t,e,i){var n=this._data,o=t.getData(),r=this.group,a=Um(t,o,e,i);this.group.removeAll(),o.diff(n).add(function(e){Zm(null,e,a(e),t,r,o)}).update(function(e,i){Zm(n.getItemGraphicEl(i),e,a(e),t,r,o)}).remove(function(t){var e=n.getItemGraphicEl(t);e&&r.remove(e)}).execute(),this._data=o},incrementalPrepareRender:function(t,e,i){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,i,n){function o(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)}for(var r=e.getData(),a=Um(e,r,i,n),s=t.start;s<t.end;s++){Zm(null,s,a(s),e,this.group,r).traverse(o)}},dispose:H}),Cs(function(t){var e=t.graphic;_(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var ZL=Rs({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,ZL.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(t,e){var i=this.option,n=(e?i:t).elements,o=i.elements=e?[]:i.elements,r=[];this._flatten(n,r);var a=Pi(o,r);Ni(a);var s=this._elOptionsToUpdate=[];d(a,function(t,e){var i=t.option;Nx&&L(b(i)||t.exist,"Empty graphic option definition"),i&&(s.push(i),rv(t,i),av(o,e,i),sv(o[e],i))},this);for(var l=o.length-1;l>=0;l--)null==o[l]?o.splice(l,1):delete o[l].$action},_flatten:function(t,e,i){d(t,function(t){if(t){i&&(t.parentOption=i),e.push(t);var n=t.children;"group"===t.type&&n&&this._flatten(n,e,t),delete t.children}},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});zs({type:"graphic",init:function(t,e){this._elMap=z(),this._lastGraphicModel},render:function(t,e,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t,i),this._relocate(t,i)},_updateElements:function(t,e){var i=t.useElOptionsToUpdate();if(i){var n=this._elMap,o=this.group;d(i,function(t){var e=t.$action,i=t.id,r=n.get(i),a=t.parentId,s=null!=a?n.get(a):o;if("text"===t.type){var l=t.style;t.hv&&t.hv[1]&&(l.textVerticalAlign=l.textBaseline=null),!l.hasOwnProperty("textFill")&&l.fill&&(l.textFill=l.fill),!l.hasOwnProperty("textStroke")&&l.stroke&&(l.textStroke=l.stroke)}var h=nv(t);Nx&&r&&L(s===r.parent,"Changing parent is not supported."),e&&"merge"!==e?"replace"===e?(iv(r,n),ev(i,s,h,n)):"remove"===e&&iv(r,n):r?r.attr(h):ev(i,s,h,n);var c=n.get(i);c&&(c.__ecGraphicWidth=t.width,c.__ecGraphicHeight=t.height)})}},_relocate:function(t,e){for(var i=t.option.elements,n=this.group,o=this._elMap,r=i.length-1;r>=0;r--){var a=i[r],s=o.get(a.id);if(s){var l=s.parent;ur(s,a,l===n?{width:e.getWidth(),height:e.getHeight()}:{width:l.__ecGraphicWidth||0,height:l.__ecGraphicHeight||0},null,{hv:a.hv,boundingMode:a.bounding})}}},_clear:function(){var t=this._elMap;t.each(function(e){iv(e,t)}),this._elMap=z()},dispose:function(){this._clear()}});var XL=Rs({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{}},mergeOption:function(t){XL.superCall(this,"mergeOption",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],i=[];t.eachRawSeries(function(n){var o=n.name;i.push(o);var r;if(n.legendDataProvider){var a=n.legendDataProvider(),s=a.mapArray(a.getName);t.isSeriesFiltered(n)||(i=i.concat(s)),s.length?e=e.concat(s):r=!0}else r=!0;r&&Ri(n)&&e.push(n.name)}),this._availableNames=i;var n=this.get("data")||e,o=f(n,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new Lo(t,this,this.ecModel)},this);this._data=o},getData:function(){return this._data},select:function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&d(this._data,function(t){e[t.get("name")]=!1});e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&l(this._availableNames,t)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});As("legendToggleSelect","legendselectchanged",y(lv,"toggleSelected")),As("legendSelect","legendselected",y(lv,"select")),As("legendUnSelect","legendunselected",y(lv,"unSelect"));var KL=y,QL=d,JL=Ww,tO=zs({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new JL),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(t,e,i){if(this.resetInner(),t.get("show",!0)){var n=t.get("align");n&&"auto"!==n||(n="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left"),this.renderInner(n,t,e,i);var o=t.getBoxLayoutParams(),r={width:i.getWidth(),height:i.getHeight()},s=t.get("padding"),l=cr(o,r,s),h=this.layoutInner(t,n,l),c=cr(a({width:h.width,height:h.height},o),r,s);this.group.attr("position",[c.x-h.x,c.y-h.y]),this.group.add(this._backgroundEl=cv(h,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(t,e,i,n){var o=this.getContentGroup(),r=z(),a=e.get("selectedMode"),s=[];i.eachRawSeries(function(t){!t.get("legendHoverLink")&&s.push(t.id)}),QL(e.getData(),function(l,h){var c=l.get("name");if(!this.newlineDisabled&&(""===c||"\n"===c))return void o.add(new JL({newline:!0}));var u=i.getSeriesByName(c)[0];if(!r.get(c)){if(u){var d=u.getData(),f=d.getVisual("color");"function"==typeof f&&(f=f(u.getDataParams(0)));var p=d.getVisual("legendSymbol")||"roundRect",g=d.getVisual("symbol");this._createItem(c,h,l,e,p,g,t,f,a).on("click",KL(uv,c,n)).on("mouseover",KL(dv,u,null,n,s)).on("mouseout",KL(fv,u,null,n,s)),r.set(c,!0)}else i.eachRawSeries(function(i){if(!r.get(c)&&i.legendDataProvider){var o=i.legendDataProvider(),u=o.indexOfName(c);if(u<0)return;var d=o.getItemVisual(u,"color");this._createItem(c,h,l,e,"roundRect",null,t,d,a).on("click",KL(uv,c,n)).on("mouseover",KL(dv,i,c,n,s)).on("mouseout",KL(fv,i,c,n,s)),r.set(c,!0)}},this);Nx&&(r.get(c)||console.warn(c+" series not exists. Legend data should be same with series name or data name."))}},this)},_createItem:function(t,e,i,n,o,a,s,l,h){var c=n.get("itemWidth"),u=n.get("itemHeight"),d=n.get("inactiveColor"),f=n.get("symbolKeepAspect"),p=n.isSelected(t),g=new JL,m=i.getModel("textStyle"),v=i.get("icon"),y=i.getModel("tooltip"),_=y.parentModel;if(o=v||o,g.add(ql(o,0,0,c,u,p?l:d,null==f||f)),!v&&a&&(a!==o||"none"==a)){var x=.8*u;"none"===a&&(a="circle"),g.add(ql(a,(c-x)/2,(u-x)/2,x,x,p?l:d,null==f||f))}var w="left"===s?c+5:-5,b=s,S=n.get("formatter"),D=t;"string"==typeof S&&S?D=S.replace("{name}",null!=t?t:""):"function"==typeof S&&(D=S(t)),g.add(new qS({style:fo({},m,{text:D,x:w,y:u/2,textFill:p?m.getTextColor():d,textAlign:b,textVerticalAlign:"middle"})}));var M=new oD({shape:g.getBoundingRect(),invisible:!0,tooltip:y.get("show")?r({content:t,formatter:_.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:t,$vars:["name"]}},y.option):null});return g.add(M),g.eachChild(function(t){t.silent=!0}),M.silent=!h,this.getContentGroup().add(g),co(g),g.__legendDataIndex=e,g},layoutInner:function(t,e,i){var n=this.getContentGroup();FD(t.get("orient"),n,t.get("itemGap"),i.width,i.height);var o=n.getBoundingRect();return n.attr("position",[-o.x,-o.y]),this.group.getBoundingRect()}});Ts(function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(t){for(var i=0;i<e.length;i++)if(!e[i].isSelected(t.name))return!1;return!0})}),jD.registerSubTypeDefaulter("legend",function(){return"plain"});var eO=XL.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,i,n){var o=pr(t);eO.superCall(this,"init",t,e,i,n),pv(this,t,o)},mergeOption:function(t,e){eO.superCall(this,"mergeOption",t,e),pv(this,this.option,t)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),iO=Ww,nO=["width","height"],oO=["x","y"],rO=tO.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){rO.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new iO),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new iO),this._showController},resetInner:function(){rO.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,i,n){function o(t,i){var o=t+"DataIndex",l=Eo(e.get("pageIcons",!0)[e.getOrient().name][i],{onclick:v(r._pageGo,r,o,e,n)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});l.name=t,a.add(l)}var r=this;rO.superCall(this,"renderInner",t,e,i,n);var a=this._controllerGroup,s=e.get("pageIconSize",!0);_(s)||(s=[s,s]),o("pagePrev",0);var l=e.getModel("pageTextStyle");a.add(new qS({name:"pageText",style:{textFill:l.getTextColor(),font:l.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),o("pageNext",1)},layoutInner:function(t,e,i){var n=this.getContentGroup(),o=this._containerGroup,r=this._controllerGroup,a=t.getOrient().index,s=nO[a],l=nO[1-a],h=oO[1-a];FD(t.get("orient"),n,t.get("itemGap"),a?i.width:null,a?null:i.height),FD("horizontal",r,t.get("pageButtonItemGap",!0));var c=n.getBoundingRect(),u=r.getBoundingRect(),d=this._showController=c[s]>i[s],f=[-c.x,-c.y];f[a]=n.position[a];var p=[0,0],g=[-u.x,-u.y],m=I(t.get("pageButtonGap",!0),t.get("itemGap",!0));if(d){"end"===t.get("pageButtonPosition",!0)?g[a]+=i[s]-u[s]:p[a]+=u[s]+m}g[1-a]+=c[l]/2-u[l]/2,n.attr("position",f),o.attr("position",p),r.attr("position",g);var v=this.group.getBoundingRect(),v={x:0,y:0};if(v[s]=d?i[s]:c[s],v[l]=Math.max(c[l],u[l]),v[h]=Math.min(0,u[h]+g[1-a]),o.__rectSize=i[s],d){var y={x:0,y:0};y[s]=Math.max(i[s]-u[s]-m,0),y[l]=v[l],o.setClipPath(new oD({shape:y})),o.__rectSize=y[s]}else r.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var _=this._getPageInfo(t);return null!=_.pageIndex&&So(n,{position:_.contentPosition},!!d&&t),this._updatePageInfoView(t,_),v},_pageGo:function(t,e,i){var n=this._getPageInfo(e)[t];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:e.id})},_updatePageInfoView:function(t,e){var i=this._controllerGroup;d(["pagePrev","pageNext"],function(n){var o=null!=e[n+"DataIndex"],r=i.childOfName(n);r&&(r.setStyle("fill",o?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),r.cursor=o?"pointer":"default")});var n=i.childOfName("pageText"),o=t.get("pageFormatter"),r=e.pageIndex,a=null!=r?r+1:0,s=e.pageCount;n&&o&&n.setStyle("text",w(o)?o.replace("{current}",a).replace("{total}",s):o({current:a,total:s}))},_getPageInfo:function(t){function e(t){var e=t.getBoundingRect().clone();return e[f]+=t.position[c],e}var i,n,o,r,a=t.get("scrollDataIndex",!0),s=this.getContentGroup(),l=s.getBoundingRect(),h=this._containerGroup.__rectSize,c=t.getOrient().index,u=nO[c],d=nO[1-c],f=oO[c],p=s.position.slice();this._showController?s.eachChild(function(t){t.__legendDataIndex===a&&(r=t)}):r=s.childAt(0);var g=h?Math.ceil(l[u]/h):0;if(r){var m=r.getBoundingRect(),v=r.position[c]+m[f];p[c]=-v-l[f],i=Math.floor(g*(v+m[f]+h/2)/l[u]),i=l[u]&&g?Math.max(0,Math.min(g-1,i)):-1;var y={x:0,y:0};y[u]=h,y[d]=l[d],y[f]=-p[c]-l[f];var _,x=s.children();if(s.eachChild(function(t,i){var n=e(t);n.intersect(y)&&(null==_&&(_=i),o=t.__legendDataIndex),i===x.length-1&&n[f]+n[u]<=y[f]+y[u]&&(o=null)}),null!=_){var w=x[_],b=e(w);if(y[f]=b[f]+b[u]-y[u],_<=0&&b[f]>=y[f])n=null;else{for(;_>0&&e(x[_-1]).intersect(y);)_--;n=x[_].__legendDataIndex}}}return{contentPosition:p,pageIndex:i,pageCount:g,pagePrevDataIndex:n,pageNextDataIndex:o}}});As("legendScroll","legendscroll",function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(i)})}),Rs({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var aO=d,sO=tr,lO=["","-webkit-","-moz-","-o-"];yv.prototype={constructor:yv,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==e.position&&(i.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+vv(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var i,n=this._zr;n&&n.painter&&(i=n.painter.getViewportRootOffset())&&(t+=i.offsetLeft,e+=i.offsetTop);var o=this.el.style;o.left=t+"px",o.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(v(this.hide,this),t)):this.hide())},isShow:function(){return this._show}};var hO=v,cO=d,uO=Bo,dO=new oD({shape:{x:-1,y:-1,width:2,height:2}});zs({type:"tooltip",init:function(t,e){if(!Hx.node){var i=new yv(e.getDom(),e);this._tooltipContent=i}},render:function(t,e,i){if(!Hx.node&&!Hx.wxa){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var n=this._tooltipContent;n.update(),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel,e=t.get("triggerOn");om("itemTooltip",this._api,hO(function(t,i,n){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(i,n):"leave"===t&&this._hide(n))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY})})}},manuallyShowTip:function(t,e,i,n){if(n.from!==this.uid&&!Hx.node){var o=xv(n,i);this._ticket="";var r=n.dataByCoordSys;if(n.tooltip&&null!=n.x&&null!=n.y){var a=dO;a.position=[n.x,n.y],a.update(),a.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:a},o)}else if(r)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,event:{},dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},o);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var s=cL(n,e),l=s.point[0],h=s.point[1];null!=l&&null!=h&&this._tryShow({offsetX:l,offsetY:h,position:n.position,target:s.el,event:{}},o)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target,event:{}},o))}},manuallyHideTip:function(t,e,i,n){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,n.from!==this.uid&&this._hide(xv(n,i))},_manuallyAxisShowTip:function(t,e,i,n){var o=n.seriesIndex,r=n.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=r&&null!=a){var s=e.getSeriesByIndex(o);if(s){var l=s.getData(),t=_v([l.getItemModel(r),s,(s.coordinateSystem||{}).model,t]);if("axis"===t.get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:r,position:n.position}),!0}}},_tryShow:function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;n&&n.length?this._showAxisTooltip(n,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var i=t.get("showDelay");e=v(e,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(e,i):e()},_showAxisTooltip:function(t,e){var i=this._ecModel,n=this._tooltipModel,o=[e.offsetX,e.offsetY],r=[],a=[],s=_v([e.tooltipOption,n]);cO(t,function(t){cO(t.dataByAxis,function(t){var e=i.getComponent(t.axisDim+"Axis",t.axisIndex),n=t.value,o=[];if(e&&null!=n){var s=xm(n,e.axis,i,t.seriesDataIndices,t.valueLabelOpt);d(t.seriesDataIndices,function(r){var l=i.getSeriesByIndex(r.seriesIndex),h=r.dataIndexInside,c=l&&l.getDataParams(h);c.axisDim=t.axisDim,c.axisIndex=t.axisIndex,c.axisType=t.axisType,c.axisId=t.axisId,c.axisValue=Gl(e.axis,n),c.axisValueLabel=s,c&&(a.push(c),o.push(l.formatTooltip(h,!0)))});var l=s;r.push((l?er(l)+"<br />":"")+o.join("<br />"))}})},this),r.reverse(),r=r.join("<br /><br />");var l=e.position;this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(s,l,o[0],o[1],this._tooltipContent,a):this._showTooltipContent(s,r,a,Math.random(),o[0],o[1],l)})},_showSeriesItemTooltip:function(t,e,i){var n=this._ecModel,o=e.seriesIndex,r=n.getSeriesByIndex(o),a=e.dataModel||r,s=e.dataIndex,l=e.dataType,h=a.getData(),c=_v([h.getItemModel(s),a,r&&(r.coordinateSystem||{}).model,this._tooltipModel]),u=c.get("trigger");if(null==u||"item"===u){var d=a.getDataParams(s,l),f=a.formatTooltip(s,!1,l),p="item_"+a.name+"_"+s;this._showOrMove(c,function(){this._showTooltipContent(c,f,d,p,t.offsetX,t.offsetY,t.position,t.target)}),i({type:"showTip",dataIndexInside:s,dataIndex:h.getRawIndex(s),seriesIndex:o,from:this.uid})}},_showComponentItemTooltip:function(t,e,i){var n=e.tooltip;if("string"==typeof n){var o=n;n={content:o,formatter:o}}var r=new Lo(n,this._tooltipModel,this._ecModel),a=r.get("content"),s=Math.random();this._showOrMove(r,function(){this._showTooltipContent(r,a,r.get("formatterParams")||{},s,t.offsetX,t.offsetY,t.position,e)}),i({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,i,n,o,r,a,s){if(this._ticket="",t.get("showContent")&&t.get("show")){var l=this._tooltipContent,h=t.get("formatter");a=a||t.get("position");var c=e;if(h&&"string"==typeof h)c=ir(h,i,!0);else if("function"==typeof h){var u=hO(function(e,n){e===this._ticket&&(l.setContent(n),this._updatePosition(t,a,o,r,l,i,s))},this);this._ticket=n,c=h(i,n,u)}l.setContent(c),l.show(t),this._updatePosition(t,a,o,r,l,i,s)}},_updatePosition:function(t,e,i,n,o,r,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var h=o.getSize(),c=t.get("align"),u=t.get("verticalAlign"),d=a&&a.getBoundingRect().clone();if(a&&d.applyTransform(a.transform),"function"==typeof e&&(e=e([i,n],r,o.el,d,{viewSize:[s,l],
contentSize:h.slice()})),_(e))i=uO(e[0],s),n=uO(e[1],l);else if(b(e)){e.width=h[0],e.height=h[1];var f=cr(e,{width:s,height:l});i=f.x,n=f.y,c=null,u=null}else if("string"==typeof e&&a){var p=Dv(e,d,h);i=p[0],n=p[1]}else{var p=wv(i,n,o.el,s,l,c?null:20,u?null:20);i=p[0],n=p[1]}if(c&&(i-=Mv(c)?h[0]/2:"right"===c?h[0]:0),u&&(n-=Mv(u)?h[1]/2:"bottom"===u?h[1]:0),t.get("confine")){var p=bv(i,n,o.el,s,l);i=p[0],n=p[1]}o.moveTo(i,n)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,i=!!e&&e.length===t.length;return i&&cO(e,function(e,n){var o=e.dataByAxis||{},r=t[n]||{},a=r.dataByAxis||[];(i&=o.length===a.length)&&cO(o,function(t,e){var n=a[e]||{},o=t.seriesDataIndices||[],r=n.seriesDataIndices||[];(i&=t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&o.length===r.length)&&cO(o,function(t,e){var n=r[e];i&=t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex})})}),this._lastDataByCoordSys=t,!!i},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){Hx.node||Hx.wxa||(this._tooltipContent.hide(),cm("itemTooltip",e))}}),As({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),As({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),kv.prototype={constructor:kv,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:NT.prototype.dataToCoord,radiusToData:NT.prototype.coordToData},h(kv,NT),Ev.prototype={constructor:Ev,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:NT.prototype.dataToCoord,angleToData:NT.prototype.coordToData},h(Ev,NT);var fO=function(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new kv,this._angleAxis=new Ev,this._radiusAxis.polar=this._angleAxis.polar=this};fO.prototype={type:"polar",axisPointerEnabled:!0,constructor:fO,dimensions:["radius","angle"],model:null,containPoint:function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&&e.push(i),n.scale.type===t&&e.push(n),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){var i=this.pointToCoord(t);return[this._radiusAxis.radiusToData(i[0],e),this._angleAxis.angleToData(i[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),o=n.getExtent(),r=Math.min(o[0],o[1]),a=Math.max(o[0],o[1]);n.inverse?r=a-360:a=r+360;var s=Math.sqrt(e*e+i*i);e/=s,i/=s;for(var l=Math.atan2(-i,e)/Math.PI*180,h=l<r?1:-1;l<r||l>a;)l+=360*h;return[s,l]},coordToPoint:function(t){var e=t[0],i=t[1]/180*Math.PI;return[Math.cos(i)*e+this.cx,-Math.sin(i)*e+this.cy]}};var pO=jD.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});n(pO.prototype,xT);var gO={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};cI("angle",pO,Lv,gO.angle),cI("radius",pO,Lv,gO.radius),Rs({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}});var mO={dimensions:fO.prototype.dimensions,create:function(t,e){var i=[];return t.eachComponent("polar",function(t,n){var o=new fO(n);o.update=Pv;var r=o.getRadiusAxis(),a=o.getAngleAxis(),s=t.findAxisModel("radiusAxis"),l=t.findAxisModel("angleAxis");Nv(r,s),Nv(a,l),Ov(o,t,e),i.push(o),t.coordinateSystem=o,o.model=t}),t.eachSeries(function(e){if("polar"===e.get("coordinateSystem")){var i=t.queryComponents({mainType:"polar",index:e.get("polarIndex"),id:e.get("polarId")})[0];if(Nx&&!i)throw new Error('Polar "'+T(e.get("polarIndex"),e.get("polarId"),0)+'" not found');e.coordinateSystem=i.coordinateSystem}}),i}};Fr.register("polar",mO);var vO=["axisLine","axisLabel","axisTick","splitLine","splitArea"];wI.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var n=t.axis,o=n.polar,r=o.getRadiusAxis().getExtent(),a=n.getTicksCoords(),s=f(n.getViewLabels(),function(t){var t=i(t);return t.coord=n.dataToCoord(t.tickValue),t});Bv(s),Bv(a),d(vO,function(e){!t.get(e+".show")||n.scale.isBlank()&&"axisLine"!==e||this["_"+e](t,o,a,r,s)},this)}},_axisLine:function(t,e,i,n){var o=t.getModel("axisLine.lineStyle"),r=new ZS({shape:{cx:e.cx,cy:e.cy,r:n[zv(e)]},style:o.getLineStyle(),z2:1,silent:!0});r.style.fill=null,this.group.add(r)},_axisTick:function(t,e,i,n){var o=t.getModel("axisTick"),r=(o.get("inside")?-1:1)*o.get("length"),s=n[zv(e)],l=f(i,function(t){return new rD({shape:Rv(e,[s,s+r],t.coord)})});this.group.add(yD(l,{style:a(o.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_axisLabel:function(t,e,i,n,o){var r=t.getCategories(!0),a=t.getModel("axisLabel"),s=a.get("margin");d(o,function(i,o){var l=a,h=i.tickValue,c=n[zv(e)],u=e.coordToPoint([c+s,i.coord]),d=e.cx,f=e.cy,p=Math.abs(u[0]-d)/c<.3?"center":u[0]>d?"left":"right",g=Math.abs(u[1]-f)/c<.3?"middle":u[1]>f?"top":"bottom";r&&r[h]&&r[h].textStyle&&(l=new Lo(r[h].textStyle,a,a.ecModel));var m=new qS({silent:!0});this.group.add(m),fo(m.style,l,{x:u[0],y:u[1],textFill:l.getTextColor()||t.get("axisLine.lineStyle.color"),text:i.formattedLabel,textAlign:p,textVerticalAlign:g})},this)},_splitLine:function(t,e,i,n){var o=t.getModel("splitLine"),r=o.getModel("lineStyle"),s=r.get("color"),l=0;s=s instanceof Array?s:[s];for(var h=[],c=0;c<i.length;c++){var u=l++%s.length;h[u]=h[u]||[],h[u].push(new rD({shape:Rv(e,n,i[c].coord)}))}for(var c=0;c<h.length;c++)this.group.add(yD(h[c],{style:a({stroke:s[c%s.length]},r.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,i,n){if(i.length){var o=t.getModel("splitArea"),r=o.getModel("areaStyle"),s=r.get("color"),l=0;s=s instanceof Array?s:[s];for(var h=[],c=Math.PI/180,u=-i[0].coord*c,d=Math.min(n[0],n[1]),f=Math.max(n[0],n[1]),p=t.get("clockwise"),g=1;g<i.length;g++){var m=l++%s.length;h[m]=h[m]||[],h[m].push(new QS({shape:{cx:e.cx,cy:e.cy,r0:d,r:f,startAngle:u,endAngle:-i[g].coord*c,clockwise:p},silent:!0})),u=-i[g].coord*c}for(var g=0;g<h.length;g++)this.group.add(yD(h[g],{style:a({fill:s[g%s.length]},r.getAreaStyle()),silent:!0}))}}});var yO=["axisLine","axisTickLabel","axisName"],_O=["splitLine","splitArea"];wI.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(t,e){if(this.group.removeAll(),t.get("show")){var i=t.axis,n=i.polar,o=n.getAngleAxis(),r=i.getTicksCoords(),a=o.getExtent()[0],s=i.getExtent(),l=Hv(n,t,a),h=new mI(t,l);d(yO,h.add,h),this.group.add(h.getGroup()),d(_O,function(e){t.get(e+".show")&&!i.scale.isBlank()&&this["_"+e](t,n,a,s,r)},this)}},_splitLine:function(t,e,i,n,o){var r=t.getModel("splitLine"),s=r.getModel("lineStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var c=[],u=0;u<o.length;u++){var d=h++%l.length;c[d]=c[d]||[],c[d].push(new ZS({shape:{cx:e.cx,cy:e.cy,r:o[u].coord},silent:!0}))}for(var u=0;u<c.length;u++)this.group.add(yD(c[u],{style:a({stroke:l[u%l.length],fill:null},s.getLineStyle()),silent:!0}))},_splitArea:function(t,e,i,n,o){if(o.length){var r=t.getModel("splitArea"),s=r.getModel("areaStyle"),l=s.get("color"),h=0;l=l instanceof Array?l:[l];for(var c=[],u=o[0].coord,d=1;d<o.length;d++){var f=h++%l.length;c[f]=c[f]||[],c[f].push(new QS({shape:{cx:e.cx,cy:e.cy,r0:u,r:o[d].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),u=o[d].coord}for(var d=0;d<c.length;d++)this.group.add(yD(c[d],{style:a({fill:l[d%l.length]},s.getAreaStyle()),silent:!0}))}}});var xO=um.extend({makeElOption:function(t,e,i,n,o){var r=i.axis;"angle"===r.dim&&(this.animationThreshold=Math.PI/18);var a,s=r.polar,l=s.getOtherAxis(r),h=l.getExtent();a=r["dataTo"+sr(r.dim)](e);var c=n.get("type");if(c&&"none"!==c){var u=vm(n),d=wO[c](r,s,a,h,u);d.style=u,t.graphicKey=d.type,t.pointer=d}ym(t,i,n,o,Vv(e,i,n,s,n.get("label.margin")))}}),wO={line:function(t,e,i,n,o){return"angle"===t.dim?{type:"Line",shape:Sm(e.coordToPoint([n[0],i]),e.coordToPoint([n[1],i]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:i}}},shadow:function(t,e,i,n,o){var r=Math.max(1,t.getBandWidth()),a=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:Mm(e.cx,e.cy,n[0],n[1],(-i-r/2)*a,(r/2-i)*a)}:{type:"Sector",shape:Mm(e.cx,e.cy,i-r/2,i+r/2,0,2*Math.PI)}}};wI.registerAxisPointerClass("PolarAxisPointer",xO),Ls(y(Iv,"bar")),zs({type:"polar"}),c(jD.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(t){jD.prototype.init.apply(this,arguments),Ei(t,"label",["show"])},optionUpdated:function(){var t=this.option,e=this;t.regions=uA.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=p(t.regions||[],function(t,i){return i.name&&t.set(i.name,new Lo(i,e)),t},z()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new Lo(null,this,this.ecModel)},getFormattedLabel:function(t,e){var i=this.getRegionModel(t),n=i.get("label."+e+".formatter"),o={name:t};return"function"==typeof n?(o.status=e,n(o)):"string"==typeof n?n.replace("{a}",null!=t?t:""):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}}),PI),zs({type:"geo",init:function(t,e){var i=new mu(e,!0);this._mapDraw=i,this.group.add(i.group)},render:function(t,e,i,n){if(!n||"geoToggleSelect"!==n.type||n.from!==this.uid){var o=this._mapDraw;t.get("show")?o.draw(t,e,i,this,n):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent")}},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),Wv("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),Wv("select",{type:"geoSelect",event:"geoselected"}),Wv("unSelect",{type:"geoUnSelect",event:"geounselected"});var bO=["rect","polygon","keep","clear"],SO=function(t,e){var i=t&&t.brush;if(_(i)||(i=i?[i]:[]),i.length){var n=[];d(i,function(t){var e=t.hasOwnProperty("toolbox")?t.toolbox:[];e instanceof Array&&(n=n.concat(e))});var o=t&&t.toolbox;_(o)&&(o=o[0]),o||(o={feature:{}},t.toolbox=[o]);var r=o.feature||(o.feature={}),a=r.brush||(r.brush={}),s=a.type||(a.type=[]);s.push.apply(s,n),Fv(s),e&&!s.length&&s.push.apply(s,bO)}},DO=d,MO={lineX:qv(0),lineY:qv(1),rect:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])},rect:function(t,e,i){return t&&i.boundingRect.intersect(t)}},polygon:{point:function(t,e,i){return t&&i.boundingRect.contain(t[0],t[1])&&Jl(i.range,t[0],t[1])},rect:function(t,e,i){var n=i.range;if(!t||n.length<=1)return!1;var o=t.x,r=t.y,a=t.width,s=t.height,l=n[0];return!!(Jl(n,o,r)||Jl(n,o+a,r)||Jl(n,o,r+s)||Jl(n,o+a,r+s)||ie.create(t).contain(l[0],l[1])||Xv(o,r,o+a,r,n)||Xv(o,r,o,r+s,n)||Xv(o+a,r,o+a,r+s,n)||Xv(o,r+s,o+a,r+s,n))||void 0}}},CO=d,TO=l,IO=y,AO=["dataToPoint","pointToData"],kO=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],EO=ty.prototype;EO.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,i){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var n=NO[t.brushType](0,i,e);t.__rangeOffset={offset:RO[t.brushType](n.values,t.range,[1,1]),xyMinMax:n.xyMinMax}}})},EO.matchOutputRanges=function(t,e,i){CO(t,function(t){var n=this.findTargetInfo(t,e);n&&!0!==n&&d(n.coordSyses,function(n){var o=NO[t.brushType](1,n,t.range);i(t,o.values,n,e)})},this)},EO.setInputRanges=function(t,e){CO(t,function(t){var i=this.findTargetInfo(t,e);if(Nx&&(L(!i||!0===i||t.coordRange,"coordRange must be specified when coord index specified."),L(!i||!0!==i||t.range,"range must be specified in global brush.")),t.range=t.range||[],i&&!0!==i){t.panelId=i.panelId;var n=NO[t.brushType](0,i.coordSys,t.coordRange),o=t.__rangeOffset;t.range=o?RO[t.brushType](n.values,o.offset,ry(n.xyMinMax,o.xyMinMax)):n.values}},this)},EO.makePanelOpts=function(t,e){return f(this._targetInfoList,function(i){var n=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:e&&e(i),clipPath:cp(n),isTargetByCursor:dp(n,t,i.coordSysModel),getLinearBrushOtherExtent:up(n)}})},EO.controlSeries=function(t,e,i){var n=this.findTargetInfo(t,i);return!0===n||n&&TO(n.coordSyses,e.coordinateSystem)>=0},EO.findTargetInfo=function(t,e){for(var i=this._targetInfoList,n=iy(e,t),o=0;o<i.length;o++){var r=i[o],a=t.panelId;if(a){if(r.panelId===a)return r}else for(var o=0;o<OO.length;o++)if(OO[o](n,r))return r}return!0};var LO={grid:function(t,e){var i=t.xAxisModels,n=t.yAxisModels,o=t.gridModels,r=z(),a={},s={};(i||n||o)&&(CO(i,function(t){var e=t.axis.grid.model;r.set(e.id,e),a[e.id]=!0}),CO(n,function(t){var e=t.axis.grid.model;r.set(e.id,e),s[e.id]=!0}),CO(o,function(t){r.set(t.id,t),a[t.id]=!0,s[t.id]=!0}),r.each(function(t){var o=t.coordinateSystem,r=[];CO(o.getCartesians(),function(t,e){(TO(i,t.getAxis("x").model)>=0||TO(n,t.getAxis("y").model)>=0)&&r.push(t)}),e.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:r[0],coordSyses:r,getPanelRect:PO.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,e){CO(t.geoModels,function(t){var i=t.coordinateSystem;e.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:i,coordSyses:[i],getPanelRect:PO.geo})})}},OO=[function(t,e){var i=t.xAxisModel,n=t.yAxisModel,o=t.gridModel;return!o&&i&&(o=i.axis.grid.model),!o&&n&&(o=n.axis.grid.model),o&&o===e.gridModel},function(t,e){var i=t.geoModel;return i&&i===e.geoModel}],PO={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Mo(t)),e}},NO={lineX:IO(ny,0),lineY:IO(ny,1),rect:function(t,e,i){var n=e[AO[t]]([i[0][0],i[1][0]]),o=e[AO[t]]([i[0][1],i[1][1]]),r=[ey([n[0],o[0]]),ey([n[1],o[1]])];return{values:r,xyMinMax:r}},polygon:function(t,e,i){var n=[[1/0,-1/0],[1/0,-1/0]];return{values:f(i,function(i){var o=e[AO[t]](i);return n[0][0]=Math.min(n[0][0],o[0]),n[1][0]=Math.min(n[1][0],o[1]),n[0][1]=Math.max(n[0][1],o[0]),n[1][1]=Math.max(n[1][1],o[1]),o}),xyMinMax:n}}},RO={lineX:IO(oy,0),lineY:IO(oy,1),rect:function(t,e,i){return[[t[0][0]-i[0]*e[0][0],t[0][1]-i[0]*e[0][1]],[t[1][0]-i[1]*e[1][0],t[1][1]-i[1]*e[1][1]]]},polygon:function(t,e,i){return f(t,function(t,n){return[t[0]-i[0]*e[n][0],t[1]-i[1]*e[n][1]]})}},zO=["inBrush","outOfBrush"],BO="__ecBrushSelect",HO="__ecInBrushSelectEvent",VO=gC.VISUAL.BRUSH;Ls(VO,function(t,e,i){t.eachComponent({mainType:"brush"},function(e){i&&"takeGlobalCursor"===i.type&&e.setBrushOption("brush"===i.key?i.brushOption:{brushType:!1}),(e.brushTargetManager=new ty(e.option,t)).setInputRanges(e.areas,t)})}),Os(VO,function(t,e,n){var o,r,s=[];t.eachComponent({mainType:"brush"},function(e,n){function l(t){return"all"===m||v[t]}function h(t){return!!t.length}function c(t,e){var i=t.coordinateSystem;w|=i.hasAxisBrushed(),l(e)&&i.eachActiveState(t.getData(),function(t,e){"active"===t&&(y[e]=1)})}function u(i,n,o){var r=cy(i);if(r&&!uy(e,n)&&(d(b,function(n){r[n.brushType]&&e.brushTargetManager.controlSeries(n,i,t)&&o.push(n),w|=h(o)}),l(n)&&h(o))){var a=i.getData();a.each(function(t){hy(r,o,a,t)&&(y[t]=1)})}}var p={brushId:e.id,brushIndex:n,brushName:e.name,areas:i(e.areas),selected:[]};s.push(p);var g=e.option,m=g.brushLink,v=[],y=[],x=[],w=0;n||(o=g.throttleType,r=g.throttleDelay);var b=f(e.areas,function(t){return dy(a({boundingRect:WO[t.brushType](t)},t))}),S=Gv(e.option,zO,function(t){t.mappingMethod="fixed"});_(m)&&d(m,function(t){v[t]=1}),t.eachSeries(function(t,e){var i=x[e]=[];"parallel"===t.subType?c(t,e):u(t,e,i)}),t.eachSeries(function(t,e){var i={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};p.selected.push(i);var n=cy(t),o=x[e],r=t.getData(),a=l(e)?function(t){return y[t]?(i.dataIndex.push(r.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return hy(n,o,r,t)?(i.dataIndex.push(r.getRawIndex(t)),"inBrush"):"outOfBrush"};(l(e)?w:h(o))&&Yv(zO,S,r,a)})}),sy(e,o,r,s,n)});var WO={lineX:H,lineY:H,rect:function(t){return fy(t.range)},polygon:function(t){for(var e,i=t.range,n=0,o=i.length;n<o;n++){e=e||[[1/0,-1/0],[1/0,-1/0]];var r=i[n];r[0]<e[0][0]&&(e[0][0]=r[0]),r[0]>e[0][1]&&(e[0][1]=r[0]),r[1]<e[1][0]&&(e[1][0]=r[1]),r[1]>e[1][1]&&(e[1][1]=r[1])}return e&&fy(e)}},FO=["#ddd"];Rs({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var i=this.option;!e&&jv(i,t,["inBrush","outOfBrush"]);var n=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:FO},n.hasOwnProperty("liftZ")||(n.liftZ=5)},setAreas:function(t){Nx&&(L(_(t)),d(t,function(t){L(t.brushType,"Illegal areas")})),t&&(this.areas=f(t,function(t){return py(this.option,t)},this))},setBrushOption:function(t){this.brushOption=py(this.option,t),this.brushType=this.brushOption.brushType}});zs({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new Af(e.getZr())).on("brush",v(this._onBrush,this)).mount()},render:function(t){return this.model=t,gy.apply(this,arguments)},updateTransform:gy,updateView:gy,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:i(t),$from:n})}}),As({type:"brush",event:"brush"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(e){e.setAreas(t.areas)})}),As({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var $O={},GO=GM.toolbox.brush;yy.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:i(GO.title)};var jO=yy.prototype;jO.render=jO.updateView=function(t,e,i){var n,o,r;e.eachComponent({mainType:"brush"},function(t){n=t.brushType,o=t.brushOption.brushMode||"single",r|=t.areas.length}),this._brushType=n,this._brushMode=o,d(t.get("type",!0),function(e){t.setIconStatus(e,("keep"===e?"multiple"===o:"clear"===e?r:e===n)?"emphasis":"normal")})},jO.getIcons=function(){var t=this.model,e=t.get("icon",!0),i={};return d(t.get("type",!0),function(t){e[t]&&(i[t]=e[t])}),i},jO.onclick=function(t,e,i){var n=this._brushType,o=this._brushMode;"clear"===i?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?n:n!==i&&i,brushMode:"keep"===i?"multiple"===o?"single":"multiple":o}})},my("brush",yy),Cs(SO);_y.prototype={constructor:_y,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){t=Uo(t);var e=t.getFullYear(),i=t.getMonth()+1;i=i<10?"0"+i:i;var n=t.getDate();n=n<10?"0"+n:n;var o=t.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:e,m:i,d:n,day:o,time:t.getTime(),formatedDate:e+"-"+i+"-"+n,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+e),this.getDateInfo(t))},update:function(t,e){function i(t,e){return null!=t[e]&&"auto"!==t[e]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,o=["width","height"],r=this._model.get("cellSize").slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[n,7]:[7,n];d([0,1],function(t){i(r,t)&&(a[o[t]]=r[t]*s[t])});var l={width:e.getWidth(),height:e.getHeight()},h=this._rect=cr(a,l);d([0,1],function(t){i(r,t)||(r[t]=h[o[t]]/s[t])}),this._sw=r[0],this._sh=r[1]},dataToPoint:function(t,e){_(t)&&(t=t[0]),null==e&&(e=!0);var i=this.getDateInfo(t),n=this._rangeInfo,o=i.formatedDate;if(e&&!(i.time>=n.start.time&&i.time<n.end.time+864e5))return[NaN,NaN];var r=i.day,a=this._getRangeInfo([n.start.time,o]).nthWeek;return"vertical"===this._orient?[this._rect.x+r*this._sw+this._sw/2,this._rect.y+a*this._sh+this._sh/2]:[this._rect.x+a*this._sw+this._sw/2,this._rect.y+r*this._sh+this._sh/2]},pointToData:function(t){var e=this.pointToDate(t);return e&&e.time},dataToRect:function(t,e){var i=this.dataToPoint(t,e);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,i=Math.floor((t[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(i,e-1,n):this._getDateByWeeksAndDay(e,i-1,n)},convertToPixel:y(xy,"dataToPoint"),convertFromPixel:y(xy,"pointToData"),_initRangeOption:function(){var t=this._model.get("range"),e=t;if(_(e)&&1===e.length&&(e=e[0]),/^\d{4}$/.test(e)&&(t=[e+"-01-01",e+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(e)){var i=this.getDateInfo(e),n=i.date;n.setMonth(n.getMonth()+1);var o=this.getNextNDay(n,-1);t=[i.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(e)&&(t=[e,e]);var r=this._getRangeInfo(t);return r.start.time>r.end.time&&t.reverse(),t},_getRangeInfo:function(t){t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];var e;t[0].time>t[1].time&&(e=!0,t.reverse());var i=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,n=new Date(t[0].time),o=n.getDate(),r=t[1].date.getDate();if(n.setDate(o+i-1),n.getDate()!==r)for(var a=n.getTime()-t[1].time>0?1:-1;n.getDate()!==r&&(n.getTime()-t[1].time)*a>0;)i-=a,n.setDate(o+i-1);var s=Math.floor((i+t[0].day+6)/7),l=e?1-s:s-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:i,weeks:s,nthWeek:l,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,i){var n=this._getRangeInfo(i);if(t>n.weeks||0===t&&e<n.fweek||t===n.weeks&&e>n.lweek)return!1;var o=7*(t-1)-n.fweek+e,r=new Date(n.start.time);return r.setDate(n.start.d+o),this.getDateInfo(r)}},_y.dimensions=_y.prototype.dimensions,_y.getDimensionsInfo=_y.prototype.getDimensionsInfo,_y.create=function(t,e){var i=[];return t.eachComponent("calendar",function(n){var o=new _y(n,t,e);i.push(o),n.coordinateSystem=o}),t.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("calendarIndex")||0])}),i},Fr.register("calendar",_y);var YO=jD.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(t,e,i,n){var o=pr(t);YO.superApply(this,"init",arguments),wy(t,o)},mergeOption:function(t,e){YO.superApply(this,"mergeOption",arguments),wy(this.option,t)}}),UO={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]},qO={EN:["S","M","T","W","T","F","S"],CN:["日","一","二","三","四","五","六"]};zs({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,i){var n=this.group;n.removeAll();var o=t.coordinateSystem,r=o.getRangeInfo(),a=o.getOrient();this._renderDayRect(t,r,n),this._renderLines(t,r,a,n),this._renderYearText(t,r,a,n),this._renderMonthText(t,a,n),this._renderWeekText(t,r,a,n)},_renderDayRect:function(t,e,i){for(var n=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),r=n.getCellWidth(),a=n.getCellHeight(),s=e.start.time;s<=e.end.time;s=n.getNextNDay(s,1).time){var l=n.dataToRect([s],!1).tl,h=new oD({shape:{x:l[0],y:l[1],width:r,height:a},cursor:"default",style:o});i.add(h)}},_renderLines:function(t,e,i,n){function o(e){r._firstDayOfMonth.push(a.getDateInfo(e)),r._firstDayPoints.push(a.dataToRect([e],!1).tl);var o=r._getLinePointsOfOneWeek(t,e,i);r._tlpoints.push(o[0]),r._blpoints.push(o[o.length-1]),l&&r._drawSplitline(o,s,n)}var r=this,a=t.coordinateSystem,s=t.getModel("splitLine.lineStyle").getLineStyle(),l=t.get("splitLine.show"),h=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=e.start,u=0;c.time<=e.end.time;u++){o(c.formatedDate),0===u&&(c=a.getDateInfo(e.start.y+"-"+e.start.m));var d=c.date;d.setMonth(d.getMonth()+1),c=a.getDateInfo(d)}o(a.getNextNDay(e.end.time,1).formatedDate),l&&this._drawSplitline(r._getEdgesPoints(r._tlpoints,h,i),s,n),l&&this._drawSplitline(r._getEdgesPoints(r._blpoints,h,i),s,n)},_getEdgesPoints:function(t,e,i){var n=[t[0].slice(),t[t.length-1].slice()],o="horizontal"===i?0:1;return n[0][o]=n[0][o]-e/2,n[1][o]=n[1][o]+e/2,n},_drawSplitline:function(t,e,i){var n=new nD({z2:20,shape:{points:t},style:e});i.add(n)},_getLinePointsOfOneWeek:function(t,e,i){var n=t.coordinateSystem;e=n.getDateInfo(e);for(var o=[],r=0;r<7;r++){var a=n.getNextNDay(e.time,r),s=n.dataToRect([a.time],!1);o[2*a.day]=s.tl,o[2*a.day+1]=s["horizontal"===i?"bl":"tr"]}return o},_formatterLabel:function(t,e){return"string"==typeof t&&t?nr(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,i,n,o){e=e.slice();var r=["center","bottom"];"bottom"===n?(e[1]+=o,r=["center","top"]):"left"===n?e[0]-=o:"right"===n?(e[0]+=o,r=["center","top"]):e[1]-=o;var a=0;return"left"!==n&&"right"!==n||(a=Math.PI/2),{rotation:a,position:e,style:{textAlign:r[0],textVerticalAlign:r[1]}}},_renderYearText:function(t,e,i,n){var o=t.getModel("yearLabel");if(o.get("show")){var r=o.get("margin"),a=o.get("position");a||(a="horizontal"!==i?"top":"left");var s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],l=(s[0][0]+s[1][0])/2,h=(s[0][1]+s[1][1])/2,c="horizontal"===i?0:1,u={top:[l,s[c][1]],bottom:[l,s[1-c][1]],left:[s[1-c][0],h],right:[s[c][0],h]},d=e.start.y;+e.end.y>+e.start.y&&(d=d+"-"+e.end.y);var f=o.get("formatter"),p={start:e.start.y,end:e.end.y,nameMap:d},g=this._formatterLabel(f,p),m=new qS({z2:30});fo(m.style,o,{text:g}),m.attr(this._yearTextPositionControl(m,u[a],i,a,r)),n.add(m)}},_monthTextPositionControl:function(t,e,i,n,o){var r="left",a="top",s=t[0],l=t[1];return"horizontal"===i?(l+=o,e&&(r="center"),"start"===n&&(a="bottom")):(s+=o,e&&(a="middle"),"start"===n&&(r="right")),{x:s,y:l,textAlign:r,textVerticalAlign:a}},_renderMonthText:function(t,e,i){var n=t.getModel("monthLabel");if(n.get("show")){var o=n.get("nameMap"),a=n.get("margin"),s=n.get("position"),l=n.get("align"),h=[this._tlpoints,this._blpoints];w(o)&&(o=UO[o.toUpperCase()]||[]);var c="start"===s?0:1,u="horizontal"===e?0:1;a="start"===s?-a:a;for(var d="center"===l,f=0;f<h[c].length-1;f++){var p=h[c][f].slice(),g=this._firstDayOfMonth[f];if(d){var m=this._firstDayPoints[f];p[u]=(m[u]+h[0][f+1][u])/2}var v=n.get("formatter"),y=o[+g.m-1],_={yyyy:g.y,yy:(g.y+"").slice(2),MM:g.m,M:+g.m,nameMap:y},x=this._formatterLabel(v,_),b=new qS({z2:30});r(fo(b.style,n,{text:x}),this._monthTextPositionControl(p,d,e,s,a)),i.add(b)}}},_weekTextPositionControl:function(t,e,i,n,o){var r="center",a="middle",s=t[0],l=t[1],h="start"===i;return"horizontal"===e?(s=s+n+(h?1:-1)*o[0]/2,r=h?"right":"left"):(l=l+n+(h?1:-1)*o[1]/2,a=h?"bottom":"top"),{x:s,y:l,textAlign:r,textVerticalAlign:a}},_renderWeekText:function(t,e,i,n){var o=t.getModel("dayLabel");if(o.get("show")){var a=t.coordinateSystem,s=o.get("position"),l=o.get("nameMap"),h=o.get("margin"),c=a.getFirstDayOfWeek();w(l)&&(l=qO[l.toUpperCase()]||[]);var u=a.getNextNDay(e.end.time,7-e.lweek).time,d=[a.getCellWidth(),a.getCellHeight()];h=Bo(h,d["horizontal"===i?0:1]),"start"===s&&(u=a.getNextNDay(e.start.time,-(7+e.fweek)).time,h=-h);for(var f=0;f<7;f++){var p=a.getNextNDay(u,f),g=a.dataToRect([p.time],!1).center,m=f;m=Math.abs((f+c)%7);var v=new qS({z2:30});r(fo(v.style,o,{text:l[m]}),this._weekTextPositionControl(g,i,s,h,d)),n.add(v)}}}}),Rs({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),zs({type:"title",render:function(t,e,i){
if(this.group.removeAll(),t.get("show")){var n=this.group,o=t.getModel("textStyle"),r=t.getModel("subtextStyle"),a=t.get("textAlign"),s=t.get("textBaseline"),l=new qS({style:fo({},o,{text:t.get("text"),textFill:o.getTextColor()},{disableBox:!0}),z2:10}),h=l.getBoundingRect(),c=t.get("subtext"),u=new qS({style:fo({},r,{text:c,textFill:r.getTextColor(),y:h.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),f=t.get("sublink");l.silent=!d,u.silent=!f,d&&l.on("click",function(){window.open(d,"_"+t.get("target"))}),f&&u.on("click",function(){window.open(f,"_"+t.get("subtarget"))}),n.add(l),c&&n.add(u);var p=n.getBoundingRect(),g=t.getBoxLayoutParams();g.width=p.width,g.height=p.height;var m=cr(g,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));a||(a=t.get("left")||t.get("right"),"middle"===a&&(a="center"),"right"===a?m.x+=m.width:"center"===a&&(m.x+=m.width/2)),s||(s=t.get("top")||t.get("bottom"),"center"===s&&(s="middle"),"bottom"===s?m.y+=m.height:"middle"===s&&(m.y+=m.height/2),s=s||"top"),n.attr("position",[m.x,m.y]);var v={textAlign:a,textVerticalAlign:s};l.setStyle(v),u.setStyle(v),p=n.getBoundingRect();var y=m.margin,_=t.getItemStyle(["color","opacity"]);_.fill=t.get("backgroundColor");var x=new oD({shape:{x:p.x-y[3],y:p.y-y[0],width:p.width+y[1]+y[3],height:p.height+y[0]+y[2],r:t.get("borderRadius")},style:_,silent:!0});Xn(x),n.add(x)}}}),jD.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var ZO=["x","y","z","radius","angle","single"],XO=["cartesian2d","polar","singleAxis"],KO=function(t,e){t=t.slice();var i=f(t,sr);e=(e||[]).slice();var n=f(e,sr);return function(o,r){d(t,function(t,a){for(var s={name:t,capital:i[a]},l=0;l<e.length;l++)s[e[l]]=t+n[l];o.call(r,s)})}}(ZO,["axisIndex","axis","index","id"]),QO=d,JO=Vo,tP=function(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=n,this._dataZoomModel=i};tP.prototype={constructor:tP,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries(function(i){if(by(i.get("coordinateSystem"))){var n=this._dimName,o=e.queryComponents({mainType:n+"Axis",index:i.get(n+"AxisIndex"),id:i.get(n+"AxisId")})[0];this._axisIndex===(o&&o.componentIndex)&&t.push(i)}},this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,i=this._dimName,n=this.ecModel,o=this.getAxisModel(),r="x"===i||"y"===i;r?(e="gridIndex",t="x"===i?"y":"x"):(e="polarIndex",t="angle"===i?"radius":"angle");var a;return n.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(o.get(e)||0)&&(a=t)}),a},getMinMaxSpan:function(){return i(this._minMaxSpan)},calculateDataWindow:function(t){var e=this._dataExtent,i=this.getAxisModel(),n=i.axis.scale,o=this._dataZoomModel.getRangePropMode(),r=[0,100],a=[t.start,t.end],s=[];return QO(["startValue","endValue"],function(e){s.push(null!=t[e]?n.parse(t[e]):null)}),QO([0,1],function(t){var i=s[t],l=a[t];"percent"===o[t]?(null==l&&(l=r[t]),i=n.parse(zo(l,r,e,!0))):l=zo(i,e,r,!0),s[t]=i,a[t]=l}),{valueWindow:JO(s),percentWindow:JO(a)}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=Dy(this,this._dimName,e);var i=this.calculateDataWindow(t.option);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,Ty(this),Cy(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,Cy(this,!0))},filterData:function(t,e){function i(t){return t>=a[0]&&t<=a[1]}if(t===this._dataZoomModel){var n=this._dimName,o=this.getTargetSeriesModels(),r=t.get("filterMode"),a=this._valueWindow;"none"!==r&&QO(o,function(t){var e=t.getData(),o=e.mapDimension(n,!0);"weakFilter"===r?e.filterSelf(function(t){for(var i,n,r,s=0;s<o.length;s++){var l=e.get(o[s],t),h=!isNaN(l),c=l<a[0],u=l>a[1];if(h&&!c&&!u)return!0;h&&(r=!0),c&&(i=!0),u&&(n=!0)}return r&&i&&n}):QO(o,function(n){if("empty"===r)t.setData(e.map(n,function(t){return i(t)?t:NaN}));else{var o={};o[n]=a,e.selectRange(o)}}),QO(o,function(t){e.setApproximateExtent(a,t)})})}}};var eP=d,iP=KO,nP=Rs({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var n=Iy(t);this.mergeDefaultAndTheme(t,i),this.doInit(n)},mergeOption:function(t){var e=Iy(t);n(this.option,t,!0),this.doInit(e)},doInit:function(t){var e=this.option;Hx.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),Ay(this,t),eP([["start","startValue"],["end","endValue"]],function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis(function(e,i,n,o){var r=this.dependentModels[e.axis][i],a=r.__dzAxisProxy||(r.__dzAxisProxy=new tP(e.name,i,this,o));t[e.name+"_"+i]=a},this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();iP(function(e){var i=e.axisIndex;t[i]=ki(t[i])},this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;iP(function(i){null!=t[i.axisIndex]&&(e=!0)},this);var i=t.orient;return null==i&&e?"orient":e?void 0:(null==i&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),i=this.option,n=this.dependentModels;if(t){var o="vertical"===e?"y":"x";n[o+"Axis"].length?(i[o+"AxisIndex"]=[0],t=!1):eP(n.singleAxis,function(n){t&&n.get("orient",!0)===e&&(i.singleAxisIndex=[n.componentIndex],t=!1)})}t&&iP(function(e){if(t){var n=[],o=this.dependentModels[e.axis];if(o.length&&!n.length)for(var r=0,a=o.length;r<a;r++)"category"===o[r].get("type")&&n.push(r);i[e.axisIndex]=n,n.length&&(t=!1)}},this),t&&this.ecModel.eachSeries(function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&iP(function(e){var n=i[e.axisIndex],o=t.get(e.axisIndex),r=t.get(e.axisId),a=t.ecModel.queryComponents({mainType:e.axis,index:o,id:r})[0];if(Nx&&!a)throw new Error(e.axis+' "'+T(o,r,0)+'" not found');o=a.componentIndex,l(n,o)<0&&n.push(o)})},this)},_autoSetOrient:function(){var t;this.eachTargetAxis(function(e){!t&&(t=e.name)},this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var i=!0;return iP(function(n){var o=t.get(n.axisIndex),r=this.dependentModels[n.axis][o];r&&r.get("type")===e||(i=!1)},this),i},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return iP(function(e){if(null==t){var i=this.get(e.axisIndex);i.length&&(t=this.dependentModels[e.axis][i[0]])}},this),t},eachTargetAxis:function(t,e){var i=this.ecModel;iP(function(n){eP(this.get(n.axisIndex),function(o){t.call(e,n,o,this,i)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var i=this.getAxisProxy(t,e);return i&&i.getAxisModel()},setRawRange:function(t,e){var i=this.option;eP([["start","startValue"],["end","endValue"]],function(e){null==t[e[0]]&&null==t[e[1]]||(i[e[0]]=t[e[0]],i[e[1]]=t[e[1]])},this),!e&&Ay(this,t)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var i in e)if(e.hasOwnProperty(i)&&e[i].hostedBy(this))return e[i];for(var i in e)if(e.hasOwnProperty(i)&&!e[i].hostedBy(this))return e[i]},getRangePropMode:function(){return this._rangePropMode.slice()}}),oP=OM.extend({type:"dataZoom",render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetCoordInfo:function(){function t(t,e,i,n){for(var o,r=0;r<i.length;r++)if(i[r].model===t){o=i[r];break}o||i.push(o={model:t,axisModels:[],coordIndex:n}),o.axisModels.push(e)}var e=this.dataZoomModel,i=this.ecModel,n={};return e.eachTargetAxis(function(e,o){var r=i.getComponent(e.axis,o);if(r){var a=r.getCoordSysModel();a&&t(a,r,n[a.mainType]||(n[a.mainType]=[]),a.componentIndex)}},this),n}}),rP=(nP.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),oD),aP=zo,sP=Vo,lP=v,hP=d,cP="horizontal",uP=5,dP=["line","bar","candlestick","scatter"],fP=oP.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,n){if(fP.superApply(this,"render",arguments),Pa(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1===this.dataZoomModel.get("show"))return void this.group.removeAll();n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),this._updateView()},remove:function(){fP.superApply(this,"remove",arguments),Na(this,"_dispatchZoomAction")},dispose:function(){fP.superApply(this,"dispose",arguments),Na(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new Ww;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},o=this._orient===cP?{right:n.width-i.x-i.width,top:n.height-30-7,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},r=pr(t.option);d(["right","top","width","height"],function(t){"ph"===r[t]&&(r[t]=o[t])});var a=cr(r,n,t.padding);this._location={x:a.x,y:a.y},this._size=[a.width,a.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),r=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(i!==cP||o?i===cP&&o?{scale:a?[-1,1]:[-1,-1]}:"vertical"!==i||o?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]});var s=t.getBoundingRect([r]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,i=this._displayables.barGroup;i.add(new rP({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),i.add(new rP({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:v(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),o=i.getShadowDim?i.getShadowDim():t.otherDim;if(null!=o){var r=n.getDataExtent(o),s=.3*(r[1]-r[0]);r=[r[0]-s,r[1]+s];var l,h=[0,e[1]],c=[0,e[0]],u=[[e[0],0],[0,0]],d=[],f=c[1]/(n.count()-1),p=0,g=Math.round(n.count()/e[0]);n.each([o],function(t,e){if(g>0&&e%g)return void(p+=f);var i=null==t||isNaN(t)||""===t,n=i?0:aP(t,r,h,!0);i&&!l&&e?(u.push([u[u.length-1][0],0]),d.push([d[d.length-1][0],0])):!i&&l&&(u.push([p,0]),d.push([p,0])),u.push([p,n]),d.push([p,n]),p+=f,l=i});var m=this.dataZoomModel;this._displayables.barGroup.add(new iD({shape:{points:u},style:a({fill:m.get("dataBackgroundColor")},m.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new nD({shape:{points:d},style:m.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var i,n=this.ecModel;return t.eachTargetAxis(function(o,r){d(t.getAxisProxy(o.name,r).getTargetSeriesModels(),function(t){if(!(i||!0!==e&&l(dP,t.get("type"))<0)){var a,s=n.getComponent(o.axis,r).axis,h=ky(o.name),c=t.coordinateSystem;null!=h&&c.getOtherAxis&&(a=c.getOtherAxis(s).inverse),h=t.getData().mapDimension(h),i={thisAxis:s,series:t,thisDim:o.name,otherDim:h,otherAxisInverse:a}}},this)},this),i}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],i=t.handleLabels=[],n=this._displayables.barGroup,o=this._size,r=this.dataZoomModel;n.add(t.filler=new rP({draggable:!0,cursor:Ey(this._orient),drift:lP(this._onDragMove,this,"all"),onmousemove:function(t){vb(t.event)},ondragstart:lP(this._showDataInfo,this,!0),ondragend:lP(this._onDragEnd,this),onmouseover:lP(this._showDataInfo,this,!0),onmouseout:lP(this._showDataInfo,this,!1),style:{fill:r.get("fillerColor"),textPosition:"inside"}})),n.add(new rP(Xn({silent:!0,shape:{x:0,y:0,width:o[0],height:o[1]},style:{stroke:r.get("dataBackgroundColor")||r.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),hP([0,1],function(t){var o=Eo(r.get("handleIcon"),{cursor:Ey(this._orient),draggable:!0,drift:lP(this._onDragMove,this,t),onmousemove:function(t){vb(t.event)},ondragend:lP(this._onDragEnd,this),onmouseover:lP(this._showDataInfo,this,!0),onmouseout:lP(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),a=o.getBoundingRect();this._handleHeight=Bo(r.get("handleSize"),this._size[1]),this._handleWidth=a.width/a.height*this._handleHeight,o.setStyle(r.getModel("handleStyle").getItemStyle());var s=r.get("handleColor");null!=s&&(o.style.fill=s),n.add(e[t]=o);var l=r.textStyleModel;this.group.add(i[t]=new qS({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:l.getTextColor(),textFont:l.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[aP(t[0],[0,100],e,!0),aP(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),r=i.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];Wk(e,n,o,i.get("zoomLock")?"all":t,null!=r.minSpan?aP(r.minSpan,a,o,!0):null,null!=r.maxSpan?aP(r.maxSpan,a,o,!0):null);var s=this._range,l=this._range=sP([aP(n[0],o,a,!0),aP(n[1],o,a,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},_updateView:function(t){var e=this._displayables,i=this._handleEnds,n=sP(i.slice()),o=this._size;hP([0,1],function(t){var n=e.handles[t],r=this._handleHeight;n.attr({scale:[r/2,r/2],position:[i[t],o[1]/2-r/2]})},this),e.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:o[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=Mo(n.handles[t].parent,this.group),i=To(0===t?"right":"left",e),s=this._handleWidth/2+uP,l=Co([u[t]+(0===t?-s:s),this._size[1]/2],e);o[t].setStyle({x:l[0],y:l[1],textVerticalAlign:r===cP?"middle":i,textAlign:r===cP?i:"center",text:a[t]})}var i=this.dataZoomModel,n=this._displayables,o=n.handleLabels,r=this._orient,a=["",""];if(i.get("showDetail")){var s=i.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,h=this._range,c=t?s.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:s.getDataValueWindow();a=[this._formatLabel(c[0],l),this._formatLabel(c[1],l)]}}var u=sP(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,n=i.get("labelFormatter"),o=i.get("labelPrecision");null!=o&&"auto"!==o||(o=e.getPixelPrecision());var r=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(o,20));return x(n)?n(t,r):w(n)?n.replace("{value}",r):r},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,i){this._dragging=!0;var n=this._displayables.barGroup.getLocalTransform(),o=Co([e,i],n,!0),r=this._updateInterval(t,o[0]),a=this.dataZoomModel.get("realtime");this._updateView(!a),r&&a&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,i=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>e[0]||i[1]<0||i[1]>e[1])){var n=this._handleEnds,o=(n[0]+n[1])/2,r=this._updateInterval("all",i[0]-o);this._updateView(),r&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(hP(this.getTargetCoordInfo(),function(e){if(!t&&e.length){var i=e[0].model.coordinateSystem;t=i.getRect&&i.getRect()}}),!t){var e=this.api.getWidth(),i=this.api.getHeight();t={x:.2*e,y:.2*i,width:.6*e,height:.6*i}}return t}});nP.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var pP=y,gP="\0_ec_dataZoom_roams",mP=v,vP=oP.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(t,e,i,n){vP.superApply(this,"render",arguments),this._range=t.getPercentRange(),d(this.getTargetCoordInfo(),function(e,n){var o=f(e,function(t){return Py(t.model)});d(e,function(e){var r=e.model,a=t.option;Ly(i,{coordId:Py(r),allCoordIds:o,containsPoint:function(t,e,i){return r.coordinateSystem.containPoint([e,i])},dataZoomId:t.id,throttleRate:t.get("throttle",!0),panGetRange:mP(this._onPan,this,e,n),zoomGetRange:mP(this._onZoom,this,e,n),zoomLock:a.zoomLock,disabled:a.disabled,roamControllerOpt:{zoomOnMouseWheel:a.zoomOnMouseWheel,moveOnMouseMove:a.moveOnMouseMove,preventDefaultMouseMove:a.preventDefaultMouseMove}})},this)},this)},dispose:function(){Oy(this.api,this.dataZoomModel.id),vP.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,i,n,o,r,a,s,l){var h=this._range,c=h.slice(),u=t.axisModels[0];if(u){var d=yP[e]([r,a],[s,l],u,i,t),f=d.signal*(c[1]-c[0])*d.pixel/d.pixelLength;return Wk(f,c,[0,100],"all"),this._range=c,h[0]!==c[0]||h[1]!==c[1]?c:void 0}},_onZoom:function(t,e,i,n,o,r){var a=this._range,s=a.slice(),l=t.axisModels[0];if(l){var h=yP[e](null,[o,r],l,i,t),c=(h.signal>0?h.pixelStart+h.pixelLength-h.pixel:h.pixel-h.pixelStart)/h.pixelLength*(s[1]-s[0])+s[0];n=Math.max(1/n,0),s[0]=(s[0]-c)*n+c,s[1]=(s[1]-c)*n+c;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Wk(0,s,[0,100],0,u.minSpan,u.maxSpan),this._range=s,a[0]!==s[0]||a[1]!==s[1]?s:void 0}}}),yP={grid:function(t,e,i,n,o){var r=i.axis,a={},s=o.model.coordinateSystem.getRect();return t=t||[0,0],"x"===r.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=r.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=r.inverse?-1:1),a},polar:function(t,e,i,n,o){var r=i.axis,a={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),h=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===i.mainType?(a.pixel=e[0]-t[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=r.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=h[1]-h[0],a.pixelStart=h[0],a.signal=r.inverse?-1:1),a},singleAxis:function(t,e,i,n,o){var r=i.axis,a=o.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===r.orient?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=r.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=r.inverse?-1:1),s}};Ts({getTargetSeries:function(t){var e=z();return t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,i,n){d(n.getAxisProxy(t.name,i).getTargetSeriesModels(),function(t){e.set(t.uid,t)})})}),e},modifyOutputEnd:!0,overallReset:function(t,e){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,i,n){n.getAxisProxy(t.name,i).reset(n,e)}),t.eachTargetAxis(function(t,i,n){n.getAxisProxy(t.name,i).filterData(n,e)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setRawRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]},!0)})}}),As("dataZoom",function(t,e){var i=Sy(v(e.eachComponent,e,"dataZoom"),KO,function(t,e){return t.get(e.axisIndex)}),n=[];e.eachComponent({mainType:"dataZoom",query:t},function(t,e){n.push.apply(n,i(t).nodes)}),d(n,function(e,i){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})});var _P=d,xP=function(t){var e=t&&t.visualMap;_(e)||(e=e?[e]:[]),_P(e,function(t){if(t){$y(t,"splitList")&&!$y(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&_(e)&&_P(e,function(t){b(t)&&($y(t,"start")&&!$y(t,"min")&&(t.min=t.start),$y(t,"end")&&!$y(t,"max")&&(t.max=t.end))})}})};jD.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"});var wP=gC.VISUAL.COMPONENT;Os(wP,{createOnAllSeries:!0,reset:function(t,e){var i=[];return e.eachComponent("visualMap",function(e){var n=t.pipelineContext;!e.isTargetSeries(t)||n&&n.large||i.push(Uv(e.stateList,e.targetVisuals,v(e.getValueState,e),e.getDataDimension(t.getData())))}),i}}),Os(wP,{createOnAllSeries:!0,reset:function(t,e){var i=t.getData(),n=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var o=e.getVisualMeta(v(Gy,null,t,e))||{stops:[],outerColors:[]},r=e.getDataDimension(i),a=i.getDimensionInfo(r);null!=a&&(o.dimension=a.index,n.push(o))}}),t.getData().setVisual("visualMeta",n)}});var bP={get:function(t,e,n){var o=i((SP[t]||{})[e]);return n&&_(o)?o[o.length-1]:o}},SP={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},DP=GA.mapVisual,MP=GA.eachVisual,CP=_,TP=d,IP=Vo,AP=zo,kP=H,EP=Rs({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,i)},optionUpdated:function(t,e){var i=this.option;Hx.canvasSupported||(i.realtime=!1),!e&&jv(i,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=v(t,this),this.controllerVisuals=Gv(this.option.controller,e,t),this.targetVisuals=Gv(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,i){e.push(i)}):e=ki(t),e},eachTargetSeries:function(t,e){d(this.getTargetSeriesIndices(),function(i){t.call(e,this.ecModel.getSeriesByIndex(i))},this)},isTargetSeries:function(t){var e=!1;return this.eachTargetSeries(function(i){i===t&&(e=!0)}),e},formatValueText:function(t,e,i){function n(t){return t===l[0]?"min":t===l[1]?"max":(+t).toFixed(Math.min(s,20))}var o,r,a=this.option,s=a.precision,l=this.dataBound,h=a.formatter;return i=i||["<",">"],_(t)&&(t=t.slice(),o=!0),r=e?t:o?[n(t[0]),n(t[1])]:n(t),w(h)?h.replace("{value}",o?r[0]:r).replace("{value2}",o?r[1]:r):x(h)?o?h(t[0],t[1]):h(t):o?t[0]===l[0]?i[0]+" "+r[1]:t[1]===l[1]?i[1]+" "+r[0]:r[0]+" - "+r[1]:r},resetExtent:function(){var t=this.option,e=IP([t.min,t.max]);this._dataExtent=e},getDataDimension:function(t){var e=this.option.dimension,i=t.dimensions;if(null!=e||i.length){if(null!=e)return t.getDimension(e);for(var n=t.dimensions,o=n.length-1;o>=0;o--){var r=n[o];if(!t.getDimensionInfo(r).isCalculationCoord)return r}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function t(t){CP(a.color)&&!t.inRange&&(t.inRange={color:a.color.slice().reverse()}),t.inRange=t.inRange||{color:r.get("gradientColor")},TP(this.stateList,function(e){var i=t[e];if(w(i)){var n=bP.get(i,"active",c);n?(t[e]={},t[e][i]=n):delete t[e]}},this)}function e(t,e,i){var n=t[e],o=t[i];n&&!o&&(o=t[i]={},TP(n,function(t,e){if(GA.isValidType(e)){var i=bP.get(e,"inactive",c);null!=i&&(o[e]=i,"color"!==e||o.hasOwnProperty("opacity")||o.hasOwnProperty("colorAlpha")||(o.opacity=[0,0]))}}))}function o(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,o=this.get("inactiveColor");TP(this.stateList,function(r){var a=this.itemSize,s=t[r];s||(s=t[r]={color:c?o:[o]}),null==s.symbol&&(s.symbol=e&&i(e)||(c?"roundRect":["roundRect"])),null==s.symbolSize&&(s.symbolSize=n&&i(n)||(c?a[0]:[a[0],a[0]])),s.symbol=DP(s.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var l=s.symbolSize;if(null!=l){var h=-1/0;MP(l,function(t){t>h&&(h=t)}),s.symbolSize=DP(l,function(t){return AP(t,[0,h],[0,a[0]],!0)})}},this)}var r=this.ecModel,a=this.option,s={inRange:a.inRange,outOfRange:a.outOfRange},l=a.target||(a.target={}),h=a.controller||(a.controller={});n(l,s),n(h,s);var c=this.isCategory();t.call(this,l),t.call(this,h),e.call(this,l,"inRange","outOfRange"),o.call(this,h)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:kP,getValueState:kP,getVisualMeta:kP}),LP=[20,140],OP=EP.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){OP.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){OP.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),(null==t[0]||isNaN(t[0]))&&(t[0]=LP[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=LP[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):_(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){EP.prototype.completeVisualOption.apply(this,arguments),d(this.stateList,function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=Vo((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),function(e,i){t[0]<=e&&e<=t[1]&&n.push(i)},this),e.push({seriesId:i.id,dataIndex:n})},this),e},getVisualMeta:function(t){function e(e,i){o.push({value:e,color:t(e,i)})}for(var i=jy(this,"outOfRange",this.getExtent()),n=jy(this,"inRange",this.option.range.slice()),o=[],r=0,a=0,s=n.length,l=i.length;a<l&&(!n.length||i[a]<=n[0]);a++)i[a]<n[r]&&e(i[a],"outOfRange");for(var h=1;r<s;r++,h=0)h&&o.length&&e(n[r],"outOfRange"),e(n[r],"inRange");for(var h=1;a<l;a++)(!n.length||n[n.length-1]<i[a])&&(h&&(o.length&&e(o[o.length-1].value,"outOfRange"),h=0),e(i[a],"outOfRange"));var c=o.length;return{stops:o,outerColors:[c?o[0].color:"transparent",c?o[c-1].color:"transparent"]}}}),PP=zs({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,i,n){if(this.visualMapModel=t,!1===t.get("show"))return void this.group.removeAll();this.doRender.apply(this,arguments)},renderBackground:function(t){var e=this.visualMapModel,i=ED(e.get("padding")||0),n=t.getBoundingRect();t.add(new oD({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(t,e,i){function n(t){return s[t]}function o(t,e){s[t]=e}i=i||{};var r=i.forceState,a=this.visualMapModel,s={};if("symbol"===e&&(s.symbol=a.get("itemSymbol")),"color"===e){var l=a.get("contentColor");s.color=l}var h=a.controllerVisuals[r||a.getValueState(t)];return d(GA.prepareVisualTypes(h),function(r){var a=h[r];i.convertOpacityToAlpha&&"opacity"===r&&(r="colorAlpha",a=h.__alphaForOpacity),GA.dependsOn(r,e)&&a&&a.applyVisual(t,n,o)}),s[e]},positionGroup:function(t){var e=this.visualMapModel,i=this.api;ur(t,e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},doRender:H}),NP=zo,RP=d,zP=Math.min,BP=Math.max,HP=12,VP=6,WP=PP.extend({type:"visualMap.continuous",init:function(){WP.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var i=t.get("text");this._renderEndsText(e,i,0),this._renderEndsText(e,i,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,i){if(e){var n=e[1-i];n=null!=n?n+"":"";var o=this.visualMapModel,r=o.get("textGap"),a=o.itemSize,s=this._shapes.barGroup,l=this._applyTransform([a[0]/2,0===i?-r:a[1]+r],s),h=this._applyTransform(0===i?"bottom":"top",s),c=this._orient,u=this.visualMapModel.textStyleModel;this.group.add(new qS({style:{x:l[0],y:l[1],textVerticalAlign:"horizontal"===c?"middle":h,textAlign:"horizontal"===c?h:"center",text:n,textFont:u.getFont(),textFill:u.getTextColor()}}))}},_renderBar:function(t){
var e=this.visualMapModel,i=this._shapes,n=e.itemSize,o=this._orient,r=this._useHandle,a=Yy(e,this.api,n),s=i.barGroup=this._createBarGroup(a);s.add(i.outOfRange=qy()),s.add(i.inRange=qy(null,r?Jy(this._orient):null,v(this._dragHandle,this,"all",!1),v(this._dragHandle,this,"all",!0)));var l=e.textStyleModel.getTextRect("国"),h=BP(l.width,l.height);r&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(s,0,n,h,o,a),this._createHandle(s,1,n,h,o,a)),this._createIndicator(s,n,h,o),t.add(s)},_createHandle:function(t,e,i,n,o){var r=v(this._dragHandle,this,e,!1),a=v(this._dragHandle,this,e,!0),s=qy(Zy(e,n),Jy(this._orient),r,a);s.position[0]=i[0],t.add(s);var l=this.visualMapModel.textStyleModel,h=new qS({draggable:!0,drift:r,onmousemove:function(t){vb(t.event)},ondragend:a,style:{x:0,y:0,text:"",textFont:l.getFont(),textFill:l.getTextColor()}});this.group.add(h);var c=["horizontal"===o?n/2:1.5*n,"horizontal"===o?0===e?-1.5*n:1.5*n:0===e?-n/2:n/2],u=this._shapes;u.handleThumbs[e]=s,u.handleLabelPoints[e]=c,u.handleLabels[e]=h},_createIndicator:function(t,e,i,n){var o=qy([[0,0]],"move");o.position[0]=e[0],o.attr({invisible:!0,silent:!0}),t.add(o);var r=this.visualMapModel.textStyleModel,a=new qS({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:r.getFont(),textFill:r.getTextColor()}});this.group.add(a);var s=["horizontal"===n?i/2:VP+3,0],l=this._shapes;l.indicator=o,l.indicatorLabel=a,l.indicatorLabelPoint=s},_dragHandle:function(t,e,i,n){if(this._useHandle){if(this._dragging=!e,!e){var o=this._applyTransform([i,n],this._shapes.barGroup,!0);this._updateInterval(t,o[1]),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():Qy(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),n=[0,t.itemSize[1]];this._handleEnds=[NP(e[0],i,n,!0),NP(e[1],i,n,!0)]},_updateInterval:function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];Wk(e,n,o,t,0);var r=i.getExtent();this._dataInterval=[NP(n[0],o,r,!0),NP(n[1],o,r,!0)]},_updateView:function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,o=[0,e.itemSize[1]],r=t?o:this._handleEnds,a=this._createBarVisual(this._dataInterval,i,r,"inRange"),s=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:a.barColor,opacity:a.opacity}).setShape("points",a.barPoints),n.outOfRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints),this._updateHandle(r,a)},_createBarVisual:function(t,e,i,n){var o={forceState:n,convertOpacityToAlpha:!0},r=this._makeColorGradient(t,o),a=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],s=this._createBarPoints(i,a);return{barColor:new uD(0,0,0,1,r),barPoints:s,handlesColor:[r[0].color,r[r.length-1].color]}},_makeColorGradient:function(t,e){var i=[],n=(t[1]-t[0])/100;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var o=1;o<100;o++){var r=t[0]+n*o;if(r>t[1])break;i.push({color:this.getControllerVisual(r,"color",e),offset:o/100})}return i.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),i},_createBarPoints:function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new Ww("horizontal"!==e||i?"horizontal"===e&&i?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||i?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(t,e){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,o=i.handleThumbs,r=i.handleLabels;RP([0,1],function(a){var s=o[a];s.setStyle("fill",e.handlesColor[a]),s.position[1]=t[a];var l=Co(i.handleLabelPoints[a],Mo(s,this.group));r[a].setStyle({x:l[0],y:l[1],text:n.formatValueText(this._dataInterval[a]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===a?"bottom":"top":"left",i.barGroup)})},this)}},_showIndicator:function(t,e,i,n){var o=this.visualMapModel,r=o.getExtent(),a=o.itemSize,s=[0,a[1]],l=NP(t,r,s,!0),h=this._shapes,c=h.indicator;if(c){c.position[1]=l,c.attr("invisible",!1),c.setShape("points",Xy(!!i,n,l,a[1]));var u={convertOpacityToAlpha:!0},d=this.getControllerVisual(t,"color",u);c.setStyle("fill",d);var f=Co(h.indicatorLabelPoint,Mo(c,this.group)),p=h.indicatorLabel;p.attr("invisible",!1);var g=this._applyTransform("left",h.barGroup),m=this._orient;p.setStyle({text:(i||"")+o.formatValueText(e),textVerticalAlign:"horizontal"===m?g:"middle",textAlign:"horizontal"===m?"center":g,x:f[0],y:f[1]})}},_enableHoverLinkToSeries:function(){var t=this;this._shapes.barGroup.on("mousemove",function(e){if(t._hovering=!0,!t._dragging){var i=t.visualMapModel.itemSize,n=t._applyTransform([e.offsetX,e.offsetY],t._shapes.barGroup,!0,!0);n[1]=zP(BP(0,n[1]),i[1]),t._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var o=[0,n[1]],r=i.getExtent();t=zP(BP(o[0],t),o[1]);var a=Ky(i,r,o),s=[t-a,t+a],l=NP(t,o,r,!0),h=[NP(s[0],o,r,!0),NP(s[1],o,r,!0)];s[0]<o[0]&&(h[0]=-1/0),s[1]>o[1]&&(h[1]=1/0),e&&(h[0]===-1/0?this._showIndicator(l,h[1],"< ",a):h[1]===1/0?this._showIndicator(l,h[0],"> ",a):this._showIndicator(l,l,"≈ ",a));var c=this._hoverLinkDataIndices,u=[];(e||Qy(i))&&(u=this._hoverLinkDataIndices=i.findTargetDataIndices(h));var d=Bi(c,u);this._dispatchHighDown("downplay",Uy(d[0])),this._dispatchHighDown("highlight",Uy(d[1]))}},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,i=this.visualMapModel;if(e&&null!=e.dataIndex){var n=this.ecModel.getSeriesByIndex(e.seriesIndex);if(i.isTargetSeries(n)){var o=n.getData(e.dataType),r=o.get(i.getDataDimension(o),e.dataIndex,!0);isNaN(r)||this._showIndicator(r,r)}}},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Uy(t)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,i,n){var o=Mo(e,n?null:this.group);return _D[_(t)?"applyTransform":"transformDirection"](t,o,i)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});As({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(e){e.setSelected(t.selected)})}),Cs(xP);var FP=EP.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){FP.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();$P[this._mode].call(this),this._resetSelected(t,e);var o=this.option.categories;this.resetVisual(function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=i(o)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=f(this._pieceList,function(t){var t=i(t);return"inRange"!==e&&(t.visual=null),t}))})},completeVisualOption:function(){function t(t,e,i){return t&&t[e]&&(b(t[e])?t[e].hasOwnProperty(i):t[e]===i)}var e=this.option,i={},n=GA.listVisualTypes(),o=this.isCategory();d(e.pieces,function(t){d(n,function(e){t.hasOwnProperty(e)&&(i[e]=1)})}),d(i,function(i,n){var r=0;d(this.stateList,function(i){r|=t(e,i,n)||t(e.target,i,n)},this),!r&&d(this.stateList,function(t){(e[t]||(e[t]={}))[n]=bP.get(n,"inRange"===t?"active":"inactive",o)})},this),EP.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var i=this.option,n=this._pieceList,o=(e?i:t).selected||{};if(i.selected=o,d(n,function(t,e){var i=this.getSelectedMapKey(t);o.hasOwnProperty(i)||(o[i]=!0)},this),"single"===i.selectedMode){var r=!1;d(n,function(t,e){var i=this.getSelectedMapKey(t);o[i]&&(r?o[i]=!1:r=!0)},this)}},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=i(t)},getValueState:function(t){var e=GA.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},findTargetDataIndices:function(t){var e=[];return this.eachTargetSeries(function(i){var n=[],o=i.getData();o.each(this.getDataDimension(o),function(e,i){GA.findPieceIndex(e,this._pieceList)===t&&n.push(i)},this),e.push({seriesId:i.id,dataIndex:n})},this),e},getRepresentValue:function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var i=t.interval||[];e=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return e},getVisualMeta:function(t){function e(e,r){var a=o.getRepresentValue({interval:e});r||(r=o.getValueState(a));var s=t(a,r);e[0]===-1/0?n[0]=s:e[1]===1/0?n[1]=s:i.push({value:e[0],color:s},{value:e[1],color:s})}if(!this.isCategory()){var i=[],n=[],o=this,r=this._pieceList.slice();if(r.length){var a=r[0].interval[0];a!==-1/0&&r.unshift({interval:[-1/0,a]}),a=r[r.length-1].interval[1],a!==1/0&&r.push({interval:[a,1/0]})}else r.push({interval:[-1/0,1/0]});var s=-1/0;return d(r,function(t){var i=t.interval;i&&(i[0]>s&&e([s,i[0]],"outOfRange"),e(i.slice()),s=i[1])},this),{stops:i,outerColors:n}}}}),$P={splitNumber:function(){var t=this.option,e=this._pieceList,i=Math.min(t.precision,20),n=this.getExtent(),o=t.splitNumber;o=Math.max(parseInt(o,10),1),t.splitNumber=o;for(var r=(n[1]-n[0])/o;+r.toFixed(i)!==r&&i<5;)i++;t.precision=i,r=+r.toFixed(i);var a=0;t.minOpen&&e.push({index:a++,interval:[-1/0,n[0]],close:[0,0]});for(var s=n[0],l=a+o;a<l;s+=r){var h=a===o-1?n[1]:s+r;e.push({index:a++,interval:[s,h],close:[1,1]})}t.maxOpen&&e.push({index:a++,interval:[n[1],1/0],close:[0,0]}),Ko(e),d(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;d(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),t_(t,this._pieceList)},pieces:function(){var t=this.option,e=this._pieceList;d(t.pieces,function(t,i){b(t)||(t={value:t});var n={text:"",index:i};if(null!=t.label&&(n.text=t.label),t.hasOwnProperty("value")){var o=n.value=t.value;n.interval=[o,o],n.close=[1,1]}else{for(var r=n.interval=[],a=n.close=[0,0],s=[1,0,1],l=[-1/0,1/0],h=[],c=0;c<2;c++){for(var u=[["gte","gt","min"],["lte","lt","max"]][c],d=0;d<3&&null==r[c];d++)r[c]=t[u[d]],a[c]=s[d],h[c]=2===d;null==r[c]&&(r[c]=l[c])}h[0]&&r[1]===1/0&&(a[0]=0),h[1]&&r[0]===-1/0&&(a[1]=0),Nx&&r[0]>r[1]&&console.warn("Piece "+i+"is illegal: "+r+" lower bound should not greater then uppper bound."),r[0]===r[1]&&a[0]&&a[1]&&(n.value=r[0])}n.visual=GA.retrieveVisuals(t),e.push(n)},this),t_(t,e),Ko(e),d(e,function(t){var e=t.close,i=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,i)},this)}};PP.extend({type:"visualMap.piecewise",doRender:function(){function t(t){var o=t.piece,h=new Ww;h.onclick=v(this._onItemClick,this,o),this._enableHoverLink(h,t.indexInModelPieceList);var c=i.getRepresentValue(o);if(this._createItemSymbol(h,c,[0,0,l[0],l[1]]),u){var d=this.visualMapModel.getValueState(c);h.add(new qS({style:{x:"right"===s?-n:l[0]+n,y:l[1]/2,text:o.text,textVerticalAlign:"middle",textAlign:s,textFont:r,textFill:a,opacity:"outOfRange"===d?.5:1}}))}e.add(h)}var e=this.group;e.removeAll();var i=this.visualMapModel,n=i.get("textGap"),o=i.textStyleModel,r=o.getFont(),a=o.getTextColor(),s=this._getItemAlign(),l=i.itemSize,h=this._getViewData(),c=h.endsText,u=T(i.get("showLabel",!0),!c);c&&this._renderEndsText(e,c[0],l,u,s),d(h.viewPieceList,t,this),c&&this._renderEndsText(e,c[1],l,u,s),FD(i.get("orient"),e,i.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},_enableHoverLink:function(t,e){function i(t){var i=this.visualMapModel;i.option.hoverLink&&this.api.dispatchAction({type:t,batch:Uy(i.findTargetDataIndices(e))})}t.on("mouseover",v(i,this,"highlight")).on("mouseout",v(i,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return Yy(t,this.api,t.itemSize);var i=e.align;return i&&"auto"!==i||(i="left"),i},_renderEndsText:function(t,e,i,n,o){if(e){var r=new Ww,a=this.visualMapModel.textStyleModel;r.add(new qS({style:{x:n?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:n?o:"center",text:e,textFont:a.getFont(),textFill:a.getTextColor()}})),t.add(r)}},_getViewData:function(){var t=this.visualMapModel,e=f(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),i=t.get("text"),n=t.get("orient"),o=t.get("inverse");return("horizontal"===n?o:!o)?e.reverse():i&&(i=i.slice().reverse()),{viewPieceList:e,endsText:i}},_createItemSymbol:function(t,e,i){t.add(ql(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,n=e.option,o=i(n.selected),r=e.getSelectedMapKey(t);"single"===n.selectedMode?(o[r]=!0,d(o,function(t,e){o[e]=e===r})):o[r]=!o[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}});Cs(xP);var GP=Jo,jP=er,YP=Rs({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,i,n){if(Nx&&"marker"===this.type)throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},isAnimationEnabled:function(){if(Hx.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e,i,n){var o=this.constructor,a=this.mainType+"Model";i||e.eachSeries(function(t){var i=t.get(this.mainType,!0),s=t[a];if(!i||!i.data)return void(t[a]=null);s?s.mergeOption(i,e,!0):(n&&e_(i),d(i.data,function(t){t instanceof Array?(e_(t[0]),e_(t[1])):e_(t)}),s=new o(i,this,e),r(s,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),s.__hostSeries=t),t[a]=s},this)},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=_(i)?f(i,GP).join(", "):GP(i),o=e.getName(t),r=jP(this.name);return(null!=i||o)&&(r+="<br />"),o&&(r+=jP(o),null!=i&&(r+=" : ")),null!=i&&(r+=jP(n)),r},getData:function(){return this._data},setData:function(t){this._data=t}});c(YP,IM),YP.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var UP=l,qP=y,ZP={min:qP(o_,"min"),max:qP(o_,"max"),average:qP(o_,"average")},XP=zs({type:"marker",init:function(){this.markerGroupMap=z()},render:function(t,e,i){var n=this.markerGroupMap;n.each(function(t){t.__keep=!1});var o=this.type+"Model";e.eachSeries(function(t){var n=t[o];n&&this.renderSeries(t,n,e,i)},this),n.each(function(t){!t.__keep&&this.group.remove(t.group)},this)},renderSeries:function(){}});XP.extend({type:"markPoint",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e&&(u_(e.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,e,i,n){var o=t.coordinateSystem,r=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,new Dh),h=d_(o,t,e);e.setData(h),u_(e.getData(),t,n),h.each(function(t){var i=h.getItemModel(t),n=i.getShallow("symbolSize");"function"==typeof n&&(n=n(e.getRawValue(t),e.getDataParams(t))),h.setItemVisual(t,{symbolSize:n,color:i.get("itemStyle.color")||a.getVisual("color"),symbol:i.getShallow("symbol")})}),l.updateData(h),this.group.add(l.group),h.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=e})}),l.__keep=!0,l.group.silent=e.get("silent")||t.get("silent")}}),Cs(function(t){t.markPoint=t.markPoint||{}}),YP.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var KP=function(t,e,o,a){var s=t.getData(),l=a.type;if(!_(a)&&("min"===l||"max"===l||"average"===l||"median"===l||null!=a.xAxis||null!=a.yAxis)){var h,c;if(null!=a.yAxis||null!=a.xAxis)h=null!=a.yAxis?"y":"x",e.getAxis(h),c=T(a.yAxis,a.xAxis);else{var u=a_(a,s,e,t);h=u.valueDataDim,u.valueAxis,c=c_(s,h,l)}var d="x"===h?0:1,f=1-d,p=i(a),g={};p.type=null,p.coord=[],g.coord=[],p.coord[f]=-1/0,g.coord[f]=1/0;var m=o.get("precision");m>=0&&"number"==typeof c&&(c=+c.toFixed(Math.min(m,20))),p.coord[d]=g.coord[d]=c,a=[p,g,{type:l,valueIndex:a.valueIndex,value:c}]}return a=[r_(t,a[0]),r_(t,a[1]),r({},a[2])],a[2].type=a[2].type||"",n(a[2],a[0]),n(a[2],a[1]),a};XP.extend({type:"markLine",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markLineModel;if(e){var n=e.getData(),o=e.__from,r=e.__to;o.each(function(e){m_(o,e,!0,t,i),m_(r,e,!1,t,i)}),n.each(function(t){n.setItemLayout(t,[o.getItemLayout(t),r.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},renderSeries:function(t,e,i,n){function o(e,i,o){var r=e.getItemModel(i);m_(e,i,o,t,n),e.setItemVisual(i,{symbolSize:r.get("symbolSize")||g[o?0:1],symbol:r.get("symbol",!0)||p[o?0:1],color:r.get("itemStyle.color")||s.getVisual("color")})}var r=t.coordinateSystem,a=t.id,s=t.getData(),l=this.markerGroupMap,h=l.get(a)||l.set(a,new Xd);this.group.add(h.group);var c=v_(r,t,e),u=c.from,d=c.to,f=c.line;e.__from=u,e.__to=d,e.setData(f);var p=e.get("symbol"),g=e.get("symbolSize");_(p)||(p=[p,p]),"number"==typeof g&&(g=[g,g]),c.from.each(function(t){o(u,t,!0),o(d,t,!1)}),f.each(function(t){var e=f.getItemModel(t).get("lineStyle.color");f.setItemVisual(t,{color:e||u.getItemVisual(t,"color")}),f.setItemLayout(t,[u.getItemLayout(t),d.getItemLayout(t)]),f.setItemVisual(t,{fromSymbolSize:u.getItemVisual(t,"symbolSize"),fromSymbol:u.getItemVisual(t,"symbol"),toSymbolSize:d.getItemVisual(t,"symbolSize"),toSymbol:d.getItemVisual(t,"symbol")})}),h.updateData(f),c.line.eachItemGraphicEl(function(t,i){t.traverse(function(t){t.dataModel=e})}),h.__keep=!0,h.group.silent=e.get("silent")||t.get("silent")}}),Cs(function(t){t.markLine=t.markLine||{}}),YP.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var QP=function(t,e,i,n){var r=r_(t,n[0]),a=r_(t,n[1]),s=T,l=r.coord,h=a.coord;l[0]=s(l[0],-1/0),l[1]=s(l[1],-1/0),h[0]=s(h[0],1/0),h[1]=s(h[1],1/0);var c=o([{},r,a]);return c.coord=[r.coord,a.coord],c.x0=r.x,c.y0=r.y,c.x1=a.x,c.y1=a.y,c},JP=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];XP.extend({type:"markArea",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markAreaModel;if(e){var n=e.getData();n.each(function(e){var o=f(JP,function(o){return w_(n,e,o,t,i)});n.setItemLayout(e,o),n.getItemGraphicEl(e).setShape("points",o)})}},this)},renderSeries:function(t,e,i,n){var o=t.coordinateSystem,r=t.id,s=t.getData(),l=this.markerGroupMap,h=l.get(r)||l.set(r,{group:new Ww});this.group.add(h.group),h.__keep=!0;var c=b_(o,t,e);e.setData(c),c.each(function(e){c.setItemLayout(e,f(JP,function(i){return w_(c,e,i,t,n)})),c.setItemVisual(e,{color:s.getVisual("color")})}),c.diff(h.__data).add(function(t){var e=new iD({shape:{points:c.getItemLayout(t)}});c.setItemGraphicEl(t,e),h.group.add(e)}).update(function(t,i){var n=h.__data.getItemGraphicEl(i);So(n,{shape:{points:c.getItemLayout(t)}},e,t),h.group.add(n),c.setItemGraphicEl(t,n)}).remove(function(t){var e=h.__data.getItemGraphicEl(t);h.group.remove(e)}).execute(),c.eachItemGraphicEl(function(t,i){var n=c.getItemModel(i),o=n.getModel("label"),r=n.getModel("emphasis.label"),s=c.getItemVisual(i,"color");t.useStyle(a(n.getModel("itemStyle").getItemStyle(),{fill:Wt(s,.4),stroke:s})),t.hoverStyle=n.getModel("emphasis.itemStyle").getItemStyle(),uo(t.style,t.hoverStyle,o,r,{labelFetcher:e,labelDataIndex:i,defaultText:c.getName(i)||"",isRectText:!0,autoColor:s}),co(t,{}),t.dataModel=e}),h.__data=c,h.group.silent=e.get("silent")||t.get("silent")}}),Cs(function(t){t.markArea=t.markArea||{}});var tN=function(t){var e=t&&t.timeline;_(e)||(e=e?[e]:[]),d(e,function(t){t&&S_(t)})};jD.registerSubTypeDefaulter("timeline",function(){return"slider"}),As({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var i=e.getComponent("timeline");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1)),e.resetOption("timeline"),a({currentIndex:i.option.currentIndex},t)}),As({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var i=e.getComponent("timeline");i&&null!=t.playState&&i.setPlayState(t.playState)});var eN=jD.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(t,e,i){this._data,this._names,this.mergeDefaultAndTheme(t,i),this._initData()},mergeOption:function(t){eN.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t>=e&&(t=e-1),t<0&&(t=0)),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var t=this.option,e=t.data||[],n=t.axisType,o=this._names=[];if("category"===n){var r=[];d(e,function(t,e){var n,a=Li(t);b(t)?(n=i(t),n.value=e):n=e,r.push(n),w(a)||null!=a&&!isNaN(a)||(a=""),o.push(a+"")}),e=r}var a={category:"ordinal",time:"time"}[n]||"number";(this._data=new YC([{name:"value",type:a}],this)).initData(e,o)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});c(eN.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),IM);var iN=OM.extend({type:"timeline"}),nN=function(t,e,i,n){NT.call(this,t,e,i),this.type=n||"value",this.model=null};nN.prototype={constructor:nN,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},h(nN,NT);var oN=v,rN=d,aN=Math.PI;iN.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(t,e,i,n){if(this.model=t,this.api=i,this.ecModel=e,this.group.removeAll(),t.get("show",!0)){var o=this._layout(t,i),r=this._createGroup("mainGroup"),a=this._createGroup("labelGroup"),s=this._axis=this._createAxis(o,t);t.formatTooltip=function(t){return er(s.scale.getLabel(t))},rN(["AxisLine","AxisTick","Control","CurrentPointer"],function(e){this["_render"+e](o,r,s,t)},this),this._renderAxisLabel(o,a,s,t),this._position(o,t)}this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var i=t.get("label.position"),n=t.get("orient"),o=C_(t,e);null==i||"auto"===i?i="horizontal"===n?o.y+o.height/2<e.getHeight()/2?"-":"+":o.x+o.width/2<e.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[n][i]);var r={horizontal:"center",vertical:i>=0||"+"===i?"left":"right"},a={horizontal:i>=0||"+"===i?"top":"bottom",vertical:"middle"},s={horizontal:0,vertical:aN/2},l="vertical"===n?o.height:o.width,h=t.getModel("controlStyle"),c=h.get("show",!0),u=c?h.get("itemSize"):0,d=c?h.get("itemGap"):0,f=u+d,p=t.get("label.rotate")||0;p=p*aN/180;var g,m,v,y,_=h.get("position",!0),x=c&&h.get("showPlayBtn",!0),w=c&&h.get("showPrevBtn",!0),b=c&&h.get("showNextBtn",!0),S=0,D=l;return"left"===_||"bottom"===_?(x&&(g=[0,0],S+=f),w&&(m=[S,0],S+=f),b&&(v=[D-u,0],D-=f)):(x&&(g=[D-u,0],D-=f),w&&(m=[0,0],S+=f),b&&(v=[D-u,0],D-=f)),y=[S,D],t.get("inverse")&&y.reverse(),{viewRect:o,mainLength:l,orient:n,rotation:s[n],labelRotation:p,labelPosOpt:i,labelAlign:t.get("label.align")||r[n],labelBaseline:t.get("label.verticalAlign")||t.get("label.baseline")||a[n],playPosition:g,prevBtnPosition:m,nextBtnPosition:v,axisExtent:y,controlSize:u,controlGap:d}},_position:function(t,e){function i(t){var e=t.position;t.origin=[u[0][0]-e[0],u[1][0]-e[1]]}function n(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function o(t,e,i,n,o){t[n]+=i[n][o]-e[n][o]}var r=this._mainGroup,a=this._labelGroup,s=t.viewRect;if("vertical"===t.orient){var l=dt(),h=s.x,c=s.y+s.height;mt(l,l,[-h,-c]),vt(l,l,-aN/2),mt(l,l,[h,c]),s=s.clone(),s.applyTransform(l)}var u=n(s),d=n(r.getBoundingRect()),f=n(a.getBoundingRect()),p=r.position,g=a.position;g[0]=p[0]=u[0][0];var m=t.labelPosOpt;if(isNaN(m)){var v="+"===m?0:1;o(p,d,u,1,v),o(g,f,u,1,1-v)}else{var v=m>=0?0:1;o(p,d,u,1,v),g[1]=p[1]+m}r.attr("position",p),a.attr("position",g),r.rotation=a.rotation=t.rotation,i(r),i(a)},_createAxis:function(t,e){var i=e.getData(),n=e.get("axisType"),o=Wl(e,n);o.getTicks=function(){return i.mapArray(["value"],function(t){return t})};var r=i.getDataExtent("value");o.setExtent(r[0],r[1]),o.niceTicks();var a=new nN("value",o,t.axisExtent,n);return a.model=e,a},_createGroup:function(t){var e=this["_"+t]=new Ww;return this.group.add(e),e},_renderAxisLine:function(t,e,i,n){var o=i.getExtent();n.get("lineStyle.show")&&e.add(new rD({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:r({lineCap:"round"},n.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,e,i,n){var o=n.getData(),r=i.scale.getTicks();rN(r,function(t){var r=i.dataToCoord(t),a=o.getItemModel(t),s=a.getModel("itemStyle"),l=a.getModel("emphasis.itemStyle"),h={position:[r,0],onclick:oN(this._changeTimeline,this,t)},c=I_(a,s,e,h);co(c,l.getItemStyle()),a.get("tooltip")?(c.dataIndex=t,c.dataModel=n):c.dataIndex=c.dataModel=null},this)},_renderAxisLabel:function(t,e,i,n){if(i.getLabelModel().get("show")){var o=n.getData(),r=i.getViewLabels();rN(r,function(n){var r=n.tickValue,a=o.getItemModel(r),s=a.getModel("label"),l=a.getModel("emphasis.label"),h=i.dataToCoord(n.tickValue),c=new qS({position:[h,0],rotation:t.labelRotation-t.rotation,onclick:oN(this._changeTimeline,this,r),silent:!1});fo(c.style,s,{text:n.formattedLabel,textAlign:t.labelAlign,textVerticalAlign:t.labelBaseline}),e.add(c),co(c,fo({},l))},this)}},_renderControl:function(t,e,i,n){function o(t,i,o,c){if(t){var u={position:t,origin:[r/2,0],rotation:c?-a:0,rectHover:!0,style:s,onclick:o},d=T_(n,i,h,u);e.add(d),co(d,l)}}var r=t.controlSize,a=t.rotation,s=n.getModel("controlStyle").getItemStyle(),l=n.getModel("emphasis.controlStyle").getItemStyle(),h=[0,-r/2,r,r],c=n.getPlayState(),u=n.get("inverse",!0);o(t.nextBtnPosition,"controlStyle.nextIcon",oN(this._changeTimeline,this,u?"-":"+")),o(t.prevBtnPosition,"controlStyle.prevIcon",oN(this._changeTimeline,this,u?"+":"-")),o(t.playPosition,"controlStyle."+(c?"stopIcon":"playIcon"),oN(this._handlePlayClick,this,!c),!0)},_renderCurrentPointer:function(t,e,i,n){var o=n.getData(),r=n.getCurrentIndex(),a=o.getItemModel(r).getModel("checkpointStyle"),s=this,l={onCreate:function(t){t.draggable=!0,t.drift=oN(s._handlePointerDrag,s),t.ondragend=oN(s._handlePointerDragend,s),A_(t,r,i,n,!0)},onUpdate:function(t){A_(t,r,i,n)}};this._currentPointer=I_(a,a,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var i=this._toAxisCoord(t)[0],n=this._axis,o=Vo(n.getExtent().slice());i>o[1]&&(i=o[1]),i<o[0]&&(i=o[0]),this._currentPointer.position[0]=i,this._currentPointer.dirty();var r=this._findNearestTick(i),a=this.model;(e||r!==a.getCurrentIndex()&&a.get("realtime"))&&this._changeTimeline(r)},_doPlayStop:function(){function t(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))}this._clearTimer(),
this.model.getPlayState()&&(this._timer=setTimeout(oN(t,this),this.model.get("playInterval")))},_toAxisCoord:function(t){return Co(t,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(t){var e,i=this.model.getData(),n=1/0,o=this._axis;return i.each(["value"],function(i,r){var a=o.dataToCoord(i),s=Math.abs(a-t);s<n&&(n=s,e=r)}),e},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}}),Cs(tN);var sN=Rs({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){sN.superApply(this,"optionUpdated",arguments),d(this.option.feature,function(t,e){var i=vy(e);i&&n(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});zs({type:"toolbox",render:function(t,e,i,n){function o(o,a){var s,u=c[o],d=c[a],f=l[u],p=new Lo(f,t,t.ecModel);if(u&&!d){if(k_(u))s={model:p,onclick:p.option.onclick,featureName:u};else{var g=vy(u);if(!g)return;s=new g(p,e,i)}h[u]=s}else{if(!(s=h[d]))return;s.model=p,s.ecModel=e,s.api=i}return!u&&d?void(s.dispose&&s.dispose(e,i)):!p.get("show")||s.unusable?void(s.remove&&s.remove(e,i)):(r(p,s,u),p.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&&n[t].trigger(e)},void(s.render&&s.render(p,e,i,n)))}function r(n,o,r){var l=n.getModel("iconStyle"),h=n.getModel("emphasis.iconStyle"),c=o.getIcons?o.getIcons():n.get("icon"),u=n.get("title")||{};if("string"==typeof c){var f=c,p=u;c={},u={},c[r]=f,u[r]=p}var g=n.iconPaths={};d(c,function(r,c){var d=Eo(r,{},{x:-s/2,y:-s/2,width:s,height:s});d.setStyle(l.getItemStyle()),d.hoverStyle=h.getItemStyle(),co(d),t.get("showTitle")&&(d.__title=u[c],d.on("mouseover",function(){var t=h.getItemStyle();d.setStyle({text:u[c],textPosition:t.textPosition||"bottom",textFill:t.fill||t.stroke||"#000",textAlign:t.textAlign||"center"})}).on("mouseout",function(){d.setStyle({textFill:null})})),d.trigger(n.get("iconStatus."+c)||"normal"),a.add(d),d.on("click",v(o.onclick,o,e,i,c)),g[c]=d})}var a=this.group;if(a.removeAll(),t.get("show")){var s=+t.get("itemSize"),l=t.get("feature")||{},h=this._features||(this._features={}),c=[];d(l,function(t,e){c.push(e)}),new Gs(this._featureNames||[],c).add(o).update(o).remove(y(o,null)).execute(),this._featureNames=c,hv(a,t,i),a.add(cv(a.getBoundingRect(),t)),a.eachChild(function(t){var e=t.__title,n=t.hoverStyle;if(n&&e){var o=we(e,Re(n)),r=t.position[0]+a.position[0],l=t.position[1]+a.position[1]+s,h=!1;l+o.height>i.getHeight()&&(n.textPosition="top",h=!0);var c=h?-5-o.height:s+8;r+o.width/2>i.getWidth()?(n.textPosition=["100%",c],n.textAlign="right"):r-o.width/2<0&&(n.textPosition=[0,c],n.textAlign="left")}})}},updateView:function(t,e,i,n){d(this._features,function(t){t.updateView&&t.updateView(t.model,e,i,n)})},remove:function(t,e){d(this._features,function(i){i.remove&&i.remove(t,e)}),this.group.removeAll()},dispose:function(t,e){d(this._features,function(i){i.dispose&&i.dispose(t,e)})}});var lN=GM.toolbox.saveAsImage;E_.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:lN.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:lN.lang.slice()},E_.prototype.unusable=!Hx.canvasSupported,E_.prototype.onclick=function(t,e){var i=this.model,n=i.get("name")||t.get("title.0.text")||"echarts",o=document.createElement("a"),r=i.get("type",!0)||"png";o.download=n+"."+r,o.target="_blank";var a=e.getConnectedDataURL({type:r,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if(o.href=a,"function"!=typeof MouseEvent||Hx.browser.ie||Hx.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(a.split(",")[1]),l=s.length,h=new Uint8Array(l);l--;)h[l]=s.charCodeAt(l);var c=new Blob([h]);window.navigator.msSaveOrOpenBlob(c,n+"."+r)}else{var u=i.get("lang"),d='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(u&&u[0]||"")+'" /></body>',f=window.open();f.document.write(d)}else{var p=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});o.dispatchEvent(p)}},my("saveAsImage",E_);var hN=GM.toolbox.magicType;L_.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:i(hN.title),option:{},seriesIndex:{}};var cN=L_.prototype;cN.getIcons=function(){var t=this.model,e=t.get("icon"),i={};return d(t.get("type"),function(t){e[t]&&(i[t]=e[t])}),i};var uN={line:function(t,e,i,o){if("bar"===t)return n({id:e,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},o.get("option.line")||{},!0)},bar:function(t,e,i,o){if("line"===t)return n({id:e,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},o.get("option.bar")||{},!0)},stack:function(t,e,i,o){if("line"===t||"bar"===t)return n({id:e,stack:"__ec_magicType_stack__"},o.get("option.stack")||{},!0)},tiled:function(t,e,i,o){if("line"===t||"bar"===t)return n({id:e,stack:""},o.get("option.tiled")||{},!0)}},dN=[["line","bar"],["stack","tiled"]];cN.onclick=function(t,e,i){var n=this.model,o=n.get("seriesIndex."+i);if(uN[i]){var r={series:[]},s=function(e){var o=e.subType,s=e.id,l=uN[i](o,s,e,n);l&&(a(l,e.option),r.series.push(l));var h=e.coordinateSystem;if(h&&"cartesian2d"===h.type&&("line"===i||"bar"===i)){var c=h.getAxesByScale("ordinal")[0];if(c){var u=c.dim,d=u+"Axis",f=t.queryComponents({mainType:d,index:e.get(name+"Index"),id:e.get(name+"Id")})[0],p=f.componentIndex;r[d]=r[d]||[];for(var g=0;g<=p;g++)r[d][p]=r[d][p]||{};r[d][p].boundaryGap="bar"===i}}};d(dN,function(t){l(t,i)>=0&&d(t,function(t){n.setIconStatus(t,"normal")})}),n.setIconStatus(i,"emphasis"),t.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},s),e.dispatchAction({type:"changeMagicType",currentType:i,newOption:r})}},As({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),my("magicType",L_);var fN=GM.toolbox.dataView,pN=new Array(60).join("-"),gN="\t",mN=new RegExp("["+gN+"]+","g");F_.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:i(fN.title),lang:i(fN.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},F_.prototype.onclick=function(t,e){function i(){n.removeChild(r),_._dom=null}var n=e.getDom(),o=this.model;this._dom&&n.removeChild(this._dom);var r=document.createElement("div");r.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",r.style.backgroundColor=o.get("backgroundColor")||"#fff";var a=document.createElement("h4"),s=o.get("lang")||[];a.innerHTML=s[0]||o.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=o.get("textColor");var l=document.createElement("div"),h=document.createElement("textarea");l.style.cssText="display:block;width:100%;overflow:auto;";var c=o.get("optionToContent"),u=o.get("contentToOption"),d=R_(t);if("function"==typeof c){var f=c(e.getOption());"string"==typeof f?l.innerHTML=f:M(f)&&l.appendChild(f)}else l.appendChild(h),h.readOnly=o.get("readOnly"),h.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",h.style.color=o.get("textColor"),h.style.borderColor=o.get("textareaBorderColor"),h.style.backgroundColor=o.get("textareaColor"),h.value=d.value;var p=d.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:0;left:0;right:0;";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),y=document.createElement("div");m+=";background-color:"+o.get("buttonColor"),m+=";color:"+o.get("buttonTextColor");var _=this;pi(v,"click",i),pi(y,"click",function(){var t;try{t="function"==typeof u?u(l,e.getOption()):W_(h.value,p)}catch(t){throw i(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),i()}),v.innerHTML=s[1],y.innerHTML=s[2],y.style.cssText=m,v.style.cssText=m,!o.get("readOnly")&&g.appendChild(y),g.appendChild(v),pi(h,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,i=this.selectionStart,n=this.selectionEnd;this.value=e.substring(0,i)+gN+e.substring(n),this.selectionStart=this.selectionEnd=i+1,vb(t)}}),r.appendChild(a),r.appendChild(l),r.appendChild(g),l.style.height=n.clientHeight-80+"px",n.appendChild(r),this._dom=r},F_.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},F_.prototype.dispose=function(t,e){this.remove(t,e)},my("dataView",F_),As({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var i=[];d(t.newOption.series,function(t){var n=e.getSeriesByName(t.name)[0];if(n){var o=n.get("data");i.push({name:t.name,data:$_(t.data,o)})}else i.push(r({type:"scatter"},t))}),e.mergeOption(a({series:i},t.newOption))});var vN=d,yN="\0_ec_hist_store";nP.extend({type:"dataZoom.select"}),oP.extend({type:"dataZoom.select"});var _N=GM.toolbox.dataZoom,xN=d,wN="\0_ec_\0toolbox-dataZoom_";Z_.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:i(_N.title)};var bN=Z_.prototype;bN.render=function(t,e,i,n){this.model=t,this.ecModel=e,this.api=i,Q_(t,e,this,n,i),K_(t,e)},bN.onclick=function(t,e,i){SN[i].call(this)},bN.remove=function(t,e){this._brushController.unmount()},bN.dispose=function(t,e){this._brushController.dispose()};var SN={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(j_(this.ecModel))}};bN._onBrush=function(t,e){function i(t,e,i){var a=e.getAxis(t),s=a.model,l=n(t,s,r),h=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==h.minValueSpan&&null==h.maxValueSpan||(i=Wk(0,i.slice(),a.scale.getExtent(),0,h.minValueSpan,h.maxValueSpan)),l&&(o[l.id]={dataZoomId:l.id,startValue:i[0],endValue:i[1]})}function n(t,e,i){var n;return i.eachComponent({mainType:"dataZoom",subType:"select"},function(i){i.getAxisModel(t,e.componentIndex)&&(n=i)}),n}if(e.isEnd&&t.length){var o={},r=this.ecModel;this._brushController.updateCovers([]);new ty(X_(this.model.option),r,{include:["grid"]}).matchOutputRanges(t,r,function(t,e,n){if("cartesian2d"===n.type){var o=t.brushType;"rect"===o?(i("x",n,e[0]),i("y",n,e[1])):i({lineX:"x",lineY:"y"}[o],n,e)}}),G_(r,o),this._dispatchZoomAction(o)}},bN._dispatchZoomAction=function(t){var e=[];xN(t,function(t,n){e.push(i(t))}),e.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:e})},my("dataZoom",Z_),Cs(function(t){function e(t,e){if(e){var o=t+"Index",r=e[o];null==r||"all"==r||_(r)||(r=!1===r||"none"===r?[]:[r]),i(t,function(e,i){if(null==r||"all"==r||-1!==l(r,i)){var a={type:"select",$fromToolbox:!0,id:wN+t+i};a[o]=i,n.push(a)}})}}function i(e,i){var n=t[e];_(n)||(n=n?[n]:[]),xN(n,i)}if(t){var n=t.dataZoom||(t.dataZoom=[]);_(n)||(t.dataZoom=n=[n]);var o=t.toolbox;if(o&&(_(o)&&(o=o[0]),o&&o.feature)){var r=o.feature.dataZoom;e("xAxis",r),e("yAxis",r)}}});var DN=GM.toolbox.restore;J_.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:DN.title},J_.prototype.onclick=function(t,e,i){Y_(t),e.dispatchAction({type:"restore",from:this.uid})},my("restore",J_),As({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var MN,CN="urn:schemas-microsoft-com:vml",TN="undefined"==typeof window?null:window,IN=!1,AN=TN&&TN.document;if(AN&&!Hx.canvasSupported)try{!AN.namespaces.zrvml&&AN.namespaces.add("zrvml",CN),MN=function(t){return AN.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){MN=function(t){return AN.createElement("<"+t+' xmlns="'+CN+'" class="zrvml">')}}var kN=DS.CMD,EN=Math.round,LN=Math.sqrt,ON=Math.abs,PN=Math.cos,NN=Math.sin,RN=Math.max;if(!Hx.canvasSupported){var zN=21600,BN=zN/2,HN=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=zN+","+zN,t.coordorigin="0,0"},VN=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},WN=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},FN=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},$N=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},GN=function(t,e,i){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+i},jN=function(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t},YN=function(t,e,i){var n=Ot(e);i=+i,isNaN(i)&&(i=1),n&&(t.color=WN(n[0],n[1],n[2]),t.opacity=i*n[3])},UN=function(t){var e=Ot(t);return[WN(e[0],e[1],e[2]),e[3]]},qN=function(t,e,i){var n=e.fill;if(null!=n)if(n instanceof cD){var o,r=0,a=[0,0],s=0,l=1,h=i.getBoundingRect(),c=h.width,u=h.height;if("linear"===n.type){o="gradient";var d=i.transform,f=[n.x*c,n.y*u],p=[n.x2*c,n.y2*u];d&&(ot(f,f,d),ot(p,p,d));var g=p[0]-f[0],m=p[1]-f[1];r=180*Math.atan2(g,m)/Math.PI,r<0&&(r+=360),r<1e-6&&(r=0)}else{o="gradientradial";var f=[n.x*c,n.y*u],d=i.transform,v=i.scale,y=c,_=u;a=[(f[0]-h.x)/y,(f[1]-h.y)/_],d&&ot(f,f,d),y/=v[0]*zN,_/=v[1]*zN;var x=RN(y,_);s=0/x,l=2*n.r/x-s}var w=n.colorStops.slice();w.sort(function(t,e){return t.offset-e.offset});for(var b=w.length,S=[],D=[],M=0;M<b;M++){var C=w[M],T=UN(C.color);D.push(C.offset*l+s+" "+T[0]),0!==M&&M!==b-1||S.push(T)}if(b>=2){var I=S[0][0],A=S[1][0],k=S[0][1]*e.opacity,E=S[1][1]*e.opacity;t.type=o,t.method="none",t.focus="100%",t.angle=r,t.color=I,t.color2=A,t.colors=D.join(","),t.opacity=E,t.opacity2=k}"radial"===o&&(t.focusposition=a.join(","))}else YN(t,n,e.opacity)},ZN=function(t,e){null!=e.lineDash&&(t.dashstyle=e.lineDash.join(" ")),null==e.stroke||e.stroke instanceof cD||YN(t,e.stroke,e.opacity)},XN=function(t,e,i,n){var o="fill"==e,r=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(o||!o&&i.lineWidth)?(t[o?"filled":"stroked"]="true",i[e]instanceof cD&&$N(t,r),r||(r=tx(e)),o?qN(r,i,n):ZN(r,i),FN(t,r)):(t[o?"filled":"stroked"]="false",$N(t,r))},KN=[[],[],[]],QN=function(t,e){var i,n,o,r,a,s,l=kN.M,h=kN.C,c=kN.L,u=kN.A,d=kN.Q,f=[],p=t.data,g=t.len();for(r=0;r<g;){switch(o=p[r++],n="",i=0,o){case l:n=" m ",i=1,a=p[r++],s=p[r++],KN[0][0]=a,KN[0][1]=s;break;case c:n=" l ",i=1,a=p[r++],s=p[r++],KN[0][0]=a,KN[0][1]=s;break;case d:case h:n=" c ",i=3;var m,v,y=p[r++],_=p[r++],x=p[r++],w=p[r++];o===d?(m=x,v=w,x=(x+2*y)/3,w=(w+2*_)/3,y=(a+2*y)/3,_=(s+2*_)/3):(m=p[r++],v=p[r++]),KN[0][0]=y,KN[0][1]=_,KN[1][0]=x,KN[1][1]=w,KN[2][0]=m,KN[2][1]=v,a=m,s=v;break;case u:var b=0,S=0,D=1,M=1,C=0;e&&(b=e[4],S=e[5],D=LN(e[0]*e[0]+e[1]*e[1]),M=LN(e[2]*e[2]+e[3]*e[3]),C=Math.atan2(-e[1]/M,e[0]/D));var T=p[r++],I=p[r++],A=p[r++],k=p[r++],E=p[r++]+C,L=p[r++]+E+C;r++;var O=p[r++],P=T+PN(E)*A,N=I+NN(E)*k,y=T+PN(L)*A,_=I+NN(L)*k,R=O?" wa ":" at ";Math.abs(P-y)<1e-4&&(Math.abs(L-E)>.01?O&&(P+=.0125):Math.abs(N-I)<1e-4?O&&P<T||!O&&P>T?_-=.0125:_+=.0125:O&&N<I||!O&&N>I?y+=.0125:y-=.0125),f.push(R,EN(((T-A)*D+b)*zN-BN),",",EN(((I-k)*M+S)*zN-BN),",",EN(((T+A)*D+b)*zN-BN),",",EN(((I+k)*M+S)*zN-BN),",",EN((P*D+b)*zN-BN),",",EN((N*M+S)*zN-BN),",",EN((y*D+b)*zN-BN),",",EN((_*M+S)*zN-BN)),a=y,s=_;break;case kN.R:var z=KN[0],B=KN[1];z[0]=p[r++],z[1]=p[r++],B[0]=z[0]+p[r++],B[1]=z[1]+p[r++],e&&(ot(z,z,e),ot(B,B,e)),z[0]=EN(z[0]*zN-BN),B[0]=EN(B[0]*zN-BN),z[1]=EN(z[1]*zN-BN),B[1]=EN(B[1]*zN-BN),f.push(" m ",z[0],",",z[1]," l ",B[0],",",z[1]," l ",B[0],",",B[1]," l ",z[0],",",B[1]);break;case kN.Z:f.push(" x ")}if(i>0){f.push(n);for(var H=0;H<i;H++){var V=KN[H];e&&ot(V,V,e),f.push(EN(V[0]*zN-BN),",",EN(V[1]*zN-BN),H<i-1?",":"")}}}return f.join("")};Ln.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=tx("shape"),HN(i),this._vmlEl=i),XN(i,"fill",e,this),XN(i,"stroke",e,this);var n=this.transform,o=null!=n,r=i.getElementsByTagName("stroke")[0];if(r){var a=e.lineWidth;if(o&&!e.strokeNoScale){var s=n[0]*n[3]-n[1]*n[2];a*=LN(ON(s))}r.weight=a+"px"}var l=this.path||(this.path=new DS);this.__dirtyPath&&(l.beginPath(),this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),i.path=QN(l,this.transform),i.style.zIndex=GN(this.zlevel,this.z,this.z2),FN(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},Ln.prototype.onRemove=function(t){$N(t,this._vmlEl),this.removeRectText(t)},Ln.prototype.onAdd=function(t){FN(t,this._vmlEl),this.appendRectText(t)};var JN=function(t){return"object"==typeof t&&t.tagName&&"IMG"===t.tagName.toUpperCase()};ni.prototype.brushVML=function(t){var e,i,n=this.style,o=n.image;if(JN(o)){var r=o.src;if(r===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var a=o.runtimeStyle,s=a.width,l=a.height;a.width="auto",a.height="auto",e=o.width,i=o.height,a.width=s,a.height=l,this._imageSrc=r,this._imageWidth=e,this._imageHeight=i}o=r}else o===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(o){var h=n.x||0,c=n.y||0,u=n.width,d=n.height,f=n.sWidth,p=n.sHeight,g=n.sx||0,m=n.sy||0,v=f&&p,y=this._vmlEl;y||(y=AN.createElement("div"),HN(y),this._vmlEl=y);var _,x=y.style,w=!1,b=1,S=1;if(this.transform&&(_=this.transform,b=LN(_[0]*_[0]+_[1]*_[1]),S=LN(_[2]*_[2]+_[3]*_[3]),w=_[1]||_[2]),w){var D=[h,c],M=[h+u,c],C=[h,c+d],T=[h+u,c+d];ot(D,D,_),ot(M,M,_),ot(C,C,_),ot(T,T,_);var I=RN(D[0],M[0],C[0],T[0]),A=RN(D[1],M[1],C[1],T[1]),k=[];k.push("M11=",_[0]/b,",","M12=",_[2]/S,",","M21=",_[1]/b,",","M22=",_[3]/S,",","Dx=",EN(h*b+_[4]),",","Dy=",EN(c*S+_[5])),x.padding="0 "+EN(I)+"px "+EN(A)+"px 0",x.filter="progid:DXImageTransform.Microsoft.Matrix("+k.join("")+", SizingMethod=clip)"}else _&&(h=h*b+_[4],c=c*S+_[5]),x.filter="",x.left=EN(h)+"px",x.top=EN(c)+"px";var E=this._imageEl,L=this._cropEl;E||(E=AN.createElement("div"),this._imageEl=E);var O=E.style;if(v){if(e&&i)O.width=EN(b*e*u/f)+"px",O.height=EN(S*i*d/p)+"px";else{var P=new Image,N=this;P.onload=function(){P.onload=null,e=P.width,i=P.height,O.width=EN(b*e*u/f)+"px",O.height=EN(S*i*d/p)+"px",N._imageWidth=e,N._imageHeight=i,N._imageSrc=o},P.src=o}L||(L=AN.createElement("div"),L.style.overflow="hidden",this._cropEl=L);var R=L.style;R.width=EN((u+g*u/f)*b),R.height=EN((d+m*d/p)*S),R.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-g*u/f*b+",Dy="+-m*d/p*S+")",L.parentNode||y.appendChild(L),E.parentNode!=L&&L.appendChild(E)}else O.width=EN(b*u)+"px",O.height=EN(S*d)+"px",y.appendChild(E),L&&L.parentNode&&(y.removeChild(L),this._cropEl=null);var z="",B=n.opacity;B<1&&(z+=".Alpha(opacity="+EN(100*B)+") "),z+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+o+", SizingMethod=scale)",O.filter=z,y.style.zIndex=GN(this.zlevel,this.z,this.z2),FN(t,y),null!=n.text&&this.drawRectText(t,this.getBoundingRect())}},ni.prototype.onRemove=function(t){$N(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},ni.prototype.onAdd=function(t){FN(t,this._vmlEl),this.appendRectText(t)};var tR,eR={},iR=0,nR=document.createElement("div"),oR=function(t){var e=eR[t];if(!e){iR>100&&(iR=0,eR={});var i,n=nR.style;try{n.font=t,i=n.fontFamily.split(",")[0]}catch(t){}e={style:n.fontStyle||"normal",variant:n.fontVariant||"normal",weight:n.fontWeight||"normal",size:0|parseFloat(n.fontSize||12),family:i||"Microsoft YaHei"},eR[t]=e,iR++}return e};!function(t,e){sb[t]=e}("measureText",function(t,e){var i=AN;tR||(tR=i.createElement("div"),tR.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",AN.body.appendChild(tR));try{tR.style.font=e}catch(t){}return tR.innerHTML="",tR.appendChild(i.createTextNode(t)),{width:tR.offsetWidth}});for(var rR=new ie,aR=function(t,e,i,n){var o=this.style;this.__dirty&&Be(o);var r=o.text;if(null!=r&&(r+=""),r){if(o.rich){var a=Pe(r,o);r=[];for(var s=0;s<a.lines.length;s++){for(var l=a.lines[s].tokens,h=[],c=0;c<l.length;c++)h.push(l[c].text);r.push(h.join(""))}r=r.join("\n")}var u,d,f=o.textAlign,p=o.textVerticalAlign,g=oR(o.font),m=g.style+" "+g.variant+" "+g.weight+" "+g.size+'px "'+g.family+'"';i=i||we(r,m,f,p);var v=this.transform;if(v&&!n&&(rR.copy(e),rR.applyTransform(v),e=rR),n)u=e.x,d=e.y;else{var y=o.textPosition,_=o.textDistance;if(y instanceof Array)u=e.x+jN(y[0],e.width),d=e.y+jN(y[1],e.height),f=f||"left";else{var x=Ce(y,e,_);u=x.x,d=x.y,f=f||x.textAlign,p=p||x.textVerticalAlign}}u=De(u,i.width,f),d=Me(d,i.height,p),d+=i.height/2;var w,b,S,D=tx,M=this._textVmlEl;M?(S=M.firstChild,w=S.nextSibling,b=w.nextSibling):(M=D("line"),w=D("path"),b=D("textpath"),S=D("skew"),b.style["v-text-align"]="left",HN(M),w.textpathok=!0,b.on=!0,M.from="0 0",M.to="1000 0.05",FN(M,S),FN(M,w),FN(M,b),this._textVmlEl=M);var C=[u,d],T=M.style;v&&n?(ot(C,C,v),S.on=!0,S.matrix=v[0].toFixed(3)+","+v[2].toFixed(3)+","+v[1].toFixed(3)+","+v[3].toFixed(3)+",0,0",S.offset=(EN(C[0])||0)+","+(EN(C[1])||0),S.origin="0 0",T.left="0px",T.top="0px"):(S.on=!1,T.left=EN(u)+"px",T.top=EN(d)+"px"),b.string=VN(r);try{b.style.font=m}catch(t){}XN(M,"fill",{fill:o.textFill,opacity:o.opacity},this),XN(M,"stroke",{stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash},this),M.style.zIndex=GN(this.zlevel,this.z,this.z2),FN(t,M)}},sR=function(t){$N(t,this._textVmlEl),this._textVmlEl=null},lR=function(t){FN(t,this._textVmlEl)},hR=[ub,ii,ni,Ln,qS],cR=0;cR<hR.length;cR++){var uR=hR[cR].prototype;uR.drawRectText=aR,uR.removeRectText=sR,uR.appendRectText=lR}qS.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},qS.prototype.onRemove=function(t){this.removeRectText(t)},qS.prototype.onAdd=function(t){this.appendRectText(t)}}nx.prototype={constructor:nx,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){var t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||ix(e.width))-ix(e.paddingLeft)-ix(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||ix(e.height))-ix(e.paddingTop)-ix(e.paddingBottom)|0}},d(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){nx.prototype[t]=ox(t)}),Ii("vml",nx);var dR="http://www.w3.org/2000/svg",fR=DS.CMD,pR=Array.prototype.join,gR="none",mR=Math.round,vR=Math.sin,yR=Math.cos,_R=Math.PI,xR=2*Math.PI,wR=180/_R,bR=1e-4,SR={};SR.brush=function(t){var e=t.style,i=t.__svgEl;i||(i=rx("path"),t.__svgEl=i),t.path||t.createPathProxy();var n=t.path;if(t.__dirtyPath){n.beginPath(),t.buildPath(n,t.shape),t.__dirtyPath=!1;var o=px(n);o.indexOf("NaN")<0&&ux(i,"d",o)}fx(i,e),cx(i,t.transform),null!=e.text&&TR(t,t.getBoundingRect())};var DR={};DR.brush=function(t){var e=t.style,i=e.image;if(i instanceof HTMLImageElement){i=i.src}if(i){var n=e.x||0,o=e.y||0,r=e.width,a=e.height,s=t.__svgEl;s||(s=rx("image"),t.__svgEl=s),i!==t.__imageSrc&&(dx(s,"href",i),t.__imageSrc=i),ux(s,"width",r),ux(s,"height",a),ux(s,"x",n),ux(s,"y",o),cx(s,t.transform),null!=e.text&&TR(t,t.getBoundingRect())}};var MR={},CR=new ie,TR=function(t,e,i){var n=t.style;t.__dirty&&Be(n);var o=n.text;if(null!=o){o+="";var r=t.__textSvgEl;r||(r=rx("text"),t.__textSvgEl=r);var a,s,l=n.textPosition,h=n.textDistance,c=n.textAlign||"left";"number"==typeof n.fontSize&&(n.fontSize+="px");var u=n.font||[n.fontStyle||"",n.fontWeight||"",n.fontSize||"",n.fontFamily||""].join(" ")||ab,d=gx(n.textVerticalAlign);i=we(o,u,c,d);var f=i.lineHeight;if(l instanceof Array)a=e.x+l[0],s=e.y+l[1];else{var p=Ce(l,e,h);a=p.x,s=p.y,d=gx(p.textVerticalAlign),c=p.textAlign}ux(r,"alignment-baseline",d),u&&(r.style.font=u);var g=n.textPadding;if(ux(r,"x",a),ux(r,"y",s),fx(r,n,!0),t instanceof qS||t.style.transformText)cx(r,t.transform);else{if(t.transform)CR.copy(e),CR.applyTransform(t.transform),e=CR;else{var m=t.transformCoordToGlobal(e.x,e.y);e.x=m[0],e.y=m[1]}var v=n.textOrigin;"center"===v?(a=i.width/2+a,s=i.height/2+s):v&&(a=v[0]+a,s=v[1]+s);var y=-n.textRotation||0,_=dt();vt(_,t.transform,y),cx(r,_)}var x=o.split("\n"),w=x.length,b=c;"left"===b?(b="start",g&&(a+=g[3])):"right"===b?(b="end",g&&(a-=g[1])):"center"===b&&(b="middle",g&&(a+=(g[3]-g[1])/2));var S=0;if("baseline"===d?(S=-i.height+f,g&&(S-=g[2])):"middle"===d?(S=(-i.height+f)/2,g&&(s+=(g[0]-g[2])/2)):g&&(S+=g[0]),t.__text!==o||t.__textFont!==u){var D=t.__tspanList||[];t.__tspanList=D;for(var M=0;M<w;M++){var C=D[M];C?C.innerHTML="":(C=D[M]=rx("tspan"),r.appendChild(C),ux(C,"alignment-baseline",d),ux(C,"text-anchor",b)),ux(C,"x",a),ux(C,"y",s+M*f+S),C.appendChild(document.createTextNode(x[M]))}for(;M<D.length;M++)r.removeChild(D[M]);D.length=w,t.__text=o,t.__textFont=u}else if(t.__tspanList.length)for(var T=t.__tspanList.length,M=0;M<T;++M){var C=t.__tspanList[M];C&&(ux(C,"x",a),ux(C,"y",s+M*f+S))}}};MR.drawRectText=TR,MR.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],TR(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))},mx.prototype={diff:function(t,e,i){i||(i=function(t,e){return t===e}),this.equals=i;var n=this;t=t.slice(),e=e.slice();var o=e.length,r=t.length,a=1,s=o+r,l=[{newPos:-1,components:[]}],h=this.extractCommon(l[0],e,t,0);if(l[0].newPos+1>=o&&h+1>=r){for(var c=[],u=0;u<e.length;u++)c.push(u);return[{indices:c,count:e.length}]}for(;a<=s;){var d=function(){for(var i=-1*a;i<=a;i+=2){var s,h=l[i-1],c=l[i+1],u=(c?c.newPos:0)-i;h&&(l[i-1]=void 0);var d=h&&h.newPos+1<o,f=c&&0<=u&&u<r;if(d||f){if(!d||f&&h.newPos<c.newPos?(s=yx(c),n.pushComponent(s.components,void 0,!0)):(s=h,s.newPos++,n.pushComponent(s.components,!0,void 0)),u=n.extractCommon(s,e,t,i),s.newPos+1>=o&&u+1>=r)return vx(n,s.components,e,t);l[i]=s}else l[i]=void 0}a++}();if(d)return d}},pushComponent:function(t,e,i){var n=t[t.length-1];n&&n.added===e&&n.removed===i?t[t.length-1]={count:n.count+1,added:e,removed:i}:t.push({count:1,added:e,removed:i})},extractCommon:function(t,e,i,n){for(var o=e.length,r=i.length,a=t.newPos,s=a-n,l=0;a+1<o&&s+1<r&&this.equals(e[a+1],i[s+1]);)a++,s++,l++;return l&&t.components.push({count:l}),t.newPos=a,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var IR=new mx,AR=function(t,e,i){return IR.diff(t,e,i)};_x.prototype.createElement=rx,_x.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");return 0===i.length?t?(i=e.insertBefore(this.createElement("defs"),e.firstChild),i.contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),i):null:i[0]},_x.prototype.update=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))"function"==typeof e&&e(t);else{var n=this.add(t);n&&(t[this._domName]=n)}}},_x.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},_x.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},_x.prototype.getDoms=function(){var t=this.getDefs(!1);if(!t)return[];var e=[];return d(this._tagNames,function(i){var n=t.getElementsByTagName(i);e=e.concat([].slice.call(n))}),e},_x.prototype.markAllUnused=function(){var t=this;d(this.getDoms(),function(e){e[t._markLabel]="0"})},_x.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},_x.prototype.removeUnused=function(){var t=this.getDefs(!1);if(t){var e=this;d(this.getDoms(),function(i){"1"!==i[e._markLabel]&&t.removeChild(i)})}},_x.prototype.getSvgProxy=function(t){return t instanceof Ln?SR:t instanceof ni?DR:t instanceof qS?MR:SR},_x.prototype.getTextSvgElement=function(t){return t.__textSvgEl},_x.prototype.getSvgElement=function(t){return t.__svgEl},h(xx,_x),xx.prototype.addWithoutUpdate=function(t,e){if(e&&e.style){var i=this;d(["fill","stroke"],function(n){if(e.style[n]&&("linear"===e.style[n].type||"radial"===e.style[n].type)){var o,r=e.style[n],a=i.getDefs(!0);r._dom?(o=r._dom,a.contains(r._dom)||i.addDom(o)):o=i.add(r),i.markUsed(e);var s=o.getAttribute("id");t.setAttribute(n,"url(#"+s+")")}})}},xx.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return Nw("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},xx.prototype.update=function(t){var e=this;_x.prototype.update.call(this,t,function(){var i=t.type,n=t._dom.tagName;"linear"===i&&"linearGradient"===n||"radial"===i&&"radialGradient"===n?e.updateDom(t,t._dom):(e.removeDom(t),e.add(t))})},xx.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void Nw("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var i=t.colorStops,n=0,o=i.length;n<o;++n){var r=this.createElement("stop");r.setAttribute("offset",100*i[n].offset+"%"),r.setAttribute("stop-color",i[n].color),e.appendChild(r)}t._dom=e},xx.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&_x.prototype.markUsed.call(this,e._dom),e=t.style.stroke,e&&e._dom&&_x.prototype.markUsed.call(this,e._dom)}},h(bx,_x),bx.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var i=this.getTextSvgElement(t);i&&this.updateDom(i,t.__clipPaths,!0),this.markUsed(t)},
bx.prototype.updateDom=function(t,e,i){if(e&&e.length>0){var n,o,r=this.getDefs(!0),a=e[0],s=i?"_textDom":"_dom";a[s]?(o=a[s].getAttribute("id"),n=a[s],r.contains(n)||r.appendChild(n)):(o="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,n=this.createElement("clipPath"),n.setAttribute("id",o),r.appendChild(n),a[s]=n);var l=this.getSvgProxy(a);if(a.transform&&a.parent.invTransform&&!i){var h=Array.prototype.slice.call(a.transform);gt(a.transform,a.parent.invTransform,a.transform),l.brush(a),a.transform=h}else l.brush(a);var c=this.getSvgElement(a);n.innerHTML="",n.appendChild(c.cloneNode()),t.setAttribute("clip-path","url(#"+o+")"),e.length>1&&this.updateDom(n,e.slice(1),i)}else t&&t.setAttribute("clip-path","none")},bx.prototype.markUsed=function(t){var e=this;t.__clipPaths&&t.__clipPaths.length>0&&d(t.__clipPaths,function(t){t._dom&&_x.prototype.markUsed.call(e,t._dom),t._textDom&&_x.prototype.markUsed.call(e,t._textDom)})},h(Sx,_x),Sx.prototype.addWithoutUpdate=function(t,e){if(e&&Dx(e.style)){var i,n=e.style;if(n._shadowDom){i=n._shadowDom;this.getDefs(!0).contains(n._shadowDom)||this.addDom(i)}else i=this.add(e);this.markUsed(e);var o=i.getAttribute("id");t.style.filter="url(#"+o+")"}},Sx.prototype.add=function(t){var e=this.createElement("filter"),i=t.style;return i._shadowDomId=i._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+i._shadowDomId),this.updateDom(t,e),this.addDom(e),e},Sx.prototype.update=function(t,e){var i=e.style;if(Dx(i)){var n=this;_x.prototype.update.call(this,e,function(t){n.updateDom(e,t._shadowDom)})}else this.remove(t,i)},Sx.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter="")},Sx.prototype.updateDom=function(t,e){var i=e.getElementsByTagName("feDropShadow");i=0===i.length?this.createElement("feDropShadow"):i[0];var n,o,r,a,s=t.style,l=t.scale?t.scale[0]||1:1,h=t.scale?t.scale[1]||1:1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)n=s.shadowOffsetX||0,o=s.shadowOffsetY||0,r=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);n=s.textShadowOffsetX||0,o=s.textShadowOffsetY||0,r=s.textShadowBlur,a=s.textShadowColor}i.setAttribute("dx",n/l),i.setAttribute("dy",o/h),i.setAttribute("flood-color",a);var c=r/2/l,u=r/2/h,d=c+" "+u;i.setAttribute("stdDeviation",d),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(r/2*200)+"%"),e.setAttribute("height",Math.ceil(r/2*200)+"%"),e.appendChild(i),s._shadowDom=e},Sx.prototype.markUsed=function(t){var e=t.style;e&&e._shadowDom&&_x.prototype.markUsed.call(this,e._shadowDom)};var kR=function(t,e,i,n){this.root=t,this.storage=e,this._opts=i=r({},i||{});var o=rx("svg");o.setAttribute("xmlns","http://www.w3.org/2000/svg"),o.setAttribute("version","1.1"),o.setAttribute("baseProfile","full"),o.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new xx(n,o),this.clipPathManager=new bx(n,o),this.shadowManager=new Sx(n,o);var a=document.createElement("div");a.style.cssText="overflow:hidden;position:relative",this._svgRoot=o,this._viewport=a,t.appendChild(a),a.appendChild(o),this.resize(i.width,i.height),this._visibleList=[]};kR.prototype={constructor:kR,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,i=this._svgRoot,n=this._visibleList,o=t.length,r=[];for(e=0;e<o;e++){var a=t[e],s=Cx(a),l=Lx(a)||Ex(a);a.invisible||(a.__dirty&&(s&&s.brush(a),this.clipPathManager.update(a),a.style&&(this.gradientManager.update(a.style.fill),this.gradientManager.update(a.style.stroke),this.shadowManager.update(l,a)),a.__dirty=!1),r.push(a))}var h,c=AR(n,r);for(e=0;e<c.length;e++){var u=c[e];if(u.removed)for(var d=0;d<u.count;d++){var a=n[u.indices[d]],l=Lx(a),f=Ex(a);kx(i,l),kx(i,f)}}for(e=0;e<c.length;e++){var u=c[e];if(u.added)for(var d=0;d<u.count;d++){var a=r[u.indices[d]],l=Lx(a),f=Ex(a);h?Ix(i,l,h):Ax(i,l),l?Ix(i,f,l):h?Ix(i,f,h):Ax(i,f),Ix(i,f,l),h=f||l||h,this.gradientManager.addWithoutUpdate(l,a),this.shadowManager.addWithoutUpdate(h,a),this.clipPathManager.markUsed(a)}else if(!u.removed)for(var d=0;d<u.count;d++){var a=r[u.indices[d]];h=l=Ex(a)||Lx(a)||h,this.gradientManager.markUsed(a),this.gradientManager.addWithoutUpdate(l,a),this.shadowManager.markUsed(a),this.shadowManager.addWithoutUpdate(l,a),this.clipPathManager.markUsed(a)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=r},_getDefs:function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");if(0===i.length){if(t){var i=e.insertBefore(rx("defs"),e.firstChild);return i.contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;n>=0;--n)if(e[n]===t)return!0;return!1}),i}return null}return i[0]},resize:function(t,e){var i=this._viewport;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var o=i.style;o.width=t+"px",o.height=e+"px";var r=this._svgRoot;r.setAttribute("width",t),r.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||Mx(s[i])||Mx(a.style[i]))-(Mx(s[o])||0)-(Mx(s[r])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},d(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){kR.prototype[t]=Ox(t)}),Ii("svg",kR),t.version=cC,t.dependencies=uC,t.PRIORITY=gC,t.init=_s,t.connect=xs,t.disConnect=ws,t.disconnect=RC,t.dispose=bs,t.getInstanceByDom=Ss,t.getInstanceById=Ds,t.registerTheme=Ms,t.registerPreprocessor=Cs,t.registerProcessor=Ts,t.registerPostUpdate=Is,t.registerAction=As,t.registerCoordinateSystem=ks,t.getCoordinateSystemDimensions=Es,t.registerLayout=Ls,t.registerVisual=Os,t.registerLoading=Ns,t.extendComponentModel=Rs,t.extendComponentView=zs,t.extendSeriesModel=Bs,t.extendChartView=Hs,t.setCanvasCreator=Vs,t.registerMap=Ws,t.getMap=Fs,t.dataTool=zC,t.zrender=Lb,t.graphic=_D,t.number=kD,t.format=BD,t.throttle=Oa,t.helper=kT,t.matrix=dw,t.vector=rw,t.color=Aw,t.parseGeoJSON=LT,t.parseGeoJson=RT,t.util=zT,t.List=YC,t.Model=Lo,t.Axis=NT,t.env=Hx}),function(t,e,i,n){"use strict";var o=function(){},r={totalStars:5,useFullStars:!1,emptyColor:"lightgray",hoverColor:"orange",activeColor:"gold",useGradient:!0,readOnly:!1,disableAfterRate:!0,starGradient:{start:"#FEF7CD",end:"#FF9511"},strokeWidth:0,strokeColor:"black",initialRating:0,starSize:40,callback:o,onHover:o,onLeave:o},a=function(e,i){var n;this.element=e,this.$el=t(e),this.settings=t.extend({},r,i),n=this.$el.data("rating")||this.settings.initialRating,this._state={rating:(Math.round(2*n)/2).toFixed(1)},this._uid=Math.floor(999*Math.random()),i.starGradient||this.settings.useGradient||(this.settings.starGradient.start=this.settings.starGradient.end=this.settings.activeColor),this._defaults=r,this._name="starRating",this.init()},s={init:function(){this.renderMarkup(),this.addListeners(),this.initRating()},addListeners:function(){this.settings.readOnly||(this.$stars.on("mouseover",this.hoverRating.bind(this)),this.$stars.on("mouseout",this.restoreState.bind(this)),this.$stars.on("click",this.handleRating.bind(this)))},hoverRating:function(t){var e=this.getIndex(t);this.paintStars(e,"hovered"),this.settings.onHover(e+1,this._state.rating,this.$el)},handleRating:function(t){var e=this.getIndex(t),i=e+1;this.applyRating(i,this.$el),this.executeCallback(i,this.$el),this.settings.disableAfterRate&&this.$stars.off()},applyRating:function(t){var e=t-1;this.paintStars(e,"active"),this._state.rating=e+1},restoreState:function(t){var e=this.getIndex(t),i=this._state.rating||-1;this.paintStars(i-1,"active"),this.settings.onLeave(e+1,this._state.rating,this.$el)},getIndex:function(e){var i=t(e.currentTarget),n=i.width(),o=t(e.target).attr("data-side");o=o||this.getOffsetByPixel(e,i,n),o=this.settings.useFullStars?"right":o;var r=i.index()-("left"===o?.5:0);return r=r<.5&&e.offsetX<n/4?-1:r},getOffsetByPixel:function(t,e,i){return t.pageX-e.offset().left<=i/2&&!this.settings.useFullStars?"left":"right"},initRating:function(){this.paintStars(this._state.rating-1,"active")},paintStars:function(e,i){var n,o,r,a;t.each(this.$stars,function(s,l){n=t(l).find('polygon[data-side="left"]'),o=t(l).find('polygon[data-side="right"]'),r=a=s<=e?i:"empty",r=s-e==.5?i:r,n.attr("class","svg-"+r+"-"+this._uid),o.attr("class","svg-"+a+"-"+this._uid)}.bind(this))},renderMarkup:function(){for(var t='<div class="jq-star" style="width:'+this.settings.starSize+"px;  height:"+this.settings.starSize+'px;"><svg version="1.0" class="jq-star-svg" shape-rendering="geometricPrecision" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="305px" height="305px" viewBox="60 -62 309 309" style="enable-background:new 64 -59 305 305; stroke-width:'+this.settings.strokeWidth+'px;" xml:space="preserve"><style type="text/css">.svg-empty-'+this._uid+"{fill:url(#"+this._uid+"_SVGID_1_);}.svg-hovered-"+this._uid+"{fill:url(#"+this._uid+"_SVGID_2_);}.svg-active-"+this._uid+"{fill:url(#"+this._uid+"_SVGID_3_);}</style>"+this.getLinearGradient(this._uid+"_SVGID_1_",this.settings.emptyColor,this.settings.emptyColor)+this.getLinearGradient(this._uid+"_SVGID_2_",this.settings.hoverColor,this.settings.hoverColor)+this.getLinearGradient(this._uid+"_SVGID_3_",this.settings.starGradient.start,this.settings.starGradient.end)+'<polygon data-side="left" class="svg-empty-'+this._uid+'" points="281.1,129.8 364,55.7 255.5,46.8 214,-59 172.5,46.8 64,55.4 146.8,129.7 121.1,241 213.9,181.1 213.9,181 306.5,241 " style="stroke: '+this.settings.strokeColor+'"/><polygon data-side="right" class="svg-empty-'+this._uid+'" points="364,55.7 255.5,46.8 214,-59 213.9,181 306.5,241 281.1,129.8 " style="stroke-dasharray: 230 232 210 0; stroke: '+this.settings.strokeColor+'"/></svg></div>',e="",i=0;i<this.settings.totalStars;i++)e+=t;this.$el.append(e),this.$stars=this.$el.find(".jq-star")},getLinearGradient:function(t,e,i){return'<linearGradient id="'+t+'" gradientUnits="userSpaceOnUse" x1="121.1501" y1="-70.35" x2="121.15" y2="125.0045"><stop  offset="0" style="stop-color:'+e+'"/><stop  offset="1" style="stop-color:'+i+'"/> </linearGradient>'},executeCallback:function(t,e){(0,this.settings.callback)(t,e)}},l={unload:function(){var e="plugin_starRating",i=t(this);i.data(e).$stars.off(),i.removeData(e).remove()},setRating:function(e,i){var n=t(this),o=n.data("plugin_starRating");e>o.settings.totalStars||e<0||(i&&(e=Math.round(e)),o.applyRating(e))},getRating:function(){return t(this).data("plugin_starRating")._state.rating}};t.extend(a.prototype,s),t.fn.starRating=function(e){if(!t.isPlainObject(e)){if(l.hasOwnProperty(e))return l[e].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+e+" does not exist on starRating.js")}return this.each(function(){t.data(this,"plugin_starRating")||t.data(this,"plugin_starRating",new a(this,e))})}}(jQuery,window,document),function(t,e,i,n){function o(e,i){this.settings=null,this.options=t.extend({},o.Defaults,i),this.$element=t(e),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:["busy"],animating:["busy"],dragging:["interacting"]}},t.each(["onResize","onThrottledResize"],t.proxy(function(e,i){this._handlers[i]=t.proxy(this[i],this)},this)),t.each(o.Plugins,t.proxy(function(t,e){this._plugins[t.charAt(0).toLowerCase()+t.slice(1)]=new e(this)},this)),t.each(o.Workers,t.proxy(function(e,i){this._pipe.push({filter:i.filter,run:t.proxy(i.run,this)})},this)),this.setup(),this.initialize()}o.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:e,fallbackEasing:"swing",slideTransition:"",info:!1,nestedItemSelector:!1,itemElement:"div",stageElement:"div",refreshClass:"owl-refresh",loadedClass:"owl-loaded",loadingClass:"owl-loading",rtlClass:"owl-rtl",responsiveClass:"owl-responsive",dragClass:"owl-drag",itemClass:"owl-item",stageClass:"owl-stage",stageOuterClass:"owl-stage-outer",grabClass:"owl-grab"},o.Width={Default:"default",Inner:"inner",Outer:"outer"},o.Type={Event:"event",State:"state"},o.Plugins={},o.Workers=[{filter:["width","settings"],run:function(){this._width=this.$element.width()}},{filter:["width","items","settings"],run:function(t){t.current=this._items&&this._items[this.relative(this._current)]}},{filter:["items","settings"],run:function(){this.$stage.children(".cloned").remove()}},{filter:["width","items","settings"],run:function(t){var e=this.settings.margin||"",i=!this.settings.autoWidth,n=this.settings.rtl,o={width:"auto","margin-left":n?e:"","margin-right":n?"":e};!i&&this.$stage.children().css(o),t.css=o}},{filter:["width","items","settings"],run:function(t){var e=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,i=null,n=this._items.length,o=!this.settings.autoWidth,r=[];for(t.items={merge:!1,width:e};n--;)i=this._mergers[n],i=this.settings.mergeFit&&Math.min(i,this.settings.items)||i,t.items.merge=i>1||t.items.merge,r[n]=o?e*i:this._items[n].width();this._widths=r}},{filter:["items","settings"],run:function(){var e=[],i=this._items,n=this.settings,o=Math.max(2*n.items,4),r=2*Math.ceil(i.length/2),a=n.loop&&i.length?n.rewind?o:Math.max(o,r):0,s="",l="";for(a/=2;a>0;)e.push(this.normalize(e.length/2,!0)),s+=i[e[e.length-1]][0].outerHTML,e.push(this.normalize(i.length-1-(e.length-1)/2,!0)),l=i[e[e.length-1]][0].outerHTML+l,a-=1;this._clones=e,t(s).addClass("cloned").appendTo(this.$stage),t(l).addClass("cloned").prependTo(this.$stage)}},{filter:["width","items","settings"],run:function(){for(var t=this.settings.rtl?1:-1,e=this._clones.length+this._items.length,i=-1,n=0,o=0,r=[];++i<e;)n=r[i-1]||0,o=this._widths[this.relative(i)]+this.settings.margin,r.push(n+o*t);this._coordinates=r}},{filter:["width","items","settings"],run:function(){var t=this.settings.stagePadding,e=this._coordinates,i={width:Math.ceil(Math.abs(e[e.length-1]))+2*t,"padding-left":t||"","padding-right":t||""};this.$stage.css(i)}},{filter:["width","items","settings"],run:function(t){var e=this._coordinates.length,i=!this.settings.autoWidth,n=this.$stage.children();if(i&&t.items.merge)for(;e--;)t.css.width=this._widths[this.relative(e)],n.eq(e).css(t.css);else i&&(t.css.width=t.items.width,n.css(t.css))}},{filter:["items"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr("style")}},{filter:["width","items","settings"],run:function(t){t.current=t.current?this.$stage.children().index(t.current):0,t.current=Math.max(this.minimum(),Math.min(this.maximum(),t.current)),this.reset(t.current)}},{filter:["position"],run:function(){this.animate(this.coordinates(this._current))}},{filter:["width","position","items","settings"],run:function(){var t,e,i,n,o=this.settings.rtl?1:-1,r=2*this.settings.stagePadding,a=this.coordinates(this.current())+r,s=a+this.width()*o,l=[];for(i=0,n=this._coordinates.length;i<n;i++)t=this._coordinates[i-1]||0,e=Math.abs(this._coordinates[i])+r*o,(this.op(t,"<=",a)&&this.op(t,">",s)||this.op(e,"<",a)&&this.op(e,">",s))&&l.push(i);this.$stage.children(".active").removeClass("active"),this.$stage.children(":eq("+l.join("), :eq(")+")").addClass("active"),this.$stage.children(".center").removeClass("center"),this.settings.center&&this.$stage.children().eq(this.current()).addClass("center")}}],o.prototype.initializeStage=function(){this.$stage=this.$element.find("."+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=t("<"+this.settings.stageElement+">",{class:this.settings.stageClass}).wrap(t("<div/>",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},o.prototype.initializeItems=function(){var e=this.$element.find(".owl-item");if(e.length)return this._items=e.get().map(function(e){return t(e)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate("width"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},o.prototype.initialize=function(){if(this.enter("initializing"),this.trigger("initialize"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is("pre-loading")){var t,e,i;t=this.$element.find("img"),e=this.settings.nestedItemSelector?"."+this.settings.nestedItemSelector:void 0,i=this.$element.children(e).width(),t.length&&i<=0&&this.preloadAutoWidthImages(t)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave("initializing"),this.trigger("initialized")},o.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(":visible")},o.prototype.setup=function(){var e=this.viewport(),i=this.options.responsive,n=-1,o=null;i?(t.each(i,function(t){t<=e&&t>n&&(n=Number(t))}),o=t.extend({},this.options,i[n]),"function"==typeof o.stagePadding&&(o.stagePadding=o.stagePadding()),delete o.responsive,o.responsiveClass&&this.$element.attr("class",this.$element.attr("class").replace(new RegExp("("+this.options.responsiveClass+"-)\\S+\\s","g"),"$1"+n))):o=t.extend({},this.options),this.trigger("change",{property:{name:"settings",value:o}}),this._breakpoint=n,this.settings=o,this.invalidate("settings"),this.trigger("changed",{property:{name:"settings",value:this.settings}})},o.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},o.prototype.prepare=function(e){var i=this.trigger("prepare",{content:e});return i.data||(i.data=t("<"+this.settings.itemElement+"/>").addClass(this.options.itemClass).append(e)),this.trigger("prepared",{content:i.data}),i.data},o.prototype.update=function(){for(var e=0,i=this._pipe.length,n=t.proxy(function(t){return this[t]},this._invalidated),o={};e<i;)(this._invalidated.all||t.grep(this._pipe[e].filter,n).length>0)&&this._pipe[e].run(o),e++;this._invalidated={},!this.is("valid")&&this.enter("valid")},o.prototype.width=function(t){switch(t=t||o.Width.Default){case o.Width.Inner:case o.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},o.prototype.refresh=function(){this.enter("refreshing"),this.trigger("refresh"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave("refreshing"),this.trigger("refreshed")},o.prototype.onThrottledResize=function(){e.clearTimeout(this.resizeTimer),this.resizeTimer=e.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},o.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter("resizing"),this.trigger("resize").isDefaultPrevented()?(this.leave("resizing"),!1):(this.invalidate("width"),this.refresh(),this.leave("resizing"),void this.trigger("resized")))))},o.prototype.registerEventHandlers=function(){t.support.transition&&this.$stage.on(t.support.transition.end+".owl.core",t.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(e,"resize",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on("mousedown.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("dragstart.owl.core selectstart.owl.core",function(){return!1})),this.settings.touchDrag&&(this.$stage.on("touchstart.owl.core",t.proxy(this.onDragStart,this)),this.$stage.on("touchcancel.owl.core",t.proxy(this.onDragEnd,this)))},o.prototype.onDragStart=function(e){var n=null;3!==e.which&&(t.support.transform?(n=this.$stage.css("transform").replace(/.*\(|\)| /g,"").split(","),n={x:n[16===n.length?12:4],y:n[16===n.length?13:5]}):(n=this.$stage.position(),n={x:this.settings.rtl?n.left+this.$stage.width()-this.width()+this.settings.margin:n.left,y:n.top}),this.is("animating")&&(t.support.transform?this.animate(n.x):this.$stage.stop(),this.invalidate("position")),this.$element.toggleClass(this.options.grabClass,"mousedown"===e.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=t(e.target),this._drag.stage.start=n,this._drag.stage.current=n,this._drag.pointer=this.pointer(e),t(i).on("mouseup.owl.core touchend.owl.core",t.proxy(this.onDragEnd,this)),t(i).one("mousemove.owl.core touchmove.owl.core",t.proxy(function(e){var n=this.difference(this._drag.pointer,this.pointer(e));t(i).on("mousemove.owl.core touchmove.owl.core",t.proxy(this.onDragMove,this)),Math.abs(n.x)<Math.abs(n.y)&&this.is("valid")||(e.preventDefault(),this.enter("dragging"),this.trigger("drag"))},this)))},o.prototype.onDragMove=function(t){var e=null,i=null,n=null,o=this.difference(this._drag.pointer,this.pointer(t)),r=this.difference(this._drag.stage.start,o);this.is("dragging")&&(t.preventDefault(),this.settings.loop?(e=this.coordinates(this.minimum()),i=this.coordinates(this.maximum()+1)-e,r.x=((r.x-e)%i+i)%i+e):(e=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),i=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),n=this.settings.pullDrag?-1*o.x/5:0,r.x=Math.max(Math.min(r.x,e+n),i+n)),this._drag.stage.current=r,this.animate(r.x))},o.prototype.onDragEnd=function(e){var n=this.difference(this._drag.pointer,this.pointer(e)),o=this._drag.stage.current,r=n.x>0^this.settings.rtl?"left":"right";t(i).off(".owl.core"),this.$element.removeClass(this.options.grabClass),(0!==n.x&&this.is("dragging")||!this.is("valid"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(o.x,0!==n.x?r:this._drag.direction)),this.invalidate("position"),this.update(),this._drag.direction=r,(Math.abs(n.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one("click.owl.core",function(){return!1})),this.is("dragging")&&(this.leave("dragging"),this.trigger("dragged"))},o.prototype.closest=function(e,i){var n=-1,o=this.width(),r=this.coordinates();return this.settings.freeDrag||t.each(r,t.proxy(function(t,a){return"left"===i&&e>a-30&&e<a+30?n=t:"right"===i&&e>a-o-30&&e<a-o+30?n=t+1:this.op(e,"<",a)&&this.op(e,">",void 0!==r[t+1]?r[t+1]:a-o)&&(n="left"===i?t+1:t),-1===n},this)),this.settings.loop||(this.op(e,">",r[this.minimum()])?n=e=this.minimum():this.op(e,"<",r[this.maximum()])&&(n=e=this.maximum())),n},o.prototype.animate=function(e){var i=this.speed()>0;this.is("animating")&&this.onTransitionEnd(),i&&(this.enter("animating"),this.trigger("translate")),t.support.transform3d&&t.support.transition?this.$stage.css({transform:"translate3d("+e+"px,0px,0px)",transition:this.speed()/1e3+"s"+(this.settings.slideTransition?" "+this.settings.slideTransition:"")}):i?this.$stage.animate({left:e+"px"},this.speed(),this.settings.fallbackEasing,t.proxy(this.onTransitionEnd,this)):this.$stage.css({left:e+"px"})},o.prototype.is=function(t){return this._states.current[t]&&this._states.current[t]>0},o.prototype.current=function(t){if(void 0===t)return this._current;if(0!==this._items.length){if(t=this.normalize(t),this._current!==t){var e=this.trigger("change",{property:{name:"position",value:t}});void 0!==e.data&&(t=this.normalize(e.data)),this._current=t,this.invalidate("position"),this.trigger("changed",{property:{name:"position",value:this._current}})}return this._current}},o.prototype.invalidate=function(e){return"string"===t.type(e)&&(this._invalidated[e]=!0,this.is("valid")&&this.leave("valid")),t.map(this._invalidated,function(t,e){return e})},o.prototype.reset=function(t){void 0!==(t=this.normalize(t))&&(this._speed=0,this._current=t,this.suppress(["translate","translated"]),this.animate(this.coordinates(t)),this.release(["translate","translated"]))},o.prototype.normalize=function(t,e){var i=this._items.length,n=e?0:this._clones.length;return!this.isNumeric(t)||i<1?t=void 0:(t<0||t>=i+n)&&(t=((t-n/2)%i+i)%i+n/2),t},o.prototype.relative=function(t){return t-=this._clones.length/2,this.normalize(t,!0)},o.prototype.maximum=function(t){var e,i,n,o=this.settings,r=this._coordinates.length;if(o.loop)r=this._clones.length/2+this._items.length-1;else if(o.autoWidth||o.merge){if(e=this._items.length)for(i=this._items[--e].width(),n=this.$element.width();e--&&!((i+=this._items[e].width()+this.settings.margin)>n););r=e+1}else r=o.center?this._items.length-1:this._items.length-o.items;return t&&(r-=this._clones.length/2),Math.max(r,0)},o.prototype.minimum=function(t){return t?0:this._clones.length/2},o.prototype.items=function(t){return void 0===t?this._items.slice():(t=this.normalize(t,!0),this._items[t])},o.prototype.mergers=function(t){return void 0===t?this._mergers.slice():(t=this.normalize(t,!0),this._mergers[t])},o.prototype.clones=function(e){var i=this._clones.length/2,n=i+this._items.length,o=function(t){return t%2==0?n+t/2:i-(t+1)/2};return void 0===e?t.map(this._clones,function(t,e){return o(e)}):t.map(this._clones,function(t,i){return t===e?o(i):null})},o.prototype.speed=function(t){return void 0!==t&&(this._speed=t),this._speed},o.prototype.coordinates=function(e){var i,n=1,o=e-1;return void 0===e?t.map(this._coordinates,t.proxy(function(t,e){return this.coordinates(e)},this)):(this.settings.center?(this.settings.rtl&&(n=-1,o=e+1),i=this._coordinates[e],i+=(this.width()-i+(this._coordinates[o]||0))/2*n):i=this._coordinates[o]||0,i=Math.ceil(i))},o.prototype.duration=function(t,e,i){return 0===i?0:Math.min(Math.max(Math.abs(e-t),1),6)*Math.abs(i||this.settings.smartSpeed)},o.prototype.to=function(t,e){var i=this.current(),n=null,o=t-this.relative(i),r=(o>0)-(o<0),a=this._items.length,s=this.minimum(),l=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(o)>a/2&&(o+=-1*r*a),t=i+o,(n=((t-s)%a+a)%a+s)!==t&&n-o<=l&&n-o>0&&(i=n-o,t=n,this.reset(i))):this.settings.rewind?(l+=1,t=(t%l+l)%l):t=Math.max(s,Math.min(l,t)),this.speed(this.duration(i,t,e)),this.current(t),this.isVisible()&&this.update()},o.prototype.next=function(t){t=t||!1,this.to(this.relative(this.current())+1,t)},o.prototype.prev=function(t){t=t||!1,this.to(this.relative(this.current())-1,t)},o.prototype.onTransitionEnd=function(t){if(void 0!==t&&(t.stopPropagation(),(t.target||t.srcElement||t.originalTarget)!==this.$stage.get(0)))return!1;this.leave("animating"),this.trigger("translated")},o.prototype.viewport=function(){var n;return this.options.responsiveBaseElement!==e?n=t(this.options.responsiveBaseElement).width():e.innerWidth?n=e.innerWidth:i.documentElement&&i.documentElement.clientWidth?n=i.documentElement.clientWidth:console.warn("Can not detect viewport width."),n},o.prototype.replace=function(e){this.$stage.empty(),this._items=[],e&&(e=e instanceof jQuery?e:t(e)),this.settings.nestedItemSelector&&(e=e.find("."+this.settings.nestedItemSelector)),e.filter(function(){return 1===this.nodeType}).each(t.proxy(function(t,e){e=this.prepare(e),this.$stage.append(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate("items")},o.prototype.add=function(e,i){var n=this.relative(this._current);i=void 0===i?this._items.length:this.normalize(i,!0),e=e instanceof jQuery?e:t(e),this.trigger("add",{content:e,position:i}),e=this.prepare(e),0===this._items.length||i===this._items.length?(0===this._items.length&&this.$stage.append(e),0!==this._items.length&&this._items[i-1].after(e),this._items.push(e),this._mergers.push(1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)):(this._items[i].before(e),this._items.splice(i,0,e),this._mergers.splice(i,0,1*e.find("[data-merge]").addBack("[data-merge]").attr("data-merge")||1)),this._items[n]&&this.reset(this._items[n].index()),this.invalidate("items"),this.trigger("added",{content:e,position:i})},o.prototype.remove=function(t){void 0!==(t=this.normalize(t,!0))&&(this.trigger("remove",{content:this._items[t],position:t}),this._items[t].remove(),this._items.splice(t,1),this._mergers.splice(t,1),this.invalidate("items"),this.trigger("removed",{content:null,position:t}))},o.prototype.preloadAutoWidthImages=function(e){e.each(t.proxy(function(e,i){this.enter("pre-loading"),i=t(i),t(new Image).one("load",t.proxy(function(t){i.attr("src",t.target.src),i.css("opacity",1),this.leave("pre-loading"),!this.is("pre-loading")&&!this.is("initializing")&&this.refresh()},this)).attr("src",i.attr("src")||i.attr("data-src")||i.attr("data-src-retina"))},this))},o.prototype.destroy=function(){this.$element.off(".owl.core"),this.$stage.off(".owl.core"),t(i).off(".owl.core"),!1!==this.settings.responsive&&(e.clearTimeout(this.resizeTimer),this.off(e,"resize",this._handlers.onThrottledResize));for(var n in this._plugins)this._plugins[n].destroy();this.$stage.children(".cloned").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class",this.$element.attr("class").replace(new RegExp(this.options.responsiveClass+"-\\S+\\s","g"),"")).removeData("owl.carousel")},o.prototype.op=function(t,e,i){var n=this.settings.rtl;switch(e){case"<":return n?t>i:t<i;case">":return n?t<i:t>i;case">=":return n?t<=i:t>=i;case"<=":return n?t>=i:t<=i}},o.prototype.on=function(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n):t.attachEvent&&t.attachEvent("on"+e,i)},o.prototype.off=function(t,e,i,n){t.removeEventListener?t.removeEventListener(e,i,n):t.detachEvent&&t.detachEvent("on"+e,i)},o.prototype.trigger=function(e,i,n,r,a){var s={item:{count:this._items.length,index:this.current()}},l=t.camelCase(t.grep(["on",e,n],function(t){return t}).join("-").toLowerCase()),h=t.Event([e,"owl",n||"carousel"].join(".").toLowerCase(),t.extend({relatedTarget:this},s,i));return this._supress[e]||(t.each(this._plugins,function(t,e){e.onTrigger&&e.onTrigger(h)}),this.register({type:o.Type.Event,name:e}),this.$element.trigger(h),this.settings&&"function"==typeof this.settings[l]&&this.settings[l].call(this,h)),h},o.prototype.enter=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){
void 0===this._states.current[e]&&(this._states.current[e]=0),this._states.current[e]++},this))},o.prototype.leave=function(e){t.each([e].concat(this._states.tags[e]||[]),t.proxy(function(t,e){this._states.current[e]--},this))},o.prototype.register=function(e){if(e.type===o.Type.Event){if(t.event.special[e.name]||(t.event.special[e.name]={}),!t.event.special[e.name].owl){var i=t.event.special[e.name]._default;t.event.special[e.name]._default=function(t){return!i||!i.apply||t.namespace&&-1!==t.namespace.indexOf("owl")?t.namespace&&t.namespace.indexOf("owl")>-1:i.apply(this,arguments)},t.event.special[e.name].owl=!0}}else e.type===o.Type.State&&(this._states.tags[e.name]?this._states.tags[e.name]=this._states.tags[e.name].concat(e.tags):this._states.tags[e.name]=e.tags,this._states.tags[e.name]=t.grep(this._states.tags[e.name],t.proxy(function(i,n){return t.inArray(i,this._states.tags[e.name])===n},this)))},o.prototype.suppress=function(e){t.each(e,t.proxy(function(t,e){this._supress[e]=!0},this))},o.prototype.release=function(e){t.each(e,t.proxy(function(t,e){delete this._supress[e]},this))},o.prototype.pointer=function(t){var i={x:null,y:null};return t=t.originalEvent||t||e.event,t=t.touches&&t.touches.length?t.touches[0]:t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,t.pageX?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),i},o.prototype.isNumeric=function(t){return!isNaN(parseFloat(t))},o.prototype.difference=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},t.fn.owlCarousel=function(e){var i=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this),r=n.data("owl.carousel");r||(r=new o(this,"object"==typeof e&&e),n.data("owl.carousel",r),t.each(["next","prev","to","destroy","refresh","replace","add","remove"],function(e,i){r.register({type:o.Type.Event,name:i}),r.$element.on(i+".owl.carousel.core",t.proxy(function(t){t.namespace&&t.relatedTarget!==this&&(this.suppress([i]),r[i].apply(this,[].slice.call(arguments,1)),this.release([i]))},r))})),"string"==typeof e&&"_"!==e.charAt(0)&&r[e].apply(r,i)})},t.fn.owlCarousel.Constructor=o}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){var o=function(e){this._core=e,this._interval=null,this._visible=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={autoRefresh:!0,autoRefreshInterval:500},o.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=e.setInterval(t.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},o.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass("owl-hidden",!this._visible),this._visible&&this._core.invalidate("width")&&this._core.refresh())},o.prototype.destroy=function(){var t,i;e.clearInterval(this._interval);for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoRefresh=o}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){var o=function(e){this._core=e,this._loaded=[],this._handlers={"initialized.owl.carousel change.owl.carousel resized.owl.carousel":t.proxy(function(e){if(e.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(e.property&&"position"==e.property.name||"initialized"==e.type)){var i=this._core.settings,n=i.center&&Math.ceil(i.items/2)||i.items,o=i.center&&-1*n||0,r=(e.property&&void 0!==e.property.value?e.property.value:this._core.current())+o,a=this._core.clones().length,s=t.proxy(function(t,e){this.load(e)},this);for(i.lazyLoadEager>0&&(n+=i.lazyLoadEager,i.loop&&(r-=i.lazyLoadEager,n++));o++<n;)this.load(a/2+this._core.relative(r)),a&&t.each(this._core.clones(this._core.relative(r)),s),r++}},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers)};o.Defaults={lazyLoad:!1,lazyLoadEager:0},o.prototype.load=function(i){var n=this._core.$stage.children().eq(i),o=n&&n.find(".owl-lazy");!o||t.inArray(n.get(0),this._loaded)>-1||(o.each(t.proxy(function(i,n){var o,r=t(n),a=e.devicePixelRatio>1&&r.attr("data-src-retina")||r.attr("data-src")||r.attr("data-srcset");this._core.trigger("load",{element:r,url:a},"lazy"),r.is("img")?r.one("load.owl.lazy",t.proxy(function(){r.css("opacity",1),this._core.trigger("loaded",{element:r,url:a},"lazy")},this)).attr("src",a):r.is("source")?r.one("load.owl.lazy",t.proxy(function(){this._core.trigger("loaded",{element:r,url:a},"lazy")},this)).attr("srcset",a):(o=new Image,o.onload=t.proxy(function(){r.css({"background-image":'url("'+a+'")',opacity:"1"}),this._core.trigger("loaded",{element:r,url:a},"lazy")},this),o.src=a)},this)),this._loaded.push(n.get(0)))},o.prototype.destroy=function(){var t,e;for(t in this.handlers)this._core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Lazy=o}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){var o=function(i){this._core=i,this._previousHeight=null,this._handlers={"initialized.owl.carousel refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&this.update()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&"position"===t.property.name&&this.update()},this),"loaded.owl.lazy":t.proxy(function(t){t.namespace&&this._core.settings.autoHeight&&t.element.closest("."+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var n=this;t(e).on("load",function(){n._core.settings.autoHeight&&n.update()}),t(e).resize(function(){n._core.settings.autoHeight&&(null!=n._intervalId&&clearTimeout(n._intervalId),n._intervalId=setTimeout(function(){n.update()},250))})};o.Defaults={autoHeight:!1,autoHeightClass:"owl-height"},o.prototype.update=function(){var e=this._core._current,i=e+this._core.settings.items,n=this._core.settings.lazyLoad,o=this._core.$stage.children().toArray().slice(e,i),r=[],a=0;t.each(o,function(e,i){r.push(t(i).height())}),a=Math.max.apply(null,r),a<=1&&n&&this._previousHeight&&(a=this._previousHeight),this._previousHeight=a,this._core.$stage.parent().height(a).addClass(this._core.settings.autoHeightClass)},o.prototype.destroy=function(){var t,e;for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.AutoHeight=o}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){var o=function(e){this._core=e,this._videos={},this._playing=null,this._handlers={"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.register({type:"state",name:"playing",tags:["interacting"]})},this),"resize.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.video&&this.isInFullScreen()&&t.preventDefault()},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._core.is("resizing")&&this._core.$stage.find(".cloned .owl-video-frame").remove()},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"===t.property.name&&this._playing&&this.stop()},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find(".owl-video");i.length&&(i.css("display","none"),this.fetch(i,t(e.content)))}},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on("click.owl.video",".owl-video-play-icon",t.proxy(function(t){this.play(t)},this))};o.Defaults={video:!1,videoHeight:!1,videoWidth:!1},o.prototype.fetch=function(t,e){var i=function(){return t.attr("data-vimeo-id")?"vimeo":t.attr("data-vzaar-id")?"vzaar":"youtube"}(),n=t.attr("data-vimeo-id")||t.attr("data-youtube-id")||t.attr("data-vzaar-id"),o=t.attr("data-width")||this._core.settings.videoWidth,r=t.attr("data-height")||this._core.settings.videoHeight,a=t.attr("href");if(!a)throw new Error("Missing video URL.");if(n=a.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/),n[3].indexOf("youtu")>-1)i="youtube";else if(n[3].indexOf("vimeo")>-1)i="vimeo";else{if(!(n[3].indexOf("vzaar")>-1))throw new Error("Video URL not supported.");i="vzaar"}n=n[6],this._videos[a]={type:i,id:n,width:o,height:r},e.attr("data-video",a),this.thumbnail(t,this._videos[a])},o.prototype.thumbnail=function(e,i){var n,o,r,a=i.width&&i.height?"width:"+i.width+"px;height:"+i.height+"px;":"",s=e.find("img"),l="src",h="",c=this._core.settings,u=function(i){o='<div class="owl-video-play-icon"></div>',n=c.lazyLoad?t("<div/>",{class:"owl-video-tn "+h,srcType:i}):t("<div/>",{class:"owl-video-tn",style:"opacity:1;background-image:url("+i+")"}),e.after(n),e.after(o)};if(e.wrap(t("<div/>",{class:"owl-video-wrapper",style:a})),this._core.settings.lazyLoad&&(l="data-src",h="owl-lazy"),s.length)return u(s.attr(l)),s.remove(),!1;"youtube"===i.type?(r="//img.youtube.com/vi/"+i.id+"/hqdefault.jpg",u(r)):"vimeo"===i.type?t.ajax({type:"GET",url:"//vimeo.com/api/v2/video/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){r=t[0].thumbnail_large,u(r)}}):"vzaar"===i.type&&t.ajax({type:"GET",url:"//vzaar.com/api/videos/"+i.id+".json",jsonp:"callback",dataType:"jsonp",success:function(t){r=t.framegrab_url,u(r)}})},o.prototype.stop=function(){this._core.trigger("stop",null,"video"),this._playing.find(".owl-video-frame").remove(),this._playing.removeClass("owl-video-playing"),this._playing=null,this._core.leave("playing"),this._core.trigger("stopped",null,"video")},o.prototype.play=function(e){var i,n=t(e.target),o=n.closest("."+this._core.settings.itemClass),r=this._videos[o.attr("data-video")],a=r.width||"100%",s=r.height||this._core.$stage.height();this._playing||(this._core.enter("playing"),this._core.trigger("play",null,"video"),o=this._core.items(this._core.relative(o.index())),this._core.reset(o.index()),i=t('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),i.attr("height",s),i.attr("width",a),"youtube"===r.type?i.attr("src","//www.youtube.com/embed/"+r.id+"?autoplay=1&rel=0&v="+r.id):"vimeo"===r.type?i.attr("src","//player.vimeo.com/video/"+r.id+"?autoplay=1"):"vzaar"===r.type&&i.attr("src","//view.vzaar.com/"+r.id+"/player?autoplay=true"),t(i).wrap('<div class="owl-video-frame" />').insertAfter(o.find(".owl-video")),this._playing=o.addClass("owl-video-playing"))},o.prototype.isInFullScreen=function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement;return e&&t(e).parent().hasClass("owl-video-frame")},o.prototype.destroy=function(){var t,e;this._core.$element.off("click.owl.video");for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Video=o}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){var o=function(e){this.core=e,this.core.options=t.extend({},o.Defaults,this.core.options),this.swapping=!0,this.previous=void 0,this.next=void 0,this.handlers={"change.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&(this.previous=this.core.current(),this.next=t.property.value)},this),"drag.owl.carousel dragged.owl.carousel translated.owl.carousel":t.proxy(function(t){t.namespace&&(this.swapping="translated"==t.type)},this),"translate.owl.carousel":t.proxy(function(t){t.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};o.Defaults={animateOut:!1,animateIn:!1},o.prototype.swap=function(){if(1===this.core.settings.items&&t.support.animation&&t.support.transition){this.core.speed(0);var e,i=t.proxy(this.clear,this),n=this.core.$stage.children().eq(this.previous),o=this.core.$stage.children().eq(this.next),r=this.core.settings.animateIn,a=this.core.settings.animateOut;this.core.current()!==this.previous&&(a&&(e=this.core.coordinates(this.previous)-this.core.coordinates(this.next),n.one(t.support.animation.end,i).css({left:e+"px"}).addClass("animated owl-animated-out").addClass(a)),r&&o.one(t.support.animation.end,i).addClass("animated owl-animated-in").addClass(r))}},o.prototype.clear=function(e){t(e.target).css({left:""}).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},o.prototype.destroy=function(){var t,e;for(t in this.handlers)this.core.$element.off(t,this.handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.Animate=o}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){var o=function(e){this._core=e,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={"changed.owl.carousel":t.proxy(function(t){t.namespace&&"settings"===t.property.name?this._core.settings.autoplay?this.play():this.stop():t.namespace&&"position"===t.property.name&&this._paused&&(this._time=0)},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.autoplay&&this.play()},this),"play.owl.autoplay":t.proxy(function(t,e,i){t.namespace&&this.play(e,i)},this),"stop.owl.autoplay":t.proxy(function(t){t.namespace&&this.stop()},this),"mouseover.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"mouseleave.owl.autoplay":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.play()},this),"touchstart.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is("rotating")&&this.pause()},this),"touchend.owl.core":t.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=t.extend({},o.Defaults,this._core.options)};o.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},o.prototype._next=function(n){this._call=e.setTimeout(t.proxy(this._next,this,n),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is("interacting")||i.hidden||this._core.next(n||this._core.settings.autoplaySpeed)},o.prototype.read=function(){return(new Date).getTime()-this._time},o.prototype.play=function(i,n){var o;this._core.is("rotating")||this._core.enter("rotating"),i=i||this._core.settings.autoplayTimeout,o=Math.min(this._time%(this._timeout||i),i),this._paused?(this._time=this.read(),this._paused=!1):e.clearTimeout(this._call),this._time+=this.read()%i-o,this._timeout=i,this._call=e.setTimeout(t.proxy(this._next,this,n),i-o)},o.prototype.stop=function(){this._core.is("rotating")&&(this._time=0,this._paused=!0,e.clearTimeout(this._call),this._core.leave("rotating"))},o.prototype.pause=function(){this._core.is("rotating")&&!this._paused&&(this._time=this.read(),this._paused=!0,e.clearTimeout(this._call))},o.prototype.destroy=function(){var t,e;this.stop();for(t in this._handlers)this._core.$element.off(t,this._handlers[t]);for(e in Object.getOwnPropertyNames(this))"function"!=typeof this[e]&&(this[e]=null)},t.fn.owlCarousel.Constructor.Plugins.autoplay=o}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){"use strict";var o=function(e){this._core=e,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={"prepared.owl.carousel":t.proxy(function(e){e.namespace&&this._core.settings.dotsData&&this._templates.push('<div class="'+this._core.settings.dotClass+'">'+t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot")+"</div>")},this),"added.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,0,this._templates.pop())},this),"remove.owl.carousel":t.proxy(function(t){t.namespace&&this._core.settings.dotsData&&this._templates.splice(t.position,1)},this),"changed.owl.carousel":t.proxy(function(t){t.namespace&&"position"==t.property.name&&this.draw()},this),"initialized.owl.carousel":t.proxy(function(t){t.namespace&&!this._initialized&&(this._core.trigger("initialize",null,"navigation"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger("initialized",null,"navigation"))},this),"refreshed.owl.carousel":t.proxy(function(t){t.namespace&&this._initialized&&(this._core.trigger("refresh",null,"navigation"),this.update(),this.draw(),this._core.trigger("refreshed",null,"navigation"))},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers)};o.Defaults={nav:!1,navText:['<span aria-label="Previous">&#x2039;</span>','<span aria-label="Next">&#x203a;</span>'],navSpeed:!1,navElement:'button type="button" role="presentation"',navContainer:!1,navContainerClass:"owl-nav",navClass:["owl-prev","owl-next"],slideBy:1,dotClass:"owl-dot",dotsClass:"owl-dots",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},o.prototype.initialize=function(){var e,i=this._core.settings;this._controls.$relative=(i.navContainer?t(i.navContainer):t("<div>").addClass(i.navContainerClass).appendTo(this.$element)).addClass("disabled"),this._controls.$previous=t("<"+i.navElement+">").addClass(i.navClass[0]).html(i.navText[0]).prependTo(this._controls.$relative).on("click",t.proxy(function(t){this.prev(i.navSpeed)},this)),this._controls.$next=t("<"+i.navElement+">").addClass(i.navClass[1]).html(i.navText[1]).appendTo(this._controls.$relative).on("click",t.proxy(function(t){this.next(i.navSpeed)},this)),i.dotsData||(this._templates=[t('<button role="button">').addClass(i.dotClass).append(t("<span>")).prop("outerHTML")]),this._controls.$absolute=(i.dotsContainer?t(i.dotsContainer):t("<div>").addClass(i.dotsClass).appendTo(this.$element)).addClass("disabled"),this._controls.$absolute.on("click","button",t.proxy(function(e){var n=t(e.target).parent().is(this._controls.$absolute)?t(e.target).index():t(e.target).parent().index();e.preventDefault(),this.to(n,i.dotsSpeed)},this));for(e in this._overrides)this._core[e]=t.proxy(this[e],this)},o.prototype.destroy=function(){var t,e,i,n,o;o=this._core.settings;for(t in this._handlers)this.$element.off(t,this._handlers[t]);for(e in this._controls)"$relative"===e&&o.navContainer?this._controls[e].html(""):this._controls[e].remove();for(n in this.overides)this._core[n]=this._overrides[n];for(i in Object.getOwnPropertyNames(this))"function"!=typeof this[i]&&(this[i]=null)},o.prototype.update=function(){var t,e,i,n=this._core.clones().length/2,o=n+this._core.items().length,r=this._core.maximum(!0),a=this._core.settings,s=a.center||a.autoWidth||a.dotsData?1:a.dotsEach||a.items;if("page"!==a.slideBy&&(a.slideBy=Math.min(a.slideBy,a.items)),a.dots||"page"==a.slideBy)for(this._pages=[],t=n,e=0,i=0;t<o;t++){if(e>=s||0===e){if(this._pages.push({start:Math.min(r,t-n),end:t-n+s-1}),Math.min(r,t-n)===r)break;e=0,++i}e+=this._core.mergers(this._core.relative(t))}},o.prototype.draw=function(){var e,i=this._core.settings,n=this._core.items().length<=i.items,o=this._core.relative(this._core.current()),r=i.loop||i.rewind;this._controls.$relative.toggleClass("disabled",!i.nav||n),i.nav&&(this._controls.$previous.toggleClass("disabled",!r&&o<=this._core.minimum(!0)),this._controls.$next.toggleClass("disabled",!r&&o>=this._core.maximum(!0))),this._controls.$absolute.toggleClass("disabled",!i.dots||n),i.dots&&(e=this._pages.length-this._controls.$absolute.children().length,i.dotsData&&0!==e?this._controls.$absolute.html(this._templates.join("")):e>0?this._controls.$absolute.append(new Array(e+1).join(this._templates[0])):e<0&&this._controls.$absolute.children().slice(e).remove(),this._controls.$absolute.find(".active").removeClass("active"),this._controls.$absolute.children().eq(t.inArray(this.current(),this._pages)).addClass("active"))},o.prototype.onTrigger=function(e){var i=this._core.settings;e.page={index:t.inArray(this.current(),this._pages),count:this._pages.length,size:i&&(i.center||i.autoWidth||i.dotsData?1:i.dotsEach||i.items)}},o.prototype.current=function(){var e=this._core.relative(this._core.current());return t.grep(this._pages,t.proxy(function(t,i){return t.start<=e&&t.end>=e},this)).pop()},o.prototype.getPosition=function(e){var i,n,o=this._core.settings;return"page"==o.slideBy?(i=t.inArray(this.current(),this._pages),n=this._pages.length,e?++i:--i,i=this._pages[(i%n+n)%n].start):(i=this._core.relative(this._core.current()),n=this._core.items().length,e?i+=o.slideBy:i-=o.slideBy),i},o.prototype.next=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!0),e)},o.prototype.prev=function(e){t.proxy(this._overrides.to,this._core)(this.getPosition(!1),e)},o.prototype.to=function(e,i,n){var o;!n&&this._pages.length?(o=this._pages.length,t.proxy(this._overrides.to,this._core)(this._pages[(e%o+o)%o].start,i)):t.proxy(this._overrides.to,this._core)(e,i)},t.fn.owlCarousel.Constructor.Plugins.Navigation=o}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){"use strict";var o=function(i){this._core=i,this._hashes={},this.$element=this._core.$element,this._handlers={"initialized.owl.carousel":t.proxy(function(i){i.namespace&&"URLHash"===this._core.settings.startPosition&&t(e).trigger("hashchange.owl.navigation")},this),"prepared.owl.carousel":t.proxy(function(e){if(e.namespace){var i=t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash");if(!i)return;this._hashes[i]=e.content}},this),"changed.owl.carousel":t.proxy(function(i){if(i.namespace&&"position"===i.property.name){var n=this._core.items(this._core.relative(this._core.current())),o=t.map(this._hashes,function(t,e){return t===n?e:null}).join();if(!o||e.location.hash.slice(1)===o)return;e.location.hash=o}},this)},this._core.options=t.extend({},o.Defaults,this._core.options),this.$element.on(this._handlers),t(e).on("hashchange.owl.navigation",t.proxy(function(t){var i=e.location.hash.substring(1),n=this._core.$stage.children(),o=this._hashes[i]&&n.index(this._hashes[i]);void 0!==o&&o!==this._core.current()&&this._core.to(this._core.relative(o),!1,!0)},this))};o.Defaults={URLhashListener:!1},o.prototype.destroy=function(){var i,n;t(e).off("hashchange.owl.navigation");for(i in this._handlers)this._core.$element.off(i,this._handlers[i]);for(n in Object.getOwnPropertyNames(this))"function"!=typeof this[n]&&(this[n]=null)},t.fn.owlCarousel.Constructor.Plugins.Hash=o}(window.Zepto||window.jQuery,window,document),function(t,e,i,n){function o(e,i){var o=!1,r=e.charAt(0).toUpperCase()+e.slice(1);return t.each((e+" "+s.join(r+" ")+r).split(" "),function(t,e){if(a[e]!==n)return o=!i||e,!1}),o}function r(t){return o(t,!0)}var a=t("<support>").get(0).style,s="Webkit Moz O ms".split(" "),l={transition:{end:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}},animation:{end:{WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",animation:"animationend"}}},h={csstransforms:function(){return!!o("transform")},csstransforms3d:function(){return!!o("perspective")},csstransitions:function(){return!!o("transition")},cssanimations:function(){return!!o("animation")}};h.csstransitions()&&(t.support.transition=new String(r("transition")),t.support.transition.end=l.transition.end[t.support.transition]),h.cssanimations()&&(t.support.animation=new String(r("animation")),t.support.animation.end=l.animation.end[t.support.animation]),h.csstransforms()&&(t.support.transform=new String(r("transform")),t.support.transform3d=h.csstransforms3d())}(window.Zepto||window.jQuery,window,document),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return kn.apply(null,arguments)}function e(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function n(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t){return void 0===t}function r(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function s(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var i in e)l(e,i)&&(t[i]=e[i]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,i,n){return De(t,e,i,n,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(t){return null==t._pf&&(t._pf=u()),t._pf}function f(t){if(null==t._isValid){var e=d(t),i=En.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function p(t){var e=c(NaN);return null!=t?h(d(e),t):d(e).userInvalidated=!0,e}function g(t,e){var i,n,r;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=d(e)),o(e._locale)||(t._locale=e._locale),Ln.length>0)for(i=0;i<Ln.length;i++)n=Ln[i],r=e[n],o(r)||(t[n]=r);return t}function m(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===On&&(On=!0,t.updateOffset(this),On=!1)}function v(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function y(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=y(e)),i}function x(t,e,i){var n,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(n=0;n<o;n++)(i&&t[n]!==e[n]||!i&&_(t[n])!==_(e[n]))&&a++;return a+r}function w(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function b(e,i){var n=!0;return h(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),n){for(var o,r=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){o+="\n["+a+"] ";for(var s in arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];r.push(o)}w(e+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function S(e,i){null!=t.deprecationHandler&&t.deprecationHandler(e,i),Pn[e]||(w(i),Pn[e]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t){var e,i;for(i in t)e=t[i],D(e)?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function C(t,e){var n,o=h({},t);for(n in e)l(e,n)&&(i(t[n])&&i(e[n])?(o[n]={},h(o[n],t[n]),h(o[n],e[n])):null!=e[n]?o[n]=e[n]:delete o[n]);for(n in t)l(t,n)&&!l(e,n)&&i(t[n])&&(o[n]=h({},o[n]));return o}function T(t){null!=t&&this.set(t)}function I(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return D(n)?n.call(e,i):n}function A(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function k(){return this._invalidDate}function E(t){return this._ordinal.replace("%d",t)}function L(t,e,i,n){var o=this._relativeTime[i];return D(o)?o(t,e,i,n):o.replace(/%d/i,t)}function O(t,e){var i=this._relativeTime[t>0?"future":"past"];return D(i)?i(e):i.replace(/%s/i,e)}function P(t,e){var i=t.toLowerCase();Vn[i]=Vn[i+"s"]=Vn[e]=t}function N(t){return"string"==typeof t?Vn[t]||Vn[t.toLowerCase()]:void 0}function R(t){var e,i,n={};for(i in t)l(t,i)&&(e=N(i))&&(n[e]=t[i]);return n}function z(t,e){Wn[t]=e}function B(t){var e=[];for(var i in t)e.push({unit:i,priority:Wn[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}function H(t,e,i){var n=""+Math.abs(t),o=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function V(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(jn[t]=o),e&&(jn[e[0]]=function(){return H(o.apply(this,arguments),e[1],e[2])}),i&&(jn[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function W(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function F(t){var e,i,n=t.match(Fn);for(e=0,i=n.length;e<i;e++)jn[n[e]]?n[e]=jn[n[e]]:n[e]=W(n[e]);return function(e){var o,r="";for(o=0;o<i;o++)r+=D(n[o])?n[o].call(e,t):n[o];return r}}function $(t,e){return t.isValid()?(e=G(e,t.localeData()),Gn[e]=Gn[e]||F(e),Gn[e](t)):t.localeData().invalidDate()}function G(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for($n.lastIndex=0;n>=0&&$n.test(t);)t=t.replace($n,i),$n.lastIndex=0,n-=1;return t}function j(t,e,i){ho[t]=D(e)?e:function(t,n){return t&&i?i:e}}function Y(t,e){return l(ho,t)?ho[t](e._strict,e._locale):new RegExp(U(t))}function U(t){return q(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}))}function q(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Z(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),r(e)&&(n=function(t,i){i[e]=_(t)}),i=0;i<t.length;i++)co[t[i]]=n}function X(t,e){Z(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function K(t,e,i){null!=e&&l(co,t)&&co[t](e,i._a,i,t)}function Q(t){return J(t)?366:365}function J(t){return t%4==0&&t%100!=0||t%400==0}function tt(){return J(this.year())}function et(e,i){return function(n){return null!=n?(nt(this,e,n),t.updateOffset(this,i),this):it(this,e)}}function it(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function nt(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&J(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),st(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function ot(t){return t=N(t),D(this[t])?this[t]():this}function rt(t,e){if("object"==typeof t){t=R(t);for(var i=B(t),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit])}else if(t=N(t),D(this[t]))return this[t](e);return this}function at(t,e){return(t%e+e)%e}function st(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=at(e,12);return t+=(e-i)/12,1===i?J(t)?29:28:31-i%7%2}function lt(t,i){return t?e(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||So).test(i)?"format":"standalone"][t.month()]:e(this._months)?this._months:this._months.standalone}function ht(t,i){
return t?e(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[So.test(i)?"format":"standalone"][t.month()]:e(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ct(t,e,i){var n,o,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=c([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===e?(o=wo.call(this._shortMonthsParse,a),-1!==o?o:null):(o=wo.call(this._longMonthsParse,a),-1!==o?o:null):"MMM"===e?-1!==(o=wo.call(this._shortMonthsParse,a))?o:(o=wo.call(this._longMonthsParse,a),-1!==o?o:null):-1!==(o=wo.call(this._longMonthsParse,a))?o:(o=wo.call(this._shortMonthsParse,a),-1!==o?o:null)}function ut(t,e,i){var n,o,r;if(this._monthsParseExact)return ct.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=c([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function dt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=_(e);else if(e=t.localeData().monthsParse(e),!r(e))return t;return i=Math.min(t.date(),st(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function ft(e){return null!=e?(dt(this,e),t.updateOffset(this,!0),this):it(this,"Month")}function pt(){return st(this.year(),this.month())}function gt(t){return this._monthsParseExact?(l(this,"_monthsRegex")||vt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=Co),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function mt(t){return this._monthsParseExact?(l(this,"_monthsRegex")||vt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=To),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function vt(){function t(t,e){return e.length-t.length}var e,i,n=[],o=[],r=[];for(e=0;e<12;e++)i=c([2e3,e]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)n[e]=q(n[e]),o[e]=q(o[e]);for(e=0;e<24;e++)r[e]=q(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function yt(t,e,i,n,o,r,a){var s;return t<100&&t>=0?(s=new Date(t+400,e,i,n,o,r,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,i,n,o,r,a),s}function _t(t){var e;if(t<100&&t>=0){var i=Array.prototype.slice.call(arguments);i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function xt(t,e,i){var n=7+e-i;return-(7+_t(t,0,n).getUTCDay()-e)%7+n-1}function wt(t,e,i,n,o){var r,a,s=(7+i-n)%7,l=xt(t,n,o),h=1+7*(e-1)+s+l;return h<=0?(r=t-1,a=Q(r)+h):h>Q(t)?(r=t+1,a=h-Q(t)):(r=t,a=h),{year:r,dayOfYear:a}}function bt(t,e,i){var n,o,r=xt(t.year(),e,i),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return a<1?(o=t.year()-1,n=a+St(o,e,i)):a>St(t.year(),e,i)?(n=a-St(t.year(),e,i),o=t.year()+1):(o=t.year(),n=a),{week:n,year:o}}function St(t,e,i){var n=xt(t,e,i),o=xt(t+1,e,i);return(Q(t)-n+o)/7}function Dt(t){return bt(t,this._week.dow,this._week.doy).week}function Mt(){return this._week.dow}function Ct(){return this._week.doy}function Tt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function It(t){var e=bt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function At(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function kt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Et(t,e){return t.slice(e,7).concat(t.slice(0,e))}function Lt(t,i){var n=e(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(i)?"format":"standalone"];return!0===t?Et(n,this._week.dow):t?n[t.day()]:n}function Ot(t){return!0===t?Et(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Pt(t){return!0===t?Et(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Nt(t,e,i){var n,o,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=c([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===e?(o=wo.call(this._weekdaysParse,a),-1!==o?o:null):"ddd"===e?(o=wo.call(this._shortWeekdaysParse,a),-1!==o?o:null):(o=wo.call(this._minWeekdaysParse,a),-1!==o?o:null):"dddd"===e?-1!==(o=wo.call(this._weekdaysParse,a))?o:-1!==(o=wo.call(this._shortWeekdaysParse,a))?o:(o=wo.call(this._minWeekdaysParse,a),-1!==o?o:null):"ddd"===e?-1!==(o=wo.call(this._shortWeekdaysParse,a))?o:-1!==(o=wo.call(this._weekdaysParse,a))?o:(o=wo.call(this._minWeekdaysParse,a),-1!==o?o:null):-1!==(o=wo.call(this._minWeekdaysParse,a))?o:-1!==(o=wo.call(this._weekdaysParse,a))?o:(o=wo.call(this._shortWeekdaysParse,a),-1!==o?o:null)}function Rt(t,e,i){var n,o,r;if(this._weekdaysParseExact)return Nt.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=c([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function zt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=At(t,this.localeData()),this.add(t-e,"d")):e}function Bt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ht(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=kt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Vt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Lo),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Wt(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Oo),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ft(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||$t.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Po),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $t(){function t(t,e){return e.length-t.length}var e,i,n,o,r,a=[],s=[],l=[],h=[];for(e=0;e<7;e++)i=c([2e3,1]).day(e),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),r=this.weekdays(i,""),a.push(n),s.push(o),l.push(r),h.push(n),h.push(o),h.push(r);for(a.sort(t),s.sort(t),l.sort(t),h.sort(t),e=0;e<7;e++)s[e]=q(s[e]),l[e]=q(l[e]),h[e]=q(h[e]);this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Gt(){return this.hours()%12||12}function jt(){return this.hours()||24}function Yt(t,e){V(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ut(t,e){return e._meridiemParse}function qt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Zt(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Xt(t){return t?t.toLowerCase().replace("_","-"):t}function Kt(t){for(var e,i,n,o,r=0;r<t.length;){for(o=Xt(t[r]).split("-"),e=o.length,i=Xt(t[r+1]),i=i?i.split("-"):null;e>0;){if(n=Qt(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&x(o,i,!0)>=e-1)break;e--}r++}return No}function Qt(t){var e=null;if(!Ho[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=No._abbr;require("./locale/"+t),Jt(e)}catch(t){}return Ho[t]}function Jt(t,e){var i;return t&&(i=o(e)?ie(t):te(t,e),i?No=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),No._abbr}function te(t,e){if(null!==e){var i,n=Bo;if(e.abbr=t,null!=Ho[t])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ho[t]._config;else if(null!=e.parentLocale)if(null!=Ho[e.parentLocale])n=Ho[e.parentLocale]._config;else{if(null==(i=Qt(e.parentLocale)))return Vo[e.parentLocale]||(Vo[e.parentLocale]=[]),Vo[e.parentLocale].push({name:t,config:e}),null;n=i._config}return Ho[t]=new T(C(n,e)),Vo[t]&&Vo[t].forEach(function(t){te(t.name,t.config)}),Jt(t),Ho[t]}return delete Ho[t],null}function ee(t,e){if(null!=e){var i,n,o=Bo;n=Qt(t),null!=n&&(o=n._config),e=C(o,e),i=new T(e),i.parentLocale=Ho[t],Ho[t]=i,Jt(t)}else null!=Ho[t]&&(null!=Ho[t].parentLocale?Ho[t]=Ho[t].parentLocale:null!=Ho[t]&&delete Ho[t]);return Ho[t]}function ie(t){var i;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return No;if(!e(t)){if(i=Qt(t))return i;t=[t]}return Kt(t)}function ne(){return Nn(Ho)}function oe(t){var e,i=t._a;return i&&-2===d(t).overflow&&(e=i[fo]<0||i[fo]>11?fo:i[po]<1||i[po]>st(i[uo],i[fo])?po:i[go]<0||i[go]>24||24===i[go]&&(0!==i[mo]||0!==i[vo]||0!==i[yo])?go:i[mo]<0||i[mo]>59?mo:i[vo]<0||i[vo]>59?vo:i[yo]<0||i[yo]>999?yo:-1,d(t)._overflowDayOfYear&&(e<uo||e>po)&&(e=po),d(t)._overflowWeeks&&-1===e&&(e=_o),d(t)._overflowWeekday&&-1===e&&(e=xo),d(t).overflow=e),t}function re(t,e,i){return null!=t?t:null!=e?e:i}function ae(e){var i=new Date(t.now());return e._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function se(t){var e,i,n,o,r,a=[];if(!t._d){for(n=ae(t),t._w&&null==t._a[po]&&null==t._a[fo]&&le(t),null!=t._dayOfYear&&(r=re(t._a[uo],n[uo]),(t._dayOfYear>Q(r)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),i=_t(r,0,t._dayOfYear),t._a[fo]=i.getUTCMonth(),t._a[po]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=n[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[go]&&0===t._a[mo]&&0===t._a[vo]&&0===t._a[yo]&&(t._nextDay=!0,t._a[go]=0),t._d=(t._useUTC?_t:yt).apply(null,a),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[go]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(d(t).weekdayMismatch=!0)}}function le(t){var e,i,n,o,r,a,s,l;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)r=1,a=4,i=re(e.GG,t._a[uo],bt(Me(),1,4).year),n=re(e.W,1),((o=re(e.E,1))<1||o>7)&&(l=!0);else{r=t._locale._week.dow,a=t._locale._week.doy;var h=bt(Me(),r,a);i=re(e.gg,t._a[uo],h.year),n=re(e.w,h.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+r,(e.e<0||e.e>6)&&(l=!0)):o=r}n<1||n>St(i,r,a)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(s=wt(i,n,o,r,a),t._a[uo]=s.year,t._dayOfYear=s.dayOfYear)}function he(t){var e,i,n,o,r,a,s=t._i,l=Wo.exec(s)||Fo.exec(s);if(l){for(d(t).iso=!0,e=0,i=Go.length;e<i;e++)if(Go[e][1].exec(l[1])){o=Go[e][0],n=!1!==Go[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,i=jo.length;e<i;e++)if(jo[e][1].exec(l[3])){r=(l[2]||" ")+jo[e][0];break}if(null==r)return void(t._isValid=!1)}if(!n&&null!=r)return void(t._isValid=!1);if(l[4]){if(!$o.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=o+(r||"")+(a||""),ve(t)}else t._isValid=!1}function ce(t,e,i,n,o,r){var a=[ue(t),Mo.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(o,10)];return r&&a.push(parseInt(r,10)),a}function ue(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function de(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function fe(t,e,i){if(t){if(ko.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return d(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function pe(t,e,i){if(t)return qo[t];if(e)return 0;var n=parseInt(i,10),o=n%100;return(n-o)/100*60+o}function ge(t){var e=Uo.exec(de(t._i));if(e){var i=ce(e[4],e[3],e[2],e[5],e[6],e[7]);if(!fe(e[1],i,t))return;t._a=i,t._tzm=pe(e[8],e[9],e[10]),t._d=_t.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function me(e){var i=Yo.exec(e._i);if(null!==i)return void(e._d=new Date(+i[1]));he(e),!1===e._isValid&&(delete e._isValid,ge(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e)))}function ve(e){if(e._f===t.ISO_8601)return void he(e);if(e._f===t.RFC_2822)return void ge(e);e._a=[],d(e).empty=!0;var i,n,o,r,a,s=""+e._i,l=s.length,h=0;for(o=G(e._f,e._locale).match(Fn)||[],i=0;i<o.length;i++)r=o[i],n=(s.match(Y(r,e))||[])[0],n&&(a=s.substr(0,s.indexOf(n)),a.length>0&&d(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),h+=n.length),jn[r]?(n?d(e).empty=!1:d(e).unusedTokens.push(r),K(r,n,e)):e._strict&&!n&&d(e).unusedTokens.push(r);d(e).charsLeftOver=l-h,s.length>0&&d(e).unusedInput.push(s),e._a[go]<=12&&!0===d(e).bigHour&&e._a[go]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[go]=ye(e._locale,e._a[go],e._meridiem),se(e),oe(e)}function ye(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function _e(t){var e,i,n,o,r;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)r=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],ve(e),f(e)&&(r+=d(e).charsLeftOver,r+=10*d(e).unusedTokens.length,d(e).score=r,(null==n||r<n)&&(n=r,i=e));h(t,i||e)}function xe(t){if(!t._d){var e=R(t._i);t._a=s([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),se(t)}}function we(t){var e=new m(oe(be(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function be(t){var i=t._i,n=t._f;return t._locale=t._locale||ie(t._l),null===i||void 0===n&&""===i?p({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),v(i)?new m(oe(i)):(a(i)?t._d=i:e(n)?_e(t):n?ve(t):Se(t),f(t)||(t._d=null),t))}function Se(n){var l=n._i;o(l)?n._d=new Date(t.now()):a(l)?n._d=new Date(l.valueOf()):"string"==typeof l?me(n):e(l)?(n._a=s(l.slice(0),function(t){return parseInt(t,10)}),se(n)):i(l)?xe(n):r(l)?n._d=new Date(l):t.createFromInputFallback(n)}function De(t,o,r,a,s){var l={};return!0!==r&&!1!==r||(a=r,r=void 0),(i(t)&&n(t)||e(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=r,l._i=t,l._f=o,l._strict=a,we(l)}function Me(t,e,i,n){return De(t,e,i,n,!1)}function Ce(t,i){var n,o;if(1===i.length&&e(i[0])&&(i=i[0]),!i.length)return Me();for(n=i[0],o=1;o<i.length;++o)i[o].isValid()&&!i[o][t](n)||(n=i[o]);return n}function Te(){return Ce("isBefore",[].slice.call(arguments,0))}function Ie(){return Ce("isAfter",[].slice.call(arguments,0))}function Ae(t){for(var e in t)if(-1===wo.call(Qo,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Qo.length;++n)if(t[Qo[n]]){if(i)return!1;parseFloat(t[Qo[n]])!==_(t[Qo[n]])&&(i=!0)}return!0}function ke(){return this._isValid}function Ee(){return Xe(NaN)}function Le(t){var e=R(t),i=e.year||0,n=e.quarter||0,o=e.month||0,r=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._isValid=Ae(e),this._milliseconds=+c+1e3*h+6e4*l+1e3*s*60*60,this._days=+a+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=ie(),this._bubble()}function Oe(t){return t instanceof Le}function Pe(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ne(t,e){V(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+H(~~(t/60),2)+e+H(~~t%60,2)})}function Re(t,e){var i=(e||"").match(t);if(null===i)return null;var n=i[i.length-1]||[],o=(n+"").match(Jo)||["-",0,0],r=60*o[1]+_(o[2]);return 0===r?0:"+"===o[0]?r:-r}function ze(e,i){var n,o;return i._isUTC?(n=i.clone(),o=(v(e)||a(e)?e.valueOf():Me(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),t.updateOffset(n,!1),n):Me(e).local()}function Be(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function He(e,i,n){var o,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Re(ao,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&i&&(o=Be(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==e&&(!i||this._changeInProgress?ei(this,Xe(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Be(this)}function Ve(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function We(t){return this.utcOffset(0,t)}function Fe(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Be(this),"m")),this}function $e(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Re(ro,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Ge(t){return!!this.isValid()&&(t=t?Me(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function je(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ye(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=be(t),t._a){var e=t._isUTC?c(t._a):Me(t._a);this._isDSTShifted=this.isValid()&&x(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ue(){return!!this.isValid()&&!this._isUTC}function qe(){return!!this.isValid()&&this._isUTC}function Ze(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Xe(t,e){var i,n,o,a=t,s=null;return Oe(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:r(t)?(a={},e?a[e]=t:a.milliseconds=t):(s=tr.exec(t))?(i="-"===s[1]?-1:1,a={y:0,d:_(s[po])*i,h:_(s[go])*i,m:_(s[mo])*i,s:_(s[vo])*i,ms:_(Pe(1e3*s[yo]))*i}):(s=er.exec(t))?(i="-"===s[1]?-1:1,a={y:Ke(s[2],i),M:Ke(s[3],i),w:Ke(s[4],i),d:Ke(s[5],i),h:Ke(s[6],i),m:Ke(s[7],i),s:Ke(s[8],i)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=Je(Me(a.from),Me(a.to)),a={},a.ms=o.milliseconds,a.M=o.months),n=new Le(a),Oe(t)&&l(t,"_locale")&&(n._locale=t._locale),n}function Ke(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Qe(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Je(t,e){var i;return t.isValid()&&e.isValid()?(e=ze(e,t),t.isBefore(e)?i=Qe(t,e):(i=Qe(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ti(t,e){return function(i,n){var o,r;return null===n||isNaN(+n)||(S(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),i="string"==typeof i?+i:i,o=Xe(i,n),ei(this,o,t),this}}function ei(e,i,n,o){var r=i._milliseconds,a=Pe(i._days),s=Pe(i._months);e.isValid()&&(o=null==o||o,s&&dt(e,it(e,"Month")+s*n),a&&nt(e,"Date",it(e,"Date")+a*n),r&&e._d.setTime(e._d.valueOf()+r*n),o&&t.updateOffset(e,a||s))}function ii(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function ni(e,i){var n=e||Me(),o=ze(n,this).startOf("day"),r=t.calendarFormat(this,o)||"sameElse",a=i&&(D(i[r])?i[r].call(this,n):i[r]);return this.format(a||this.localeData().calendar(r,this,Me(n)))}function oi(){return new m(this)}function ri(t,e){var i=v(t)?t:Me(t);return!(!this.isValid()||!i.isValid())&&(e=N(e)||"millisecond","millisecond"===e?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())}function ai(t,e){var i=v(t)?t:Me(t);return!(!this.isValid()||!i.isValid())&&(e=N(e)||"millisecond","millisecond"===e?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())}function si(t,e,i,n){var o=v(t)?t:Me(t),r=v(e)?e:Me(e);return!!(this.isValid()&&o.isValid()&&r.isValid())&&(n=n||"()",("("===n[0]?this.isAfter(o,i):!this.isBefore(o,i))&&(")"===n[1]?this.isBefore(r,i):!this.isAfter(r,i)))}function li(t,e){var i,n=v(t)?t:Me(t);return!(!this.isValid()||!n.isValid())&&(e=N(e)||"millisecond","millisecond"===e?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))}function hi(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ci(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function ui(t,e,i){var n,o,r;if(!this.isValid())return NaN;if(n=ze(t,this),!n.isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),e=N(e)){case"year":r=di(this,n)/12;break;case"month":r=di(this,n);break;case"quarter":r=di(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-o)/864e5;break;case"week":r=(this-n-o)/6048e5;break;default:r=this-n}return i?r:y(r)}function di(t,e){var i,n,o=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(o,"months");return e-r<0?(i=t.clone().add(o-1,"months"),n=(e-r)/(r-i)):(i=t.clone().add(o+1,"months"),n=(e-r)/(i-r)),-(o+n)||0}function fi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function pi(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?$(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",$(i,"Z")):$(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gi(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=e+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+o)}function mi(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var i=$(this,e);return this.localeData().postformat(i)}function vi(t,e){return this.isValid()&&(v(t)&&t.isValid()||Me(t).isValid())?Xe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function yi(t){return this.from(Me(),t)}function _i(t,e){return this.isValid()&&(v(t)&&t.isValid()||Me(t).isValid())?Xe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function xi(t){return this.to(Me(),t)}function wi(t){var e;return void 0===t?this._locale._abbr:(e=ie(t),null!=e&&(this._locale=e),this)}function bi(){return this._locale}function Si(t,e){return(t%e+e)%e}function Di(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-lr:new Date(t,e,i).valueOf()}function Mi(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-lr:Date.UTC(t,e,i)}function Ci(e){var i;if(void 0===(e=N(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Mi:Di;switch(e){case"year":i=n(this.year(),0,1);break;case"quarter":i=n(this.year(),this.month()-this.month()%3,1);break;case"month":i=n(this.year(),this.month(),1);break;case"week":i=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":i=n(this.year(),this.month(),this.date());break;case"hour":i=this._d.valueOf(),i-=Si(i+(this._isUTC?0:this.utcOffset()*ar),sr);break;case"minute":i=this._d.valueOf(),i-=Si(i,ar);break;case"second":i=this._d.valueOf(),i-=Si(i,rr)}return this._d.setTime(i),t.updateOffset(this,!0),this}function Ti(e){var i;if(void 0===(e=N(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Mi:Di;switch(e){case"year":i=n(this.year()+1,0,1)-1;break;case"quarter":i=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":i=n(this.year(),this.month()+1,1)-1;break;case"week":i=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":i=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":i=this._d.valueOf(),i+=sr-Si(i+(this._isUTC?0:this.utcOffset()*ar),sr)-1;break;case"minute":i=this._d.valueOf(),i+=ar-Si(i,ar)-1;break;case"second":i=this._d.valueOf(),i+=rr-Si(i,rr)-1}return this._d.setTime(i),t.updateOffset(this,!0),this}function Ii(){return this._d.valueOf()-6e4*(this._offset||0)}function Ai(){return Math.floor(this.valueOf()/1e3)}function ki(){return new Date(this.valueOf())}function Ei(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Li(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Oi(){return this.isValid()?this.toISOString():null}function Pi(){return f(this)}function Ni(){return h({},d(this))}function Ri(){return d(this).overflow}function zi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Bi(t,e){V(0,[t,t.length],0,e)}function Hi(t){return $i.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Vi(t){return $i.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Wi(){return St(this.year(),1,4)}function Fi(){var t=this.localeData()._week;return St(this.year(),t.dow,t.doy)}function $i(t,e,i,n,o){var r;return null==t?bt(this,n,o).year:(r=St(t,n,o),e>r&&(e=r),Gi.call(this,t,e,i,n,o))}function Gi(t,e,i,n,o){var r=wt(t,e,i,n,o),a=_t(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function ji(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Yi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function Ui(t,e){e[yo]=_(1e3*("0."+t))}function qi(){return this._isUTC?"UTC":""}function Zi(){return this._isUTC?"Coordinated Universal Time":""}function Xi(t){return Me(1e3*t)}function Ki(){return Me.apply(null,arguments).parseZone()}function Qi(t){return t}function Ji(t,e,i,n){var o=ie(),r=c().set(n,e);return o[i](r,t)}function tn(t,e,i){if(r(t)&&(e=t,t=void 0),t=t||"",null!=e)return Ji(t,e,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=Ji(t,n,i,"month");return o}function en(t,e,i,n){"boolean"==typeof t?(r(e)&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,r(e)&&(i=e,e=void 0),e=e||"");var o=ie(),a=t?o._week.dow:0;if(null!=i)return Ji(e,(i+a)%7,n,"day");var s,l=[];for(s=0;s<7;s++)l[s]=Ji(e,(s+a)%7,n,"day");return l}function nn(t,e){return tn(t,e,"months")}function on(t,e){return tn(t,e,"monthsShort")}function rn(t,e,i){return en(t,e,i,"weekdays")}function an(t,e,i){return en(t,e,i,"weekdaysShort")}function sn(t,e,i){return en(t,e,i,"weekdaysMin")}function ln(){var t=this._data;return this._milliseconds=mr(this._milliseconds),this._days=mr(this._days),this._months=mr(this._months),t.milliseconds=mr(t.milliseconds),t.seconds=mr(t.seconds),t.minutes=mr(t.minutes),t.hours=mr(t.hours),t.months=mr(t.months),t.years=mr(t.years),this}function hn(t,e,i,n){var o=Xe(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function cn(t,e){return hn(this,t,e,1)}function un(t,e){return hn(this,t,e,-1)}function dn(t){return t<0?Math.floor(t):Math.ceil(t)}function fn(){var t,e,i,n,o,r=this._milliseconds,a=this._days,s=this._months,l=this._data;return r>=0&&a>=0&&s>=0||r<=0&&a<=0&&s<=0||(r+=864e5*dn(gn(s)+a),a=0,s=0),l.milliseconds=r%1e3,t=y(r/1e3),l.seconds=t%60,e=y(t/60),l.minutes=e%60,i=y(e/60),l.hours=i%24,a+=y(i/24),o=y(pn(a)),s+=o,a-=dn(gn(o)),n=y(s/12),s%=12,l.days=a,l.months=s,l.years=n,this}function pn(t){return 4800*t/146097}function gn(t){return 146097*t/4800}function mn(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=N(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+pn(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(gn(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function vn(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN}function yn(t){return function(){return this.as(t)}}function _n(){return Xe(this)}function xn(t){return t=N(t),this.isValid()?this[t+"s"]():NaN}function wn(t){return function(){return this.isValid()?this._data[t]:NaN}}function bn(){return y(this.days()/7)}function Sn(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function Dn(t,e,i){var n=Xe(t).abs(),o=Or(n.as("s")),r=Or(n.as("m")),a=Or(n.as("h")),s=Or(n.as("d")),l=Or(n.as("M")),h=Or(n.as("y")),c=o<=Pr.ss&&["s",o]||o<Pr.s&&["ss",o]||r<=1&&["m"]||r<Pr.m&&["mm",r]||a<=1&&["h"]||a<Pr.h&&["hh",a]||s<=1&&["d"]||s<Pr.d&&["dd",s]||l<=1&&["M"]||l<Pr.M&&["MM",l]||h<=1&&["y"]||["yy",h];return c[2]=e,c[3]=+t>0,c[4]=i,Sn.apply(null,c)}function Mn(t){return void 0===t?Or:"function"==typeof t&&(Or=t,!0)}function Cn(t,e){return void 0!==Pr[t]&&(void 0===e?Pr[t]:(Pr[t]=e,"s"===t&&(Pr.ss=e-1),!0))}function Tn(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=Dn(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function In(t){return(t>0)-(t<0)||+t}function An(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i,n=Nr(this._milliseconds)/1e3,o=Nr(this._days),r=Nr(this._months);t=y(n/60),e=y(t/60),n%=60,t%=60,i=y(r/12),r%=12;var a=i,s=r,l=o,h=e,c=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",p=In(this._months)!==In(d)?"-":"",g=In(this._days)!==In(d)?"-":"",m=In(this._milliseconds)!==In(d)?"-":"";return f+"P"+(a?p+a+"Y":"")+(s?p+s+"M":"")+(l?g+l+"D":"")+(h||c||u?"T":"")+(h?m+h+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var kn,En;En=Array.prototype.some?Array.prototype.some:function(t){
for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var Ln=t.momentProperties=[],On=!1,Pn={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var Nn;Nn=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)l(t,e)&&i.push(e);return i};var Rn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},zn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Bn=/\d{1,2}/,Hn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Vn={},Wn={},Fn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,$n=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Gn={},jn={},Yn=/\d/,Un=/\d\d/,qn=/\d{3}/,Zn=/\d{4}/,Xn=/[+-]?\d{6}/,Kn=/\d\d?/,Qn=/\d\d\d\d?/,Jn=/\d\d\d\d\d\d?/,to=/\d{1,3}/,eo=/\d{1,4}/,io=/[+-]?\d{1,6}/,no=/\d+/,oo=/[+-]?\d+/,ro=/Z|[+-]\d\d:?\d\d/gi,ao=/Z|[+-]\d\d(?::?\d\d)?/gi,so=/[+-]?\d+(\.\d{1,3})?/,lo=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ho={},co={},uo=0,fo=1,po=2,go=3,mo=4,vo=5,yo=6,_o=7,xo=8;V("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),P("year","y"),z("year",1),j("Y",oo),j("YY",Kn,Un),j("YYYY",eo,Zn),j("YYYYY",io,Xn),j("YYYYYY",io,Xn),Z(["YYYYY","YYYYYY"],uo),Z("YYYY",function(e,i){i[uo]=2===e.length?t.parseTwoDigitYear(e):_(e)}),Z("YY",function(e,i){i[uo]=t.parseTwoDigitYear(e)}),Z("Y",function(t,e){e[uo]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var wo,bo=et("FullYear",!0);wo=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),V("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),z("month",8),j("M",Kn),j("MM",Kn,Un),j("MMM",function(t,e){return e.monthsShortRegex(t)}),j("MMMM",function(t,e){return e.monthsRegex(t)}),Z(["M","MM"],function(t,e){e[fo]=_(t)-1}),Z(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[fo]=o:d(i).invalidMonth=t});var So=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Do="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Mo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Co=lo,To=lo;V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),z("week",5),z("isoWeek",5),j("w",Kn),j("ww",Kn,Un),j("W",Kn),j("WW",Kn,Un),X(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=_(t)});var Io={dow:0,doy:6};V("d",0,"do","day"),V("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),V("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),V("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),j("d",Kn),j("e",Kn),j("E",Kn),j("dd",function(t,e){return e.weekdaysMinRegex(t)}),j("ddd",function(t,e){return e.weekdaysShortRegex(t)}),j("dddd",function(t,e){return e.weekdaysRegex(t)}),X(["dd","ddd","dddd"],function(t,e,i,n){var o=i._locale.weekdaysParse(t,n,i._strict);null!=o?e.d=o:d(i).invalidWeekday=t}),X(["d","e","E"],function(t,e,i,n){e[n]=_(t)});var Ao="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ko="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Eo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lo=lo,Oo=lo,Po=lo;V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Gt),V("k",["kk",2],0,jt),V("hmm",0,0,function(){return""+Gt.apply(this)+H(this.minutes(),2)}),V("hmmss",0,0,function(){return""+Gt.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),Yt("a",!0),Yt("A",!1),P("hour","h"),z("hour",13),j("a",Ut),j("A",Ut),j("H",Kn),j("h",Kn),j("k",Kn),j("HH",Kn,Un),j("hh",Kn,Un),j("kk",Kn,Un),j("hmm",Qn),j("hmmss",Jn),j("Hmm",Qn),j("Hmmss",Jn),Z(["H","HH"],go),Z(["k","kk"],function(t,e,i){var n=_(t);e[go]=24===n?0:n}),Z(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),Z(["h","hh"],function(t,e,i){e[go]=_(t),d(i).bigHour=!0}),Z("hmm",function(t,e,i){var n=t.length-2;e[go]=_(t.substr(0,n)),e[mo]=_(t.substr(n)),d(i).bigHour=!0}),Z("hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[go]=_(t.substr(0,n)),e[mo]=_(t.substr(n,2)),e[vo]=_(t.substr(o)),d(i).bigHour=!0}),Z("Hmm",function(t,e,i){var n=t.length-2;e[go]=_(t.substr(0,n)),e[mo]=_(t.substr(n))}),Z("Hmmss",function(t,e,i){var n=t.length-4,o=t.length-2;e[go]=_(t.substr(0,n)),e[mo]=_(t.substr(n,2)),e[vo]=_(t.substr(o))});var No,Ro=/[ap]\.?m?\.?/i,zo=et("Hours",!0),Bo={calendar:Rn,longDateFormat:zn,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Bn,relativeTime:Hn,months:Do,monthsShort:Mo,week:Io,weekdays:Ao,weekdaysMin:Eo,weekdaysShort:ko,meridiemParse:Ro},Ho={},Vo={},Wo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,$o=/Z|[+-]\d\d(?::?\d\d)?/,Go=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],jo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Yo=/^\/?Date\((\-?\d+)/i,Uo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,qo={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};t.createFromInputFallback=b("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var Zo=b("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()}),Xo=b("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Me.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()}),Ko=function(){return Date.now?Date.now():+new Date},Qo=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ne("Z",":"),Ne("ZZ",""),j("Z",ao),j("ZZ",ao),Z(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Re(ao,t)});var Jo=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var tr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,er=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Xe.fn=Le.prototype,Xe.invalid=Ee;var ir=ti(1,"add"),nr=ti(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var or=b("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)}),rr=1e3,ar=60*rr,sr=60*ar,lr=3506328*sr;V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Bi("gggg","weekYear"),Bi("ggggg","weekYear"),Bi("GGGG","isoWeekYear"),Bi("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),j("G",oo),j("g",oo),j("GG",Kn,Un),j("gg",Kn,Un),j("GGGG",eo,Zn),j("gggg",eo,Zn),j("GGGGG",io,Xn),j("ggggg",io,Xn),X(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=_(t)}),X(["gg","GG"],function(e,i,n,o){i[o]=t.parseTwoDigitYear(e)}),V("Q",0,"Qo","quarter"),P("quarter","Q"),z("quarter",7),j("Q",Yn),Z("Q",function(t,e){e[fo]=3*(_(t)-1)}),V("D",["DD",2],"Do","date"),P("date","D"),z("date",9),j("D",Kn),j("DD",Kn,Un),j("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),Z(["D","DD"],po),Z("Do",function(t,e){e[po]=_(t.match(Kn)[0])});var hr=et("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),z("dayOfYear",4),j("DDD",to),j("DDDD",qn),Z(["DDD","DDDD"],function(t,e,i){i._dayOfYear=_(t)}),V("m",["mm",2],0,"minute"),P("minute","m"),z("minute",14),j("m",Kn),j("mm",Kn,Un),Z(["m","mm"],mo);var cr=et("Minutes",!1);V("s",["ss",2],0,"second"),P("second","s"),z("second",15),j("s",Kn),j("ss",Kn,Un),Z(["s","ss"],vo);var ur=et("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),z("millisecond",16),j("S",to,Yn),j("SS",to,Un),j("SSS",to,qn);var dr;for(dr="SSSS";dr.length<=9;dr+="S")j(dr,no);for(dr="S";dr.length<=9;dr+="S")Z(dr,Ui);var fr=et("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var pr=m.prototype;pr.add=ir,pr.calendar=ni,pr.clone=oi,pr.diff=ui,pr.endOf=Ti,pr.format=mi,pr.from=vi,pr.fromNow=yi,pr.to=_i,pr.toNow=xi,pr.get=ot,pr.invalidAt=Ri,pr.isAfter=ri,pr.isBefore=ai,pr.isBetween=si,pr.isSame=li,pr.isSameOrAfter=hi,pr.isSameOrBefore=ci,pr.isValid=Pi,pr.lang=or,pr.locale=wi,pr.localeData=bi,pr.max=Xo,pr.min=Zo,pr.parsingFlags=Ni,pr.set=rt,pr.startOf=Ci,pr.subtract=nr,pr.toArray=Ei,pr.toObject=Li,pr.toDate=ki,pr.toISOString=pi,pr.inspect=gi,pr.toJSON=Oi,pr.toString=fi,pr.unix=Ai,pr.valueOf=Ii,pr.creationData=zi,pr.year=bo,pr.isLeapYear=tt,pr.weekYear=Hi,pr.isoWeekYear=Vi,pr.quarter=pr.quarters=ji,pr.month=ft,pr.daysInMonth=pt,pr.week=pr.weeks=Tt,pr.isoWeek=pr.isoWeeks=It,pr.weeksInYear=Fi,pr.isoWeeksInYear=Wi,pr.date=hr,pr.day=pr.days=zt,pr.weekday=Bt,pr.isoWeekday=Ht,pr.dayOfYear=Yi,pr.hour=pr.hours=zo,pr.minute=pr.minutes=cr,pr.second=pr.seconds=ur,pr.millisecond=pr.milliseconds=fr,pr.utcOffset=He,pr.utc=We,pr.local=Fe,pr.parseZone=$e,pr.hasAlignedHourOffset=Ge,pr.isDST=je,pr.isLocal=Ue,pr.isUtcOffset=qe,pr.isUtc=Ze,pr.isUTC=Ze,pr.zoneAbbr=qi,pr.zoneName=Zi,pr.dates=b("dates accessor is deprecated. Use date instead.",hr),pr.months=b("months accessor is deprecated. Use month instead",ft),pr.years=b("years accessor is deprecated. Use year instead",bo),pr.zone=b("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ve),pr.isDSTShifted=b("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ye);var gr=T.prototype;gr.calendar=I,gr.longDateFormat=A,gr.invalidDate=k,gr.ordinal=E,gr.preparse=Qi,gr.postformat=Qi,gr.relativeTime=L,gr.pastFuture=O,gr.set=M,gr.months=lt,gr.monthsShort=ht,gr.monthsParse=ut,gr.monthsRegex=mt,gr.monthsShortRegex=gt,gr.week=Dt,gr.firstDayOfYear=Ct,gr.firstDayOfWeek=Mt,gr.weekdays=Lt,gr.weekdaysMin=Pt,gr.weekdaysShort=Ot,gr.weekdaysParse=Rt,gr.weekdaysRegex=Vt,gr.weekdaysShortRegex=Wt,gr.weekdaysMinRegex=Ft,gr.isPM=qt,gr.meridiem=Zt,Jt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),t.lang=b("moment.lang is deprecated. Use moment.locale instead.",Jt),t.langData=b("moment.langData is deprecated. Use moment.localeData instead.",ie);var mr=Math.abs,vr=yn("ms"),yr=yn("s"),_r=yn("m"),xr=yn("h"),wr=yn("d"),br=yn("w"),Sr=yn("M"),Dr=yn("Q"),Mr=yn("y"),Cr=wn("milliseconds"),Tr=wn("seconds"),Ir=wn("minutes"),Ar=wn("hours"),kr=wn("days"),Er=wn("months"),Lr=wn("years"),Or=Math.round,Pr={ss:44,s:45,m:45,h:22,d:26,M:11},Nr=Math.abs,Rr=Le.prototype;return Rr.isValid=ke,Rr.abs=ln,Rr.add=cn,Rr.subtract=un,Rr.as=mn,Rr.asMilliseconds=vr,Rr.asSeconds=yr,Rr.asMinutes=_r,Rr.asHours=xr,Rr.asDays=wr,Rr.asWeeks=br,Rr.asMonths=Sr,Rr.asQuarters=Dr,Rr.asYears=Mr,Rr.valueOf=vn,Rr._bubble=fn,Rr.clone=_n,Rr.get=xn,Rr.milliseconds=Cr,Rr.seconds=Tr,Rr.minutes=Ir,Rr.hours=Ar,Rr.days=kr,Rr.weeks=bn,Rr.months=Er,Rr.years=Lr,Rr.humanize=Tn,Rr.toISOString=An,Rr.toString=An,Rr.toJSON=An,Rr.locale=wi,Rr.localeData=bi,Rr.toIsoString=b("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",An),Rr.lang=or,V("X",0,0,"unix"),V("x",0,0,"valueOf"),j("x",oo),j("X",so),Z("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),Z("x",function(t,e,i){i._d=new Date(_(t))}),t.version="2.24.0",function(t){kn=t}(Me),t.fn=pr,t.min=Te,t.max=Ie,t.now=Ko,t.utc=c,t.unix=Xi,t.months=nn,t.isDate=a,t.locale=Jt,t.invalid=p,t.duration=Xe,t.isMoment=v,t.weekdays=rn,t.parseZone=Ki,t.localeData=ie,t.isDuration=Oe,t.monthsShort=on,t.weekdaysMin=sn,t.defineLocale=te,t.updateLocale=ee,t.locales=ne,t.weekdaysShort=an,t.normalizeUnits=N,t.relativeTimeRounding=Mn,t.relativeTimeThreshold=Cn,t.calendarFormat=ii,t.prototype=pr,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t}),function(t,e){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(t,i){return i.fn||(i.fn={}),e(t,i)});else if("object"==typeof module&&module.exports){var i="undefined"!=typeof window?window.jQuery:void 0;i||(i=require("jquery"),i.fn||(i.fn={}));var n="undefined"!=typeof window&&void 0!==window.moment?window.moment:require("moment");module.exports=e(n,i)}else t.daterangepicker=e(t.moment,t.jQuery)}(this,function(t,e){var i=function(i,n,o){if(this.parentEl="body",this.element=e(i),this.startDate=t().startOf("day"),this.endDate=t().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=t().subtract(100,"year").format("YYYY"),this.maxYear=t().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:t.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:t.weekdaysMin(),monthNames:t.monthsShort(),firstDay:t.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof n&&null!==n||(n={}),n=e.extend(this.element.data(),n),"string"==typeof n.template||n.template instanceof e||(n.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=e(n.parentEl&&e(n.parentEl).length?n.parentEl:this.parentEl),this.container=e(n.template).appendTo(this.parentEl),"object"==typeof n.locale&&("string"==typeof n.locale.direction&&(this.locale.direction=n.locale.direction),"string"==typeof n.locale.format&&(this.locale.format=n.locale.format),"string"==typeof n.locale.separator&&(this.locale.separator=n.locale.separator),"object"==typeof n.locale.daysOfWeek&&(this.locale.daysOfWeek=n.locale.daysOfWeek.slice()),"object"==typeof n.locale.monthNames&&(this.locale.monthNames=n.locale.monthNames.slice()),"number"==typeof n.locale.firstDay&&(this.locale.firstDay=n.locale.firstDay),"string"==typeof n.locale.applyLabel&&(this.locale.applyLabel=n.locale.applyLabel),"string"==typeof n.locale.cancelLabel&&(this.locale.cancelLabel=n.locale.cancelLabel),"string"==typeof n.locale.weekLabel&&(this.locale.weekLabel=n.locale.weekLabel),"string"==typeof n.locale.customRangeLabel)){var r=document.createElement("textarea");r.innerHTML=n.locale.customRangeLabel;var a=r.value;this.locale.customRangeLabel=a}if(this.container.addClass(this.locale.direction),"string"==typeof n.startDate&&(this.startDate=t(n.startDate,this.locale.format)),"string"==typeof n.endDate&&(this.endDate=t(n.endDate,this.locale.format)),"string"==typeof n.minDate&&(this.minDate=t(n.minDate,this.locale.format)),"string"==typeof n.maxDate&&(this.maxDate=t(n.maxDate,this.locale.format)),"object"==typeof n.startDate&&(this.startDate=t(n.startDate)),"object"==typeof n.endDate&&(this.endDate=t(n.endDate)),"object"==typeof n.minDate&&(this.minDate=t(n.minDate)),"object"==typeof n.maxDate&&(this.maxDate=t(n.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof n.applyButtonClasses&&(this.applyButtonClasses=n.applyButtonClasses),"string"==typeof n.applyClass&&(this.applyButtonClasses=n.applyClass),"string"==typeof n.cancelButtonClasses&&(this.cancelButtonClasses=n.cancelButtonClasses),"string"==typeof n.cancelClass&&(this.cancelButtonClasses=n.cancelClass),"object"==typeof n.maxSpan&&(this.maxSpan=n.maxSpan),"object"==typeof n.dateLimit&&(this.maxSpan=n.dateLimit),"string"==typeof n.opens&&(this.opens=n.opens),"string"==typeof n.drops&&(this.drops=n.drops),"boolean"==typeof n.showWeekNumbers&&(this.showWeekNumbers=n.showWeekNumbers),"boolean"==typeof n.showISOWeekNumbers&&(this.showISOWeekNumbers=n.showISOWeekNumbers),"string"==typeof n.buttonClasses&&(this.buttonClasses=n.buttonClasses),"object"==typeof n.buttonClasses&&(this.buttonClasses=n.buttonClasses.join(" ")),"boolean"==typeof n.showDropdowns&&(this.showDropdowns=n.showDropdowns),"number"==typeof n.minYear&&(this.minYear=n.minYear),"number"==typeof n.maxYear&&(this.maxYear=n.maxYear),"boolean"==typeof n.showCustomRangeLabel&&(this.showCustomRangeLabel=n.showCustomRangeLabel),"boolean"==typeof n.singleDatePicker&&(this.singleDatePicker=n.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof n.timePicker&&(this.timePicker=n.timePicker),"boolean"==typeof n.timePickerSeconds&&(this.timePickerSeconds=n.timePickerSeconds),"number"==typeof n.timePickerIncrement&&(this.timePickerIncrement=n.timePickerIncrement),"boolean"==typeof n.timePicker24Hour&&(this.timePicker24Hour=n.timePicker24Hour),"boolean"==typeof n.autoApply&&(this.autoApply=n.autoApply),"boolean"==typeof n.autoUpdateInput&&(this.autoUpdateInput=n.autoUpdateInput),"boolean"==typeof n.linkedCalendars&&(this.linkedCalendars=n.linkedCalendars),"function"==typeof n.isInvalidDate&&(this.isInvalidDate=n.isInvalidDate),"function"==typeof n.isCustomDate&&(this.isCustomDate=n.isCustomDate),"boolean"==typeof n.alwaysShowCalendars&&(this.alwaysShowCalendars=n.alwaysShowCalendars),0!=this.locale.firstDay)for(var s=this.locale.firstDay;s>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),s--;var l,h,c;if(void 0===n.startDate&&void 0===n.endDate&&e(this.element).is(":text")){var u=e(this.element).val(),d=u.split(this.locale.separator);l=h=null,2==d.length?(l=t(d[0],this.locale.format),h=t(d[1],this.locale.format)):this.singleDatePicker&&""!==u&&(l=t(u,this.locale.format),h=t(u,this.locale.format)),null!==l&&null!==h&&(this.setStartDate(l),this.setEndDate(h))}if("object"==typeof n.ranges){for(c in n.ranges){l="string"==typeof n.ranges[c][0]?t(n.ranges[c][0],this.locale.format):t(n.ranges[c][0]),h="string"==typeof n.ranges[c][1]?t(n.ranges[c][1],this.locale.format):t(n.ranges[c][1]),this.minDate&&l.isBefore(this.minDate)&&(l=this.minDate.clone());var f=this.maxDate;if(this.maxSpan&&f&&l.clone().add(this.maxSpan).isAfter(f)&&(f=l.clone().add(this.maxSpan)),f&&h.isAfter(f)&&(h=f.clone()),!(this.minDate&&h.isBefore(this.minDate,this.timepicker?"minute":"day")||f&&l.isAfter(f,this.timepicker?"minute":"day"))){var r=document.createElement("textarea");r.innerHTML=c;var a=r.value;this.ranges[a]=[l,h]}}var p="<ul>";for(c in this.ranges)p+='<li data-range-key="'+c+'">'+c+"</li>";this.showCustomRangeLabel&&(p+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),p+="</ul>",this.container.find(".ranges").prepend(p)}"function"==typeof o&&(this.callback=o),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof n.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),this.timePicker||this.container.addClass("auto-apply")),(void 0===n.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",e.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",e.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",e.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",e.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",e.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",e.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",e.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",e.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",e.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":e.proxy(this.show,this),"focus.daterangepicker":e.proxy(this.show,this),"keyup.daterangepicker":e.proxy(this.elementChanged,this),"keydown.daterangepicker":e.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",e.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",e.proxy(this.toggle,this))),this.updateElement()};return i.prototype={constructor:i,setStartDate:function(e){"string"==typeof e&&(this.startDate=t(e,this.locale.format)),"object"==typeof e&&(this.startDate=t(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=t(e,this.locale.format)),"object"==typeof e&&(this.endDate=t(e)),this.timePicker||(this.endDate=this.endDate.add(1,"d").startOf("day").subtract(1,"second")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var t,e,i;if(this.endDate){if(t=parseInt(this.container.find(".left .hourselect").val(),10),e=parseInt(this.container.find(".left .minuteselect").val(),10),i=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var n=this.container.find(".left .ampmselect").val();"PM"===n&&t<12&&(t+=12),"AM"===n&&12===t&&(t=0)}}else if(t=parseInt(this.container.find(".right .hourselect").val(),10),e=parseInt(this.container.find(".right .minuteselect").val(),10),i=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var n=this.container.find(".right .ampmselect").val();"PM"===n&&t<12&&(t+=12),"AM"===n&&12===t&&(t=0)}this.leftCalendar.month.hour(t).minute(e).second(i),this.rightCalendar.month.hour(t).minute(e).second(i)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(i){var n="left"==i?this.leftCalendar:this.rightCalendar,o=n.month.month(),r=n.month.year(),a=n.month.hour(),s=n.month.minute(),l=n.month.second(),h=t([r,o]).daysInMonth(),c=t([r,o,1]),u=t([r,o,h]),d=t(c).subtract(1,"month").month(),f=t(c).subtract(1,"month").year(),p=t([f,d]).daysInMonth(),g=c.day(),n=[];n.firstDay=c,n.lastDay=u;for(var m=0;m<6;m++)n[m]=[];var v=p-g+this.locale.firstDay+1;v>p&&(v-=7),g==this.locale.firstDay&&(v=p-6);for(var y,_,x=t([f,d,v,12,s,l]),m=0,y=0,_=0;m<42;m++,y++,x=t(x).add(24,"hour"))m>0&&y%7==0&&(y=0,_++),n[_][y]=x.clone().hour(a).minute(s).second(l),x.hour(12),this.minDate&&n[_][y].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&n[_][y].isBefore(this.minDate)&&"left"==i&&(n[_][y]=this.minDate.clone()),this.maxDate&&n[_][y].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&n[_][y].isAfter(this.maxDate)&&"right"==i&&(n[_][y]=this.maxDate.clone());"left"==i?this.leftCalendar.calendar=n:this.rightCalendar.calendar=n;var w="left"==i?this.minDate:this.startDate,b=this.maxDate,S=("left"==i?this.startDate:this.endDate,this.locale.direction,'<table class="table-condensed">');S+="<thead>",S+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(S+="<th></th>"),w&&!w.isBefore(n.firstDay)||this.linkedCalendars&&"left"!=i?S+="<th></th>":S+='<th class="prev available"><span></span></th>';var D=this.locale.monthNames[n[1][1].month()]+n[1][1].format(" YYYY");if(this.showDropdowns){for(var M=n[1][1].month(),C=n[1][1].year(),T=b&&b.year()||this.maxYear,I=w&&w.year()||this.minYear,A=C==I,k=C==T,E='<select class="monthselect">',L=0;L<12;L++)(!A||L>=w.month())&&(!k||L<=b.month())?E+="<option value='"+L+"'"+(L===M?" selected='selected'":"")+">"+this.locale.monthNames[L]+"</option>":E+="<option value='"+L+"'"+(L===M?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[L]+"</option>";E+="</select>";for(var O='<select class="yearselect">',P=I;P<=T;P++)O+='<option value="'+P+'"'+(P===C?' selected="selected"':"")+">"+P+"</option>";O+="</select>",D=E+O}if(S+='<th colspan="5" class="month">'+D+"</th>",b&&!b.isAfter(n.lastDay)||this.linkedCalendars&&"right"!=i&&!this.singleDatePicker?S+="<th></th>":S+='<th class="next available"><span></span></th>',S+="</tr>",S+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(S+='<th class="week">'+this.locale.weekLabel+"</th>"),
e.each(this.locale.daysOfWeek,function(t,e){S+="<th>"+e+"</th>"}),S+="</tr>",S+="</thead>",S+="<tbody>",null==this.endDate&&this.maxSpan){var N=this.startDate.clone().add(this.maxSpan).endOf("day");b&&!N.isBefore(b)||(b=N)}for(var _=0;_<6;_++){S+="<tr>",this.showWeekNumbers?S+='<td class="week">'+n[_][0].week()+"</td>":this.showISOWeekNumbers&&(S+='<td class="week">'+n[_][0].isoWeek()+"</td>");for(var y=0;y<7;y++){var R=[];n[_][y].isSame(new Date,"day")&&R.push("today"),n[_][y].isoWeekday()>5&&R.push("weekend"),n[_][y].month()!=n[1][1].month()&&R.push("off"),this.minDate&&n[_][y].isBefore(this.minDate,"day")&&R.push("off","disabled"),b&&n[_][y].isAfter(b,"day")&&R.push("off","disabled"),this.isInvalidDate(n[_][y])&&R.push("off","disabled"),n[_][y].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&R.push("active","start-date"),null!=this.endDate&&n[_][y].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&R.push("active","end-date"),null!=this.endDate&&n[_][y]>this.startDate&&n[_][y]<this.endDate&&R.push("in-range");var z=this.isCustomDate(n[_][y]);!1!==z&&("string"==typeof z?R.push(z):Array.prototype.push.apply(R,z));for(var B="",H=!1,m=0;m<R.length;m++)B+=R[m]+" ","disabled"==R[m]&&(H=!0);H||(B+="available"),S+='<td class="'+B.replace(/^\s+|\s+$/g,"")+'" data-title="r'+_+"c"+y+'">'+n[_][y].date()+"</td>"}S+="</tr>"}S+="</tbody>",S+="</table>",this.container.find(".drp-calendar."+i+" .calendar-table").html(S)},renderTimePicker:function(t){if("right"!=t||this.endDate){var e,i,n,o=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isAfter(this.maxDate)||(o=this.startDate.clone().add(this.maxSpan)),"left"==t)i=this.startDate.clone(),n=this.minDate;else if("right"==t){i=this.endDate.clone(),n=this.startDate;var r=this.container.find(".drp-calendar.right .calendar-time");if(""!=r.html()&&(i.hour(i.hour()||r.find(".hourselect option:selected").val()),i.minute(i.minute()||r.find(".minuteselect option:selected").val()),i.second(i.second()||r.find(".secondselect option:selected").val()),!this.timePicker24Hour)){var a=r.find(".ampmselect option:selected").val();"PM"===a&&i.hour()<12&&i.hour(i.hour()+12),"AM"===a&&12===i.hour()&&i.hour(0)}i.isBefore(this.startDate)&&(i=this.startDate.clone()),o&&i.isAfter(o)&&(i=o.clone())}e='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,h=s;h<=l;h++){var c=h;this.timePicker24Hour||(c=i.hour()>=12?12==h?12:h+12:12==h?0:h);var u=i.clone().hour(c),d=!1;n&&u.minute(59).isBefore(n)&&(d=!0),o&&u.minute(0).isAfter(o)&&(d=!0),c!=i.hour()||d?e+=d?'<option value="'+h+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+h+'">'+h+"</option>":e+='<option value="'+h+'" selected="selected">'+h+"</option>"}e+="</select> ",e+=': <select class="minuteselect">';for(var h=0;h<60;h+=this.timePickerIncrement){var f=h<10?"0"+h:h,u=i.clone().minute(h),d=!1;n&&u.second(59).isBefore(n)&&(d=!0),o&&u.second(0).isAfter(o)&&(d=!0),i.minute()!=h||d?e+=d?'<option value="'+h+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+h+'">'+f+"</option>":e+='<option value="'+h+'" selected="selected">'+f+"</option>"}if(e+="</select> ",this.timePickerSeconds){e+=': <select class="secondselect">';for(var h=0;h<60;h++){var f=h<10?"0"+h:h,u=i.clone().second(h),d=!1;n&&u.isBefore(n)&&(d=!0),o&&u.isAfter(o)&&(d=!0),i.second()!=h||d?e+=d?'<option value="'+h+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+h+'">'+f+"</option>":e+='<option value="'+h+'" selected="selected">'+f+"</option>"}e+="</select> "}if(!this.timePicker24Hour){e+='<select class="ampmselect">';var p="",g="";n&&i.clone().hour(12).minute(0).second(0).isBefore(n)&&(p=' disabled="disabled" class="disabled"'),o&&i.clone().hour(0).minute(0).second(0).isAfter(o)&&(g=' disabled="disabled" class="disabled"'),i.hour()>=12?e+='<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+g+">PM</option>":e+='<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+g+">PM</option>",e+="</select>"}this.container.find(".drp-calendar."+t+" .calendar-time").html(e)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},move:function(){var t,i={top:0,left:0},n=e(window).width();this.parentEl.is("body")||(i={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),t="up"==this.drops?this.element.offset().top-this.container.outerHeight()-i.top:this.element.offset().top+this.element.outerHeight()-i.top,this.container["up"==this.drops?"addClass":"removeClass"]("drop-up"),"left"==this.opens?(this.container.css({top:t,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:t,left:this.element.offset().left-i.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-i.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>e(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.isShowing||(this._outsideClickProxy=e.proxy(function(t){this.outsideClick(t)},this),e(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),e(window).on("resize.daterangepicker",e.proxy(function(t){this.move(t)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(t){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),e(document).off(".daterangepicker"),e(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(t){this.isShowing?this.hide():this.show()},outsideClick:function(t){var i=e(t.target);"focusin"==t.type||i.closest(this.element).length||i.closest(this.container).length||i.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(t){var e=t.target.getAttribute("data-range-key");if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var i=this.ranges[e];this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(t){e(t.target).parents(".drp-calendar").hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(t){if(e(t.target).hasClass("available")){var i=e(t.target).attr("data-title"),n=i.substr(1,1),o=i.substr(3,1),r=e(t.target).parents(".drp-calendar"),a=r.hasClass("left")?this.leftCalendar.calendar[n][o]:this.rightCalendar.calendar[n][o],s=this.leftCalendar,l=this.rightCalendar,h=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(t,i){if(!e(i).hasClass("week")){var n=e(i).attr("data-title"),o=n.substr(1,1),r=n.substr(3,1),c=e(i).parents(".drp-calendar"),u=c.hasClass("left")?s.calendar[o][r]:l.calendar[o][r];u.isAfter(h)&&u.isBefore(a)||u.isSame(a,"day")?e(i).addClass("in-range"):e(i).removeClass("in-range")}})}},clickDate:function(t){if(e(t.target).hasClass("available")){var i=e(t.target).attr("data-title"),n=i.substr(1,1),o=i.substr(3,1),r=e(t.target).parents(".drp-calendar"),a=r.hasClass("left")?this.leftCalendar.calendar[n][o]:this.rightCalendar.calendar[n][o];if(this.endDate||a.isBefore(this.startDate,"day")){if(this.timePicker){var s=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();"PM"===l&&s<12&&(s+=12),"AM"===l&&12===s&&(s=0)}var h=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;a=a.clone().hour(s).minute(h).second(c)}this.endDate=null,this.setStartDate(a.clone())}else if(!this.endDate&&a.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var s=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&s<12&&(s+=12),"AM"===l&&12===s&&(s=0)}var h=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;a=a.clone().hour(s).minute(h).second(c)}this.setEndDate(a.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView(),t.stopPropagation()}},calculateChosenLabel:function(){var t=!0,e=0;for(var i in this.ranges){if(this.timePicker){var n=this.timePickerSeconds?"YYYY-MM-DD hh:mm:ss":"YYYY-MM-DD hh:mm";if(this.startDate.format(n)==this.ranges[i][0].format(n)&&this.endDate.format(n)==this.ranges[i][1].format(n)){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[i][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[i][1].format("YYYY-MM-DD")){t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").attr("data-range-key");break}e++}t&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(t){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(t){var i=e(t.target).closest(".drp-calendar").hasClass("left"),n=i?"left":"right",o=this.container.find(".drp-calendar."+n),r=parseInt(o.find(".monthselect").val(),10),a=o.find(".yearselect").val();i||(a<this.startDate.year()||a==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),a=this.maxDate.year()),i?(this.leftCalendar.month.month(r).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(t){var i=e(t.target).closest(".drp-calendar"),n=i.hasClass("left"),o=parseInt(i.find(".hourselect").val(),10),r=parseInt(i.find(".minuteselect").val(),10),a=this.timePickerSeconds?parseInt(i.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var s=i.find(".ampmselect").val();"PM"===s&&o<12&&(o+=12),"AM"===s&&12===o&&(o=0)}if(n){var l=this.startDate.clone();l.hour(o),l.minute(r),l.second(a),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var h=this.endDate.clone();h.hour(o),h.minute(r),h.second(a),this.setEndDate(h)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var e=this.element.val().split(this.locale.separator),i=null,n=null;2===e.length&&(i=t(e[0],this.locale.format),n=t(e[1],this.locale.format)),(this.singleDatePicker||null===i||null===n)&&(i=t(this.element.val(),this.locale.format),n=i),i.isValid()&&n.isValid()&&(this.setStartDate(i),this.setEndDate(n),this.updateView())}},keydown:function(t){9!==t.keyCode&&13!==t.keyCode||this.hide(),27===t.keyCode&&(t.preventDefault(),t.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var t=this.startDate.format(this.locale.format);this.singleDatePicker||(t+=this.locale.separator+this.endDate.format(this.locale.format)),t!==this.element.val()&&this.element.val(t).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},e.fn.daterangepicker=function(t,n){var o=e.extend(!0,{},e.fn.daterangepicker.defaultOptions,t);return this.each(function(){var t=e(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new i(t,o,n))}),this},i}),function(t){!jQuery&&"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,document,window,navigator)}):jQuery||"object"!=typeof exports?t(jQuery,document,window,navigator):t(require("jquery"),document,window,navigator)}(function(t,e,i,n,o){"use strict";var r=0,a=function(){var e,i=n.userAgent,o=/msie\s\d+/i;return i.search(o)>0&&(e=o.exec(i).toString(),(e=e.split(" ")[1])<9)&&(t("html").addClass("lt-ie9"),!0)}();Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,i=[].slice;if("function"!=typeof e)throw new TypeError;var n=i.call(arguments,1),o=function(){if(this instanceof o){var r=function(){};r.prototype=e.prototype;var a=new r,s=e.apply(a,n.concat(i.call(arguments)));return Object(s)===s?s:a}return e.apply(t,n.concat(i.call(arguments)))};return o}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var i;if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return-1;var r=+e||0;if(Math.abs(r)===1/0&&(r=0),r>=o)return-1;for(i=Math.max(r>=0?r:o-Math.abs(r),0);i<o;){if(i in n&&n[i]===t)return i;i++}return-1});var s=function(n,r,a){this.VERSION="2.3.0",this.input=n,this.plugin_count=a,this.current_plugin=0,this.calc_count=0,this.update_tm=0,this.old_from=0,this.old_to=0,this.old_min_interval=null,this.raf_id=null,this.dragging=!1,this.force_redraw=!1,this.no_diapason=!1,this.has_tab_index=!0,this.is_key=!1,this.is_update=!1,this.is_start=!0,this.is_finish=!1,this.is_active=!1,this.is_resize=!1,this.is_click=!1,r=r||{},this.$cache={win:t(i),body:t(e.body),input:t(n),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]},this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],big_x:[]},this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var s,l,h,c=this.$cache.input,u=c.prop("value");s={skin:"flat",type:"single",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:" ",prettify:null,force_edges:!1,keyboard:!0,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:"",postfix:"",max_postfix:"",decorate_both:!0,values_separator:" — ",input_values_separator:";",disable:!1,block:!1,extra_classes:"",scope:null,onStart:null,onChange:null,onFinish:null,onUpdate:null},"INPUT"!==c[0].nodeName&&console&&console.warn&&console.warn("Base element should be <input>!",c[0]),l={skin:c.data("skin"),type:c.data("type"),min:c.data("min"),max:c.data("max"),from:c.data("from"),to:c.data("to"),step:c.data("step"),min_interval:c.data("minInterval"),max_interval:c.data("maxInterval"),drag_interval:c.data("dragInterval"),values:c.data("values"),from_fixed:c.data("fromFixed"),from_min:c.data("fromMin"),from_max:c.data("fromMax"),from_shadow:c.data("fromShadow"),to_fixed:c.data("toFixed"),to_min:c.data("toMin"),to_max:c.data("toMax"),to_shadow:c.data("toShadow"),prettify_enabled:c.data("prettifyEnabled"),prettify_separator:c.data("prettifySeparator"),force_edges:c.data("forceEdges"),keyboard:c.data("keyboard"),grid:c.data("grid"),grid_margin:c.data("gridMargin"),grid_num:c.data("gridNum"),grid_snap:c.data("gridSnap"),hide_min_max:c.data("hideMinMax"),hide_from_to:c.data("hideFromTo"),prefix:c.data("prefix"),postfix:c.data("postfix"),max_postfix:c.data("maxPostfix"),decorate_both:c.data("decorateBoth"),values_separator:c.data("valuesSeparator"),input_values_separator:c.data("inputValuesSeparator"),disable:c.data("disable"),block:c.data("block"),extra_classes:c.data("extraClasses")},l.values=l.values&&l.values.split(",");for(h in l)l.hasOwnProperty(h)&&(l[h]!==o&&""!==l[h]||delete l[h]);u!==o&&""!==u&&(u=u.split(l.input_values_separator||r.input_values_separator||";"),u[0]&&u[0]==+u[0]&&(u[0]=+u[0]),u[1]&&u[1]==+u[1]&&(u[1]=+u[1]),r&&r.values&&r.values.length?(s.from=u[0]&&r.values.indexOf(u[0]),s.to=u[1]&&r.values.indexOf(u[1])):(s.from=u[0]&&+u[0],s.to=u[1]&&+u[1])),t.extend(s,r),t.extend(s,l),this.options=s,this.update_check={},this.validate(),this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null},this.init()};s.prototype={init:function(t){this.no_diapason=!1,this.coords.p_step=this.convertToPercent(this.options.step,!0),this.target="base",this.toggleInput(),this.append(),this.setMinMax(),t?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart()),this.updateScene()},append:function(){var t='<span class="irs irs--'+this.options.skin+" js-irs-"+this.plugin_count+" "+this.options.extra_classes+'"></span>';this.$cache.input.before(t),this.$cache.input.prop("readonly",!0),this.$cache.cont=this.$cache.input.prev(),this.result.slider=this.$cache.cont,this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'),this.$cache.rs=this.$cache.cont.find(".irs"),this.$cache.min=this.$cache.cont.find(".irs-min"),this.$cache.max=this.$cache.cont.find(".irs-max"),this.$cache.from=this.$cache.cont.find(".irs-from"),this.$cache.to=this.$cache.cont.find(".irs-to"),this.$cache.single=this.$cache.cont.find(".irs-single"),this.$cache.line=this.$cache.cont.find(".irs-line"),this.$cache.grid=this.$cache.cont.find(".irs-grid"),"single"===this.options.type?(this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.edge=this.$cache.cont.find(".irs-bar-edge"),this.$cache.s_single=this.$cache.cont.find(".single"),this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.shad_single=this.$cache.cont.find(".shadow-single")):(this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'),this.$cache.bar=this.$cache.cont.find(".irs-bar"),this.$cache.s_from=this.$cache.cont.find(".from"),this.$cache.s_to=this.$cache.cont.find(".to"),this.$cache.shad_from=this.$cache.cont.find(".shadow-from"),this.$cache.shad_to=this.$cache.cont.find(".shadow-to"),this.setTopHandler()),this.options.hide_from_to&&(this.$cache.from[0].style.display="none",this.$cache.to[0].style.display="none",this.$cache.single[0].style.display="none"),this.appendGrid(),this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.input[0].disabled=!1,this.removeDisableMask(),this.bindEvents()),this.options.disable||(this.options.block?this.appendDisableMask():this.removeDisableMask()),this.options.drag_interval&&(this.$cache.bar[0].style.cursor="ew-resize")},setTopHandler:function(){var t=this.options.min,e=this.options.max,i=this.options.from,n=this.options.to;i>t&&n===e?this.$cache.s_from.addClass("type_last"):n<e&&this.$cache.s_to.addClass("type_last")},changeLevel:function(t){switch(t){case"single":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake),this.$cache.s_single.addClass("state_hover");break;case"from":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.$cache.s_from.addClass("state_hover"),this.$cache.s_from.addClass("type_last"),this.$cache.s_to.removeClass("type_last");break;case"to":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake),this.$cache.s_to.addClass("state_hover"),this.$cache.s_to.addClass("type_last"),this.$cache.s_from.removeClass("type_last");break;case"both":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-this.coords.p_pointer),this.$cache.s_to.removeClass("type_last"),this.$cache.s_from.removeClass("type_last")}},appendDisableMask:function(){this.$cache.cont.append('<span class="irs-disable-mask"></span>'),this.$cache.cont.addClass("irs-disabled")},removeDisableMask:function(){this.$cache.cont.remove(".irs-disable-mask"),this.$cache.cont.removeClass("irs-disabled")},remove:function(){this.$cache.cont.remove(),this.$cache.cont=null,this.$cache.line.off("keydown.irs_"+this.plugin_count),this.$cache.body.off("touchmove.irs_"+this.plugin_count),this.$cache.body.off("mousemove.irs_"+this.plugin_count),this.$cache.win.off("touchend.irs_"+this.plugin_count),this.$cache.win.off("mouseup.irs_"+this.plugin_count),a&&(this.$cache.body.off("mouseup.irs_"+this.plugin_count),this.$cache.body.off("mouseleave.irs_"+this.plugin_count)),this.$cache.grid_labels=[],this.coords.big=[],this.coords.big_w=[],this.coords.big_p=[],this.coords.big_x=[],cancelAnimationFrame(this.raf_id)},bindEvents:function(){this.no_diapason||(this.$cache.body.on("touchmove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.body.on("mousemove.irs_"+this.plugin_count,this.pointerMove.bind(this)),this.$cache.win.on("touchend.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.win.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.line.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.line.on("focus.irs_"+this.plugin_count,this.pointerFocus.bind(this)),this.options.drag_interval&&"double"===this.options.type?(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"both")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"both"))):(this.$cache.bar.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.bar.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),"single"===this.options.type?(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.shad_single.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.s_single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"single")),this.$cache.edge.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_single.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))):(this.$cache.single.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("touchstart.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("touchstart.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.s_from.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"from")),this.$cache.to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.s_to.on("mousedown.irs_"+this.plugin_count,this.pointerDown.bind(this,"to")),this.$cache.shad_from.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click")),this.$cache.shad_to.on("mousedown.irs_"+this.plugin_count,this.pointerClick.bind(this,"click"))),this.options.keyboard&&this.$cache.line.on("keydown.irs_"+this.plugin_count,this.key.bind(this,"keyboard")),a&&(this.$cache.body.on("mouseup.irs_"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on("mouseleave.irs_"+this.plugin_count,this.pointerUp.bind(this))))},pointerFocus:function(t){if(!this.target){var e,i;i="single"===this.options.type?this.$cache.single:this.$cache.from,e=i.offset().left,e+=i.width()/2-1,this.pointerClick("single",{preventDefault:function(){},pageX:e})}},pointerMove:function(t){if(this.dragging){var e=t.pageX||t.originalEvent.touches&&t.originalEvent.touches[0].pageX;this.coords.x_pointer=e-this.coords.x_gap,this.calc()}},pointerUp:function(e){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(".state_hover").removeClass("state_hover"),this.force_redraw=!0,a&&t("*").prop("unselectable",!1),this.updateScene(),this.restoreOriginalMinInterval(),(t.contains(this.$cache.cont[0],e.target)||this.dragging)&&this.callOnFinish(),this.dragging=!1)},pointerDown:function(e,i){i.preventDefault();var n=i.pageX||i.originalEvent.touches&&i.originalEvent.touches[0].pageX;2!==i.button&&("both"===e&&this.setTempMinInterval(),e||(e=this.target||"from"),this.current_plugin=this.plugin_count,this.target=e,this.is_active=!0,this.dragging=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=n-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(e),a&&t("*").prop("unselectable",!0),this.$cache.line.trigger("focus"),this.updateScene())},pointerClick:function(t,e){e.preventDefault();var i=e.pageX||e.originalEvent.touches&&e.originalEvent.touches[0].pageX;2!==e.button&&(this.current_plugin=this.plugin_count,this.target=t,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(i-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger("focus"))},key:function(t,e){if(!(this.current_plugin!==this.plugin_count||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){switch(e.which){case 83:case 65:case 40:case 37:e.preventDefault(),this.moveByKey(!1);break;case 87:case 68:case 38:case 39:e.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(t){var e=this.coords.p_pointer,i=(this.options.max-this.options.min)/100;i=this.options.step/i,t?e+=i:e-=i,this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*e),this.is_key=!0,this.calc()},setMinMax:function(){if(this.options){if(this.options.hide_min_max)return this.$cache.min[0].style.display="none",void(this.$cache.max[0].style.display="none");if(this.options.values.length)this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]));else{var t=this._prettify(this.options.min),e=this._prettify(this.options.max);this.result.min_pretty=t,this.result.max_pretty=e,this.$cache.min.html(this.decorate(t,this.options.min)),this.$cache.max.html(this.decorate(e,this.options.max))}this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)}},setTempMinInterval:function(){var t=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval),this.options.min_interval=t},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(t){if(this.options&&(this.calc_count++,(10===this.calc_count||t)&&(this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent()),this.coords.w_rs)){this.calcPointerPercent();var e=this.getHandleX();switch("both"===this.target&&(this.coords.p_gap=0,e=this.getHandleX()),"click"===this.target&&(this.coords.p_gap=this.coords.p_handle/2,e=this.getHandleX(),this.options.drag_interval?this.target="both_one":this.target=this.chooseHandle(e)),this.target){case"base":var i=(this.options.max-this.options.min)/100,n=(this.result.from-this.options.min)/i,o=(this.result.to-this.options.min)/i;this.coords.p_single_real=this.toFixed(n),this.coords.p_from_real=this.toFixed(n),this.coords.p_to_real=this.toFixed(o),this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real),this.target=null;break;case"single":if(this.options.from_fixed)break;this.coords.p_single_real=this.convertToRealPercent(e),this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real),
this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max),this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case"from":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(e),this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real>this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case"to":if(this.options.to_fixed)break;this.coords.p_to_real=this.convertToRealPercent(e),this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both":if(this.options.from_fixed||this.options.to_fixed)break;e=this.toFixed(e+.001*this.coords.p_handle),this.coords.p_from_real=this.convertToRealPercent(e)-this.coords.p_gap_left,this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,"from"),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.convertToRealPercent(e)+this.coords.p_gap_right,this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,"to"),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case"both_one":if(this.options.from_fixed||this.options.to_fixed)break;var r=this.convertToRealPercent(e),a=this.result.from_percent,s=this.result.to_percent,l=s-a,h=l/2,c=r-h,u=r+h;c<0&&(c=0,u=c+l),u>100&&(u=100,c=u-l),this.coords.p_from_real=this.calcWithStep(c),this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max),this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real),this.coords.p_to_real=this.calcWithStep(u),this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max),this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}"single"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.result.from_pretty=this._prettify(this.result.from),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.from_pretty=this._prettify(this.result.from),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.result.to_pretty=this._prettify(this.result.to),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to])),this.calcMinMax(),this.calcLabels()}},calcPointerPercent:function(){if(!this.coords.w_rs)return void(this.coords.p_pointer=0);this.coords.x_pointer<0||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)},convertToRealPercent:function(t){return t/(100-this.coords.p_handle)*100},convertToFakePercent:function(t){return t/100*(100-this.coords.p_handle)},getHandleX:function(){var t=100-this.coords.p_handle,e=this.toFixed(this.coords.p_pointer-this.coords.p_gap);return e<0?e=0:e>t&&(e=t),e},calcHandlePercent:function(){"single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(t){return"single"===this.options.type?"single":t>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?this.options.to_fixed?"from":"to":this.options.from_fixed?"to":"from"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&("single"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=this.toFixed(this.labels.p_single_left),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake)))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null),clearTimeout(this.update_tm),this.update_tm=null,this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_rs!==this.coords.w_rs_old&&(this.target="base",this.is_resize=!0),(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)&&(this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow()),this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)&&((this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||this.is_key)&&(this.drawLabels(),this.$cache.bar[0].style.left=this.coords.p_bar_x+"%",this.$cache.bar[0].style.width=this.coords.p_bar_w+"%","single"===this.options.type?(this.$cache.bar[0].style.left=0,this.$cache.bar[0].style.width=this.coords.p_bar_w+this.coords.p_bar_x+"%",this.$cache.s_single[0].style.left=this.coords.p_single_fake+"%",this.$cache.single[0].style.left=this.labels.p_single_left+"%"):(this.$cache.s_from[0].style.left=this.coords.p_from_fake+"%",this.$cache.s_to[0].style.left=this.coords.p_to_fake+"%",(this.old_from!==this.result.from||this.force_redraw)&&(this.$cache.from[0].style.left=this.labels.p_from_left+"%"),(this.old_to!==this.result.to||this.force_redraw)&&(this.$cache.to[0].style.left=this.labels.p_to_left+"%"),this.$cache.single[0].style.left=this.labels.p_single_left+"%"),this.writeToInput(),this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger("change"),this.$cache.input.trigger("input")),this.old_from=this.result.from,this.old_to=this.result.to,this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange(),(this.is_key||this.is_click)&&(this.is_key=!1,this.is_click=!1,this.callOnFinish()),this.is_update=!1,this.is_resize=!1,this.is_finish=!1),this.is_start=!1,this.is_key=!1,this.is_click=!1,this.force_redraw=!1))},drawLabels:function(){if(this.options){var t,e,i,n,o,r=this.options.values.length,a=this.options.p_values;if(!this.options.hide_from_to)if("single"===this.options.type)r?(t=this.decorate(a[this.result.from]),this.$cache.single.html(t)):(n=this._prettify(this.result.from),t=this.decorate(n,this.result.from),this.$cache.single.html(t)),this.calcLabels(),this.labels.p_single_left<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible";else{r?(this.options.decorate_both?(t=this.decorate(a[this.result.from]),t+=this.options.values_separator,t+=this.decorate(a[this.result.to])):t=this.decorate(a[this.result.from]+this.options.values_separator+a[this.result.to]),e=this.decorate(a[this.result.from]),i=this.decorate(a[this.result.to]),this.$cache.single.html(t),this.$cache.from.html(e),this.$cache.to.html(i)):(n=this._prettify(this.result.from),o=this._prettify(this.result.to),this.options.decorate_both?(t=this.decorate(n,this.result.from),t+=this.options.values_separator,t+=this.decorate(o,this.result.to)):t=this.decorate(n+this.options.values_separator+o,this.result.to),e=this.decorate(n,this.result.from),i=this.decorate(o,this.result.to),this.$cache.single.html(t),this.$cache.from.html(e),this.$cache.to.html(i)),this.calcLabels();var s=Math.min(this.labels.p_single_left,this.labels.p_from_left),l=this.labels.p_single_left+this.labels.p_single_fake,h=this.labels.p_to_left+this.labels.p_to_fake,c=Math.max(l,h);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",this.result.from===this.result.to?("from"===this.target?this.$cache.from[0].style.visibility="visible":"to"===this.target?this.$cache.to[0].style.visibility="visible":this.target||(this.$cache.from[0].style.visibility="visible"),this.$cache.single[0].style.visibility="hidden",c=h):(this.$cache.from[0].style.visibility="hidden",this.$cache.to[0].style.visibility="hidden",this.$cache.single[0].style.visibility="visible",c=Math.max(l,h))):(this.$cache.from[0].style.visibility="visible",this.$cache.to[0].style.visibility="visible",this.$cache.single[0].style.visibility="hidden"),s<this.labels.p_min+1?this.$cache.min[0].style.visibility="hidden":this.$cache.min[0].style.visibility="visible",c>100-this.labels.p_max-1?this.$cache.max[0].style.visibility="hidden":this.$cache.max[0].style.visibility="visible"}}},drawShadow:function(){var t,e,i,n,o=this.options,r=this.$cache,a="number"==typeof o.from_min&&!isNaN(o.from_min),s="number"==typeof o.from_max&&!isNaN(o.from_max),l="number"==typeof o.to_min&&!isNaN(o.to_min),h="number"==typeof o.to_max&&!isNaN(o.to_max);"single"===o.type?o.from_shadow&&(a||s)?(t=this.convertToPercent(a?o.from_min:o.min),e=this.convertToPercent(s?o.from_max:o.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,r.shad_single[0].style.display="block",r.shad_single[0].style.left=t+"%",r.shad_single[0].style.width=e+"%"):r.shad_single[0].style.display="none":(o.from_shadow&&(a||s)?(t=this.convertToPercent(a?o.from_min:o.min),e=this.convertToPercent(s?o.from_max:o.max)-t,t=this.toFixed(t-this.coords.p_handle/100*t),e=this.toFixed(e-this.coords.p_handle/100*e),t+=this.coords.p_handle/2,r.shad_from[0].style.display="block",r.shad_from[0].style.left=t+"%",r.shad_from[0].style.width=e+"%"):r.shad_from[0].style.display="none",o.to_shadow&&(l||h)?(i=this.convertToPercent(l?o.to_min:o.min),n=this.convertToPercent(h?o.to_max:o.max)-i,i=this.toFixed(i-this.coords.p_handle/100*i),n=this.toFixed(n-this.coords.p_handle/100*n),i+=this.coords.p_handle/2,r.shad_to[0].style.display="block",r.shad_to[0].style.left=i+"%",r.shad_to[0].style.width=n+"%"):r.shad_to[0].style.display="none")},writeToInput:function(){"single"===this.options.type?(this.options.values.length?this.$cache.input.prop("value",this.result.from_value):this.$cache.input.prop("value",this.result.from),this.$cache.input.data("from",this.result.from)):(this.options.values.length?this.$cache.input.prop("value",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop("value",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data("from",this.result.from),this.$cache.input.data("to",this.result.to))},callOnStart:function(){this.writeToInput(),this.options.onStart&&"function"==typeof this.options.onStart&&(this.options.scope?this.options.onStart.call(this.options.scope,this.result):this.options.onStart(this.result))},callOnChange:function(){this.writeToInput(),this.options.onChange&&"function"==typeof this.options.onChange&&(this.options.scope?this.options.onChange.call(this.options.scope,this.result):this.options.onChange(this.result))},callOnFinish:function(){this.writeToInput(),this.options.onFinish&&"function"==typeof this.options.onFinish&&(this.options.scope?this.options.onFinish.call(this.options.scope,this.result):this.options.onFinish(this.result))},callOnUpdate:function(){this.writeToInput(),this.options.onUpdate&&"function"==typeof this.options.onUpdate&&(this.options.scope?this.options.onUpdate.call(this.options.scope,this.result):this.options.onUpdate(this.result))},toggleInput:function(){this.$cache.input.toggleClass("irs-hidden-input"),this.has_tab_index?this.$cache.input.prop("tabindex",-1):this.$cache.input.removeProp("tabindex"),this.has_tab_index=!this.has_tab_index},convertToPercent:function(t,e){var i,n,o=this.options.max-this.options.min,r=o/100;return o?(i=e?t:t-this.options.min,n=i/r,this.toFixed(n)):(this.no_diapason=!0,0)},convertToValue:function(t){var e,i,n=this.options.min,o=this.options.max,r=n.toString().split(".")[1],a=o.toString().split(".")[1],s=0,l=0;if(0===t)return this.options.min;if(100===t)return this.options.max;r&&(e=r.length,s=e),a&&(i=a.length,s=i),e&&i&&(s=e>=i?e:i),n<0&&(l=Math.abs(n),n=+(n+l).toFixed(s),o=+(o+l).toFixed(s));var h,c=(o-n)/100*t+n,u=this.options.step.toString().split(".")[1];return u?c=+c.toFixed(u.length):(c/=this.options.step,c*=this.options.step,c=+c.toFixed(0)),l&&(c-=l),h=u?+c.toFixed(u.length):this.toFixed(c),h<this.options.min?h=this.options.min:h>this.options.max&&(h=this.options.max),h},calcWithStep:function(t){var e=Math.round(t/this.coords.p_step)*this.coords.p_step;return e>100&&(e=100),100===t&&(e=100),this.toFixed(e)},checkMinInterval:function(t,e,i){var n,o,r=this.options;return r.min_interval?(n=this.convertToValue(t),o=this.convertToValue(e),"from"===i?o-n<r.min_interval&&(n=o-r.min_interval):n-o<r.min_interval&&(n=o+r.min_interval),this.convertToPercent(n)):t},checkMaxInterval:function(t,e,i){var n,o,r=this.options;return r.max_interval?(n=this.convertToValue(t),o=this.convertToValue(e),"from"===i?o-n>r.max_interval&&(n=o-r.max_interval):n-o>r.max_interval&&(n=o+r.max_interval),this.convertToPercent(n)):t},checkDiapason:function(t,e,i){var n=this.convertToValue(t),o=this.options;return"number"!=typeof e&&(e=o.min),"number"!=typeof i&&(i=o.max),n<e&&(n=e),n>i&&(n=i),this.convertToPercent(n)},toFixed:function(t){return+(t=t.toFixed(20))},_prettify:function(t){return this.options.prettify_enabled?this.options.prettify&&"function"==typeof this.options.prettify?this.options.prettify(t):this.prettify(t):t},prettify:function(t){return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1"+this.options.prettify_separator)},checkEdges:function(t,e){return this.options.force_edges?(t<0?t=0:t>100-e&&(t=100-e),this.toFixed(t)):this.toFixed(t)},validate:function(){var t,e,i=this.options,n=this.result,o=i.values,r=o.length;if("string"==typeof i.min&&(i.min=+i.min),"string"==typeof i.max&&(i.max=+i.max),"string"==typeof i.from&&(i.from=+i.from),"string"==typeof i.to&&(i.to=+i.to),"string"==typeof i.step&&(i.step=+i.step),"string"==typeof i.from_min&&(i.from_min=+i.from_min),"string"==typeof i.from_max&&(i.from_max=+i.from_max),"string"==typeof i.to_min&&(i.to_min=+i.to_min),"string"==typeof i.to_max&&(i.to_max=+i.to_max),"string"==typeof i.grid_num&&(i.grid_num=+i.grid_num),i.max<i.min&&(i.max=i.min),r)for(i.p_values=[],i.min=0,i.max=r-1,i.step=1,i.grid_num=i.max,i.grid_snap=!0,e=0;e<r;e++)t=+o[e],isNaN(t)?t=o[e]:(o[e]=t,t=this._prettify(t)),i.p_values.push(t);("number"!=typeof i.from||isNaN(i.from))&&(i.from=i.min),("number"!=typeof i.to||isNaN(i.to))&&(i.to=i.max),"single"===i.type?(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max)):(i.from<i.min&&(i.from=i.min),i.from>i.max&&(i.from=i.max),i.to<i.min&&(i.to=i.min),i.to>i.max&&(i.to=i.max),this.update_check.from&&(this.update_check.from!==i.from&&i.from>i.to&&(i.from=i.to),this.update_check.to!==i.to&&i.to<i.from&&(i.to=i.from)),i.from>i.to&&(i.from=i.to),i.to<i.from&&(i.to=i.from)),("number"!=typeof i.step||isNaN(i.step)||!i.step||i.step<0)&&(i.step=1),"number"==typeof i.from_min&&i.from<i.from_min&&(i.from=i.from_min),"number"==typeof i.from_max&&i.from>i.from_max&&(i.from=i.from_max),"number"==typeof i.to_min&&i.to<i.to_min&&(i.to=i.to_min),"number"==typeof i.to_max&&i.from>i.to_max&&(i.to=i.to_max),n&&(n.min!==i.min&&(n.min=i.min),n.max!==i.max&&(n.max=i.max),(n.from<n.min||n.from>n.max)&&(n.from=i.from),(n.to<n.min||n.to>n.max)&&(n.to=i.to)),("number"!=typeof i.min_interval||isNaN(i.min_interval)||!i.min_interval||i.min_interval<0)&&(i.min_interval=0),("number"!=typeof i.max_interval||isNaN(i.max_interval)||!i.max_interval||i.max_interval<0)&&(i.max_interval=0),i.min_interval&&i.min_interval>i.max-i.min&&(i.min_interval=i.max-i.min),i.max_interval&&i.max_interval>i.max-i.min&&(i.max_interval=i.max-i.min)},decorate:function(t,e){var i="",n=this.options;return n.prefix&&(i+=n.prefix),i+=t,n.max_postfix&&(n.values.length&&t===n.p_values[n.max]?(i+=n.max_postfix,n.postfix&&(i+=" ")):e===n.max&&(i+=n.max_postfix,n.postfix&&(i+=" "))),n.postfix&&(i+=n.postfix),i},updateFrom:function(){this.result.from=this.options.from,this.result.from_percent=this.convertToPercent(this.result.from),this.result.from_pretty=this._prettify(this.result.from),this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to,this.result.to_percent=this.convertToPercent(this.result.to),this.result.to_pretty=this._prettify(this.result.to),this.options.values&&(this.result.to_value=this.options.values[this.result.to])},updateResult:function(){this.result.min=this.options.min,this.result.max=this.options.max,this.updateFrom(),this.updateTo()},appendGrid:function(){if(this.options.grid){var t,e,i,n,o,r=this.options,a=r.max-r.min,s=r.grid_num,l=0,h=0,c=4,u=0,d="";for(this.calcGridMargin(),r.grid_snap&&(s=a/r.step),s>50&&(s=50),l=this.toFixed(100/s),s>4&&(c=3),s>7&&(c=2),s>14&&(c=1),s>28&&(c=0),t=0;t<s+1;t++){for(i=c,h=this.toFixed(l*t),h>100&&(h=100),this.coords.big[t]=h,n=(h-l*(t-1))/(i+1),e=1;e<=i&&0!==h;e++)u=this.toFixed(h-n*e),d+='<span class="irs-grid-pol small" style="left: '+u+'%"></span>';d+='<span class="irs-grid-pol" style="left: '+h+'%"></span>',o=this.convertToValue(h),o=r.values.length?r.p_values[o]:this._prettify(o),d+='<span class="irs-grid-text js-grid-text-'+t+'" style="left: '+h+'%">'+o+"</span>"}this.coords.big_num=Math.ceil(s+1),this.$cache.cont.addClass("irs-with-grid"),this.$cache.grid.html(d),this.cacheGridLabels()}},cacheGridLabels:function(){var t,e,i=this.coords.big_num;for(e=0;e<i;e++)t=this.$cache.grid.find(".js-grid-text-"+e),this.$cache.grid_labels.push(t);this.calcGridLabels()},calcGridLabels:function(){var t,e,i=[],n=[],o=this.coords.big_num;for(t=0;t<o;t++)this.coords.big_w[t]=this.$cache.grid_labels[t].outerWidth(!1),this.coords.big_p[t]=this.toFixed(this.coords.big_w[t]/this.coords.w_rs*100),this.coords.big_x[t]=this.toFixed(this.coords.big_p[t]/2),i[t]=this.toFixed(this.coords.big[t]-this.coords.big_x[t]),n[t]=this.toFixed(i[t]+this.coords.big_p[t]);for(this.options.force_edges&&(i[0]<-this.coords.grid_gap&&(i[0]=-this.coords.grid_gap,n[0]=this.toFixed(i[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),n[o-1]>100+this.coords.grid_gap&&(n[o-1]=100+this.coords.grid_gap,i[o-1]=this.toFixed(n[o-1]-this.coords.big_p[o-1]),this.coords.big_x[o-1]=this.toFixed(this.coords.big_p[o-1]-this.coords.grid_gap))),this.calcGridCollision(2,i,n),this.calcGridCollision(4,i,n),t=0;t<o;t++)e=this.$cache.grid_labels[t][0],this.coords.big_x[t]!==Number.POSITIVE_INFINITY&&(e.style.marginLeft=-this.coords.big_x[t]+"%")},calcGridCollision:function(t,e,i){var n,o,r,a=this.coords.big_num;for(n=0;n<a&&!((o=n+t/2)>=a);n+=t)r=this.$cache.grid_labels[o][0],i[n]<=e[o]?r.style.visibility="visible":r.style.visibility="hidden"},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&("single"===this.options.type?this.coords.w_handle=this.$cache.s_single.outerWidth(!1):this.coords.w_handle=this.$cache.s_from.outerWidth(!1),this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+"%",this.$cache.grid[0].style.left=this.coords.grid_gap+"%"))},update:function(e){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=t.extend(this.options,e),this.validate(),this.updateResult(e),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop("readonly",!1),t.data(this.input,"ionRangeSlider",null),this.remove(),this.input=null,this.options=null)}},t.fn.ionRangeSlider=function(e){return this.each(function(){t.data(this,"ionRangeSlider")||t.data(this,"ionRangeSlider",new s(this,e,r++))})},function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!i.requestAnimationFrame;++n)i.requestAnimationFrame=i[e[n]+"RequestAnimationFrame"],i.cancelAnimationFrame=i[e[n]+"CancelAnimationFrame"]||i[e[n]+"CancelRequestAnimationFrame"];i.requestAnimationFrame||(i.requestAnimationFrame=function(e,n){var o=(new Date).getTime(),r=Math.max(0,16-(o-t)),a=i.setTimeout(function(){e(o+r)},r);return t=o+r,a}),i.cancelAnimationFrame||(i.cancelAnimationFrame=function(t){clearTimeout(t)})}()}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?i=e:e={};var t,i,n;!function(e){function o(t,e){return x.call(t,e)}function r(t,e){var i,n,o,r,a,s,l,h,c,u,d,f=e&&e.split("/"),p=y.map,g=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(e){for(t=t.split("/"),a=t.length-1,y.nodeIdCompat&&b.test(t[a])&&(t[a]=t[a].replace(b,"")),t=f.slice(0,f.length-1).concat(t),c=0;c<t.length;c+=1)if("."===(d=t[c]))t.splice(c,1),c-=1;else if(".."===d){if(1===c&&(".."===t[2]||".."===t[0]))break;c>0&&(t.splice(c-1,2),c-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||g)&&p){for(i=t.split("/"),c=i.length;c>0;c-=1){if(n=i.slice(0,c).join("/"),f)for(u=f.length;u>0;u-=1)if((o=p[f.slice(0,u).join("/")])&&(o=o[n])){r=o,s=c;break}if(r)break;!l&&g&&g[n]&&(l=g[n],h=c)}!r&&l&&(r=l,s=h),r&&(i.splice(0,s,r),t=i.join("/"))}return t}function a(t,i){return function(){var n=w.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),f.apply(e,n.concat([t,i]))}}function s(t){return function(e){return r(e,t)}}function l(t){return function(e){m[t]=e}}function h(t){if(o(v,t)){var i=v[t];delete v[t],_[t]=!0,d.apply(e,i)}if(!o(m,t)&&!o(_,t))throw new Error("No "+t);return m[t]}function c(t){var e,i=t?t.indexOf("!"):-1;return i>-1&&(e=t.substring(0,i),t=t.substring(i+1,t.length)),[e,t]}function u(t){return function(){return y&&y.config&&y.config[t]||{}}}var d,f,p,g,m={},v={},y={},_={},x=Object.prototype.hasOwnProperty,w=[].slice,b=/\.js$/;p=function(t,e){var i,n=c(t),o=n[0];return t=n[1],o&&(o=r(o,e),i=h(o)),o?t=i&&i.normalize?i.normalize(t,s(e)):r(t,e):(t=r(t,e),n=c(t),o=n[0],t=n[1],o&&(i=h(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:i}},g={require:function(t){return a(t)},exports:function(t){var e=m[t];return void 0!==e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:u(t)}}},d=function(t,i,n,r){var s,c,u,d,f,y,x=[],w=typeof n;if(r=r||t,"undefined"===w||"function"===w){for(i=!i.length&&n.length?["require","exports","module"]:i,f=0;f<i.length;f+=1)if(d=p(i[f],r),"require"===(c=d.f))x[f]=g.require(t);else if("exports"===c)x[f]=g.exports(t),y=!0;else if("module"===c)s=x[f]=g.module(t);else if(o(m,c)||o(v,c)||o(_,c))x[f]=h(c);else{if(!d.p)throw new Error(t+" missing "+c);d.p.load(d.n,a(r,!0),l(c),{}),x[f]=m[c]}u=n?n.apply(m[t],x):void 0,t&&(s&&s.exports!==e&&s.exports!==m[t]?m[t]=s.exports:u===e&&y||(m[t]=u))}else t&&(m[t]=n)},t=i=f=function(t,i,n,o,r){if("string"==typeof t)return g[t]?g[t](i):h(p(t,i).f);if(!t.splice){if(y=t,y.deps&&f(y.deps,y.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=o,o=r),o?d(e,t,i,n):setTimeout(function(){d(e,t,i,n)},4),f},f.config=function(t){return f(t)},t._defined=m,n=function(t,e,i){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(i=e,e=[]),o(m,t)||o(v,t)||(v[t]=[t,e,i])},n.amd={jQuery:!0}}(),e.requirejs=t,e.require=i,e.define=n}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,i=[];for(var n in e){"function"==typeof e[n]&&("constructor"!==n&&i.push(n))}return i}var i={};i.Extend=function(t,e){function i(){this.constructor=t}var n={}.hasOwnProperty;for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},i.Decorate=function(t,i){function n(){var e=Array.prototype.unshift,n=i.prototype.constructor.length,o=t.prototype.constructor;n>0&&(e.call(arguments,t.prototype.constructor),o=i.prototype.constructor),o.apply(this,arguments)}function o(){this.constructor=n}var r=e(i),a=e(t);i.displayName=t.displayName,n.prototype=new o;for(var s=0;s<a.length;s++){var l=a[s];n.prototype[l]=t.prototype[l]}for(var h=0;h<r.length;h++){var c=r[h];n.prototype[c]=function(t){var e=function(){};t in n.prototype&&(e=n.prototype[t]);var o=i.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),o.apply(this,arguments)}}(c)}return n};var n=function(){this.listeners={}};return n.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},n.prototype.trigger=function(t){var e=Array.prototype.slice,i=e.call(arguments,1);this.listeners=this.listeners||{},null==i&&(i=[]),0===i.length&&i.push({}),i[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(t,e){for(var i=0,n=t.length;i<n;i++)t[i].apply(this,e)},i.Observable=n,i.generateChars=function(t){for(var e="",i=0;i<t;i++){e+=Math.floor(36*Math.random()).toString(36)}return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var i=e.split("-"),n=t;if(1!==i.length){for(var o=0;o<i.length;o++){var r=i[o];r=r.substring(0,1).toLowerCase()+r.substring(1),r in n||(n[r]={}),o==i.length-1&&(n[r]=t[e]),n=n[r]}delete t[e]}}return t},i.hasScroll=function(e,i){var n=t(i),o=i.style.overflowX,r=i.style.overflowY;return(o!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===o||"scroll"===r||(n.innerHeight()<i.scrollHeight||n.innerWidth()<i.scrollWidth))},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(e,i){if("1.7"===t.fn.jquery.substr(0,3)){var n=t();t.map(i,function(t){n=n.add(t)}),i=n}e.append(i)},i}),e.define("select2/results",["jquery","./utils"],function(t,e){function i(t,e,n){this.$element=t,this.data=n,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(e){var i=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);n.append(i(o(e.args))),n[0].className+=" select2-results__message",this.$results.append(n)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var i=0;i<t.results.length;i++){var n=t.results[i],o=this.option(n);e.push(o)}this.$results.append(e)},i.prototype.position=function(t,e){e.find(".select2-results").append(t)},i.prototype.sort=function(t){return this.options.get("sorter")(t)},i.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},i.prototype.setClasses=function(){var e=this;this.data.current(function(i){var n=t.map(i,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var e=t(this),i=t.data(this,"data"),o=""+i.id;null!=i.element&&i.element.selected||null==i.element&&t.inArray(o,n)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")})})},i.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),i={disabled:!0,loading:!0,text:e(t)},n=this.option(i);n.className+=" loading-results",this.$results.prepend(n)},
i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(e){var i=document.createElement("li");i.className="select2-results__option";var n={role:"treeitem","aria-selected":"false"};e.disabled&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==e.id&&delete n["aria-selected"],null!=e._resultId&&(i.id=e._resultId),e.title&&(i.title=e.title),e.children&&(n.role="group",n["aria-label"]=e.text,delete n["aria-selected"]);for(var o in n){var r=n[o];i.setAttribute(o,r)}if(e.children){var a=t(i),s=document.createElement("strong");s.className="select2-results__group";t(s);this.template(e,s);for(var l=[],h=0;h<e.children.length;h++){var c=e.children[h],u=this.option(c);l.push(u)}var d=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});d.append(l),a.append(s),a.append(d)}else this.template(e,i);return t.data(i,"data",e),i},i.prototype.bind=function(e,i){var n=this,o=e.id+"-results";this.$results.attr("id",o),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.hideMessages(),n.showLoading(t)}),e.on("select",function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(n.setClasses(),n.highlightFirstItem())}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close",{}):n.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var o=i-1;0===t.length&&(o=0);var r=e.eq(o);r.trigger("mouseenter");var a=n.$results.offset().top,s=r.offset().top,l=n.$results.scrollTop()+(s-a);0===o?n.$results.scrollTop(0):s-a<0&&n.$results.scrollTop(l)}}),e.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t),o=i+1;if(!(o>=e.length)){var r=e.eq(o);r.trigger("mouseenter");var a=n.$results.offset().top+n.$results.outerHeight(!1),s=r.offset().top+r.outerHeight(!1),l=n.$results.scrollTop()+s-a;0===o?n.$results.scrollTop(0):s>a&&n.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-e+t.deltaY,o=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&i<=n.$results.height();o?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var i=t(this),o=i.data("data");if("true"===i.attr("aria-selected"))return void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:o}):n.trigger("close",{}));n.trigger("select",{originalEvent:e,data:o})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(e){var i=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:i,element:t(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),i=e.index(t),n=this.$results.offset().top,o=t.offset().top,r=this.$results.scrollTop()+(o-n),a=o-n;r-=2*t.outerHeight(!1),i<=2?this.$results.scrollTop(0):(a>this.$results.outerHeight()||a<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(e,i){var n=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=n(e,i);null==r?i.style.display="none":"string"==typeof r?i.innerHTML=o(r):t(i).append(r)},i}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},n.prototype.bind=function(t,e){var n=this,o=(t.id,t.id+"-results");this.container=t,this.$selection.on("focus",function(t){n.trigger("focus",t)}),this.$selection.on("blur",function(t){n._handleBlur(t)}),this.$selection.on("keydown",function(t){n.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){n.update(t.data)}),t.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",o),n._attachCloseHandler(t)}),t.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.focus(),n._detachCloseHandler(t)}),t.on("enable",function(){n.$selection.attr("tabindex",n._tabindex)}),t.on("disable",function(){n.$selection.attr("tabindex","-1")})},n.prototype._handleBlur=function(e){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||t.contains(i.$selection[0],document.activeElement)||i.trigger("blur",e)},1)},n.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var i=t(e.target),n=i.closest(".select2");t(".select2.select2-container--open").each(function(){var e=t(this);this!=n[0]&&e.data("element").select2("close")})})},n.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},n.prototype.position=function(t,e){e.find(".selection").append(t)},n.prototype.destroy=function(){this._detachCloseHandler(this.container)},n.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},n}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,i,n){function o(){o.__super__.constructor.apply(this,arguments)}return i.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(t,e){var i=this;o.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&i.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("focus",function(e){t.isOpen()||i.$selection.focus()}),t.on("selection:update",function(t){i.update(t.data)})},o.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},o.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],i=this.$selection.find(".select2-selection__rendered"),n=this.display(e,i);i.empty().append(n),i.prop("title",e.title||e.text)},o}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,i){function n(t,e){n.__super__.constructor.apply(this,arguments)}return i.Extend(n,e),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(e,i){var o=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){o.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!o.options.get("disabled")){var i=t(this),n=i.parent(),r=n.data("data");o.trigger("unselect",{originalEvent:e,data:r})}})},n.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},n.prototype.display=function(t,e){var i=this.options.get("templateSelection");return this.options.get("escapeMarkup")(i(t,e))},n.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var o=t[n],r=this.selectionContainer(),a=this.display(o,r);r.append(a),r.prop("title",o.title||o.text),r.data("data",o),e.push(r)}var s=this.$selection.find(".select2-selection__rendered");i.appendMany(s,e)}},n}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var i=this.selectionContainer();return i.html(this.display(e)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},e.prototype.update=function(t,e){var i=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||i)return t.call(this,e);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},e}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function i(){}return i.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){n._handleClear(t)}),e.on("keypress",function(t){n._handleKeyboardClear(t,e)})},i.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();for(var n=i.data("data"),o=0;o<n.length;o++){var r={data:n[o]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle",{})}}},i.prototype._handleKeyboardClear=function(t,i,n){n.isOpen()||i.which!=e.DELETE&&i.which!=e.BACKSPACE||this._handleClear(i)},i.prototype.update=function(e,i){if(e.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var n=t('<span class="select2-selection__clear">&times;</span>');n.data("data",i),this.$selection.find(".select2-selection__rendered").prepend(n)}},i}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,i){function n(t,e,i){t.call(this,e,i)}return n.prototype.render=function(e){var i=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=i,this.$search=i.find("input");var n=e.call(this);return this._transferTabIndex(),n},n.prototype.bind=function(t,e,n){var o=this;t.call(this,e,n),e.on("open",function(){o.$search.trigger("focus")}),e.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),e.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),e.on("disable",function(){o.$search.prop("disabled",!0)}),e.on("focus",function(t){o.$search.trigger("focus")}),e.on("results:focus",function(t){o.$search.attr("aria-activedescendant",t.id)}),this.$selection.on("focusin",".select2-search--inline",function(t){o.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){o._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented(),t.which===i.BACKSPACE&&""===o.$search.val()){var e=o.$searchContainer.prev(".select2-selection__choice");if(e.length>0){var n=e.data("data");o.searchRemoveChoice(n),t.preventDefault()}}});var r=document.documentMode,a=r&&r<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){if(a)return void o.$selection.off("input.search input.searchcheck");o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(a&&"input"===t.type)return void o.$selection.off("input.search input.searchcheck");var e=t.which;e!=i.SHIFT&&e!=i.CTRL&&e!=i.ALT&&e!=i.TAB&&o.handleSearch(t)})},n.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},n.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},n.prototype.update=function(t,e){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),i&&this.$search.focus()},n.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},n.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{t=.75*(this.$search.val().length+1)+"em"}this.$search.css("width",t)},n}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,i,n){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],a=["opening","closing","selecting","unselecting"];e.call(this,i,n),i.on("*",function(e,i){if(-1!==t.inArray(e,r)){i=i||{};var n=t.Event("select2:"+e,{params:i});o.$element.trigger(n),-1!==t.inArray(e,a)&&(i.prevented=n.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function i(t){this.dict=t||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(t){return this.dict[t]},i.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},i._cache={},i.loadPath=function(t){if(!(t in i._cache)){var n=e(t);i._cache[t]=n}return new i(i._cache[t])},i}),e.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"}}),e.define("select2/data/base",["../utils"],function(t){function e(t,i){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,i){var n=e.id+"-result-";return n+=t.generateChars(4),null!=i.id?n+="-"+i.id.toString():n+="-"+t.generateChars(4),n},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,i){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,t),n.prototype.current=function(t){var e=[],n=this;this.$element.find(":selected").each(function(){var t=i(this),o=n.item(t);e.push(o)}),t(e)},n.prototype.select=function(t){var e=this;if(t.selected=!0,i(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(n){var o=[];t=[t],t.push.apply(t,n);for(var r=0;r<t.length;r++){var a=t[r].id;-1===i.inArray(a,o)&&o.push(a)}e.$element.val(o),e.$element.trigger("change")});else{var n=t.id;this.$element.val(n),this.$element.trigger("change")}},n.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,i(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("change");this.current(function(n){for(var o=[],r=0;r<n.length;r++){var a=n[r].id;a!==t.id&&-1===i.inArray(a,o)&&o.push(a)}e.$element.val(o),e.$element.trigger("change")})}},n.prototype.bind=function(t,e){var i=this;this.container=t,t.on("select",function(t){i.select(t.data)}),t.on("unselect",function(t){i.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},n.prototype.query=function(t,e){var n=[],o=this;this.$element.children().each(function(){var e=i(this);if(e.is("option")||e.is("optgroup")){var r=o.item(e),a=o.matches(t,r);null!==a&&n.push(a)}}),e({results:n})},n.prototype.addOptions=function(t){e.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=i(e),o=this._normalizeItem(t);return o.element=e,i.data(e,"data",o),n},n.prototype.item=function(t){var e={};if(null!=(e=i.data(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),o=[],r=0;r<n.length;r++){var a=i(n[r]),s=this.item(a);o.push(s)}e.children=o}return e=this._normalizeItem(e),e.element=t[0],i.data(t[0],"data",e),e},n.prototype._normalizeItem=function(t){i.isPlainObject(t)||(t={id:t,text:t}),t=i.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),i.extend({},e,t)},n.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},n}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,i){function n(t,e){var i=e.get("data")||[];n.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(i))}return e.Extend(n,t),n.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,i){return i.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),n.__super__.select.call(this,t)},n.prototype.convertToOptions=function(t){for(var n=this,o=this.$element.find("option"),r=o.map(function(){return n.item(i(this)).id}).get(),a=[],s=0;s<t.length;s++){var l=this._normalizeItem(t[s]);if(i.inArray(l.id,r)>=0){var h=o.filter(function(t){return function(){return i(this).val()==t.id}}(l)),c=this.item(h),u=i.extend(!0,{},l,c),d=this.option(u);h.replaceWith(d)}else{var f=this.option(l);if(l.children){var p=this.convertToOptions(l.children);e.appendMany(f,p)}a.push(f)}}return a},n}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,i){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return i.extend({},t,{q:t.term})},transport:function(t,e,n){var o=i.ajax(t);return o.then(e),o.fail(n),o}};return i.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(t,e){function n(){var n=r.transport(r,function(n){var r=o.processResults(n,t);o.options.get("debug")&&window.console&&console.error&&(r&&r.results&&i.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(r)},function(){n.status&&"0"===n.status||o.trigger("results:message",{message:"errorLoading"})});o._request=n}var o=this;null!=this._request&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=i.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url.call(this.$element,t)),"function"==typeof r.data&&(r.data=r.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(n,this.ajaxOptions.delay)):n()},n}),e.define("select2/data/tags",["jquery"],function(t){function e(e,i,n){var o=n.get("tags"),r=n.get("createTag");void 0!==r&&(this.createTag=r);var a=n.get("insertTag");if(void 0!==a&&(this.insertTag=a),e.call(this,i,n),t.isArray(o))for(var s=0;s<o.length;s++){var l=o[s],h=this._normalizeItem(l),c=this.option(h);this.$element.append(c)}}return e.prototype.query=function(t,e,i){function n(t,r){for(var a=t.results,s=0;s<a.length;s++){var l=a[s],h=null!=l.children&&!n({results:l.children},!0);if(l.text===e.term||h)return!r&&(t.data=a,void i(t))}if(r)return!0;var c=o.createTag(e);if(null!=c){var u=o.option(c);u.attr("data-select2-tag",!0),o.addOptions([u]),o.insertTag(a,c)}t.results=a,i(t)}var o=this;if(this._removeOldTags(),null==e.term||null!=e.page)return void t.call(this,e,i);t.call(this,e,n)},e.prototype.createTag=function(e,i){var n=t.trim(i.term);return""===n?null:{id:n,text:n}},e.prototype.insertTag=function(t,e,i){e.unshift(i)},e.prototype._removeOldTags=function(e){this._lastTag;this.$element.find("option[data-select2-tag]").each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,i){var n=i.get("tokenizer");void 0!==n&&(this.tokenizer=n),t.call(this,e,i)}return e.prototype.bind=function(t,e,i){t.call(this,e,i),this.$search=e.dropdown.$search||e.selection.$search||i.find(".select2-search__field")},e.prototype.query=function(e,i,n){function o(e){var i=a._normalizeItem(e);if(!a.$element.find("option").filter(function(){return t(this).val()===i.id}).length){var n=a.option(i);n.attr("data-select2-tag",!0),a._removeOldTags(),a.addOptions([n])}r(i)}function r(t){a.trigger("select",{data:t})}var a=this;i.term=i.term||"";var s=this.tokenizer(i,this.options,o);s.term!==i.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),i.term=s.term),e.call(this,i,n)},e.prototype.tokenizer=function(e,i,n,o){for(var r=n.get("tokenSeparators")||[],a=i.term,s=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};s<a.length;){var h=a[s];if(-1!==t.inArray(h,r)){var c=a.substr(0,s),u=t.extend({},i,{term:c}),d=l(u);null!=d?(o(d),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,i){this.minimumInputLength=i.get("minimumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){if(e.term=e.term||"",e.term.length<this.minimumInputLength)return void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}});t.call(this,e,i)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,i){this.maximumInputLength=i.get("maximumInputLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){if(e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength)return void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}});t.call(this,e,i)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,i){this.maximumSelectionLength=i.get("maximumSelectionLength"),t.call(this,e,i)}return t.prototype.query=function(t,e,i){var n=this;this.current(function(o){var r=null!=o?o.length:0;if(n.maximumSelectionLength>0&&r>=n.maximumSelectionLength)return void n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}});t.call(n,e,i)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function i(t,e){
this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},i.prototype.bind=function(){},i.prototype.position=function(t,e){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function i(){}return i.prototype.render=function(e){var i=e.call(this),n=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),i.prepend(n),i},i.prototype.bind=function(e,i,n){var o=this;e.call(this,i,n),this.$search.on("keydown",function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){o.handleSearch(t)}),i.on("open",function(){o.$search.attr("tabindex",0),o.$search.focus(),window.setTimeout(function(){o.$search.focus()},0)}),i.on("close",function(){o.$search.attr("tabindex",-1),o.$search.val("")}),i.on("focus",function(){i.isOpen()&&o.$search.focus()}),i.on("results:all",function(t){if(null==t.query.term||""===t.query.term){o.showSearch(t)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide")}})},i.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.showSearch=function(t,e){return!0},i}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,i,n){this.placeholder=this.normalizePlaceholder(i.get("placeholder")),t.call(this,e,i,n)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var i=e.slice(0),n=e.length-1;n>=0;n--){var o=e[n];this.placeholder.id===o.id&&i.splice(n,1)}return i},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,i,n){this.lastParams={},t.call(this,e,i,n),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,i,n){var o=this;e.call(this,i,n),i.on("query",function(t){o.lastParams=t,o.loading=!0}),i.on("query:append",function(t){o.lastParams=t,o.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,o.$loadingMore[0]);if(!o.loading&&e){o.$results.offset().top+o.$results.outerHeight(!1)+50>=o.$loadingMore.offset().top+o.$loadingMore.outerHeight(!1)&&o.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),i=this.options.get("translations").get("loadingMore");return e.html(i(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function i(e,i,n){this.$dropdownParent=n.get("dropdownParent")||t(document.body),e.call(this,i,n)}return i.prototype.bind=function(t,e,i){var n=this,o=!1;t.call(this,e,i),e.on("open",function(){n._showDropdown(),n._attachPositioningHandler(e),o||(o=!0,e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}))}),e.on("close",function(){n._hideDropdown(),n._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},i.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},i.prototype.position=function(t,e,i){e.attr("class",i.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=i},i.prototype.render=function(e){var i=t("<span></span>"),n=e.call(this);return i.append(n),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,n){var o=this,r="scroll.select2."+n.id,a="resize.select2."+n.id,s="orientationchange.select2."+n.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(r,function(e){var i=t(this).data("select2-scroll-position");t(this).scrollTop(i.y)}),t(window).on(r+" "+a+" "+s,function(t){o._positionDropdown(),o._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,n){var o="scroll.select2."+n.id,r="resize.select2."+n.id,a="orientationchange.select2."+n.id;this.$container.parents().filter(e.hasScroll).off(o),t(window).off(o+" "+r+" "+a)},i.prototype._positionDropdown=function(){var e=t(window),i=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=r.top,a.bottom=r.top+a.height;var s={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},h=l.top<r.top-s.height,c=l.bottom>r.bottom+s.height,u={left:r.left,top:a.bottom},d=this.$dropdownParent;"static"===d.css("position")&&(d=d.offsetParent());var f=d.offset();u.top-=f.top,u.left-=f.left,i||n||(o="below"),c||!h||i?!h&&c&&i&&(o="below"):o="above",("above"==o||i&&"below"!==o)&&(u.top=a.top-f.top-s.height),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(u)},i.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},i.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},i}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var i=0,n=0;n<e.length;n++){var o=e[n];o.children?i+=t(o.children):i++}return i}function e(t,e,i,n){this.minimumResultsForSearch=i.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,i,n)}return e.prototype.showSearch=function(e,i){return!(t(i.data.results)<this.minimumResultsForSearch)&&e.call(this,i)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("close",function(t){n._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var i=e.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var n=this.getHighlightedResults();if(!(n.length<1)){var o=n.data("data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,i){var n=this;t.call(this,e,i),e.on("select",function(t){n._selectTriggered(t)}),e.on("unselect",function(t){n._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var i=e.originalEvent;i&&i.ctrlKey||this.trigger("close",{originalEvent:i,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,i="Please delete "+e+" character";return 1!=e&&(i+="s"),i},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,i,n,o,r,a,s,l,h,c,u,d,f,p,g,m,v,y,_,x,w,b,S,D,M,C,T,I){function A(){this.reset()}return A.prototype.apply=function(u){if(u=t.extend(!0,{},this.defaults,u),null==u.dataAdapter){if(null!=u.ajax?u.dataAdapter=p:null!=u.data?u.dataAdapter=f:u.dataAdapter=d,u.minimumInputLength>0&&(u.dataAdapter=h.Decorate(u.dataAdapter,v)),u.maximumInputLength>0&&(u.dataAdapter=h.Decorate(u.dataAdapter,y)),u.maximumSelectionLength>0&&(u.dataAdapter=h.Decorate(u.dataAdapter,_)),u.tags&&(u.dataAdapter=h.Decorate(u.dataAdapter,g)),null==u.tokenSeparators&&null==u.tokenizer||(u.dataAdapter=h.Decorate(u.dataAdapter,m)),null!=u.query){var I=e(u.amdBase+"compat/query");u.dataAdapter=h.Decorate(u.dataAdapter,I)}if(null!=u.initSelection){var A=e(u.amdBase+"compat/initSelection");u.dataAdapter=h.Decorate(u.dataAdapter,A)}}if(null==u.resultsAdapter&&(u.resultsAdapter=i,null!=u.ajax&&(u.resultsAdapter=h.Decorate(u.resultsAdapter,S)),null!=u.placeholder&&(u.resultsAdapter=h.Decorate(u.resultsAdapter,b)),u.selectOnClose&&(u.resultsAdapter=h.Decorate(u.resultsAdapter,C))),null==u.dropdownAdapter){if(u.multiple)u.dropdownAdapter=x;else{var k=h.Decorate(x,w);u.dropdownAdapter=k}if(0!==u.minimumResultsForSearch&&(u.dropdownAdapter=h.Decorate(u.dropdownAdapter,M)),u.closeOnSelect&&(u.dropdownAdapter=h.Decorate(u.dropdownAdapter,T)),null!=u.dropdownCssClass||null!=u.dropdownCss||null!=u.adaptDropdownCssClass){var E=e(u.amdBase+"compat/dropdownCss");u.dropdownAdapter=h.Decorate(u.dropdownAdapter,E)}u.dropdownAdapter=h.Decorate(u.dropdownAdapter,D)}if(null==u.selectionAdapter){if(u.multiple?u.selectionAdapter=o:u.selectionAdapter=n,null!=u.placeholder&&(u.selectionAdapter=h.Decorate(u.selectionAdapter,r)),u.allowClear&&(u.selectionAdapter=h.Decorate(u.selectionAdapter,a)),u.multiple&&(u.selectionAdapter=h.Decorate(u.selectionAdapter,s)),null!=u.containerCssClass||null!=u.containerCss||null!=u.adaptContainerCssClass){var L=e(u.amdBase+"compat/containerCss");u.selectionAdapter=h.Decorate(u.selectionAdapter,L)}u.selectionAdapter=h.Decorate(u.selectionAdapter,l)}if("string"==typeof u.language)if(u.language.indexOf("-")>0){var O=u.language.split("-"),P=O[0];u.language=[u.language,P]}else u.language=[u.language];if(t.isArray(u.language)){var N=new c;u.language.push("en");for(var R=u.language,z=0;z<R.length;z++){var B=R[z],H={};try{H=c.loadPath(B)}catch(t){try{B=this.defaults.amdLanguageBase+B,H=c.loadPath(B)}catch(t){u.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+B+'" could not be automatically loaded. A fallback will be used instead.');continue}}N.extend(H)}u.translations=N}else{var V=c.loadPath(this.defaults.amdLanguageBase+"en"),W=new c(u.language);W.extend(V),u.translations=W}return u},A.prototype.reset=function(){function e(t){function e(t){return u[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function i(n,o){if(""===t.trim(n.term))return o;if(o.children&&o.children.length>0){for(var r=t.extend(!0,{},o),a=o.children.length-1;a>=0;a--){null==i(n,o.children[a])&&r.children.splice(a,1)}return r.children.length>0?r:i(n,r)}var s=e(o.text).toUpperCase(),l=e(n.term).toUpperCase();return s.indexOf(l)>-1?o:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:I,matcher:i,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},A.prototype.set=function(e,i){var n=t.camelCase(e),o={};o[n]=i;var r=h._convertData(o);t.extend(this.defaults,r)},new A}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,i,n){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),this.options=i.apply(this.options),o&&o.is("input")){var r=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=n.Decorate(this.options.dataAdapter,r)}}return o.prototype.fromElement=function(t){var i=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var o={};o=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var r=e.extend(!0,{},o);r=n._convertData(r);for(var a in r)e.inArray(a,i)>-1||(e.isPlainObject(this.options[a])?e.extend(this.options[a],r[a]):this.options[a]=r[a]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,i,n){var o=function(t,i){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),i=i||{},this.options=new e(i,t),o.__super__.constructor.call(this);var n=t.attr("tabindex")||0;t.data("old-tabindex",n),t.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(t,this.options);var a=this.render();this._placeContainer(a);var s=this.options.get("selectionAdapter");this.selection=new s(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,a);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,a);var h=this.options.get("resultsAdapter");this.results=new h(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var c=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){c.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return i.Extend(o,i.Observable),o.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+i.generateChars(2):i.generateChars(4),e=e.replace(/(:|\.|\[|\]|,)/g,""),e="select2-"+e},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var i=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var n=this._resolveWidth(t,"style");return null!=n?n:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==e){var r=t.attr("style");if("string"!=typeof r)return null;for(var a=r.split(";"),s=0,l=a.length;s<l;s+=1){var h=a[s].replace(/\s/g,""),c=h.match(i);if(null!==c&&c.length>=1)return c[1]}return null}return e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=i.bind(this._syncAttributes,this),this._syncS=i.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=n?(this._observer=new n(function(i){t.each(i,e._syncA),t.each(i,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerSelectionEvents=function(){var e=this,i=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(n,o){-1===t.inArray(n,i)&&e.trigger(n,o)})},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,i){t.trigger(e,i)})},o.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(i){t.trigger("results:all",{data:i,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(i){t.trigger("results:append",{data:i,query:e})})}),this.on("keypress",function(e){var i=e.which;t.isOpen()?i===n.ESC||i===n.TAB||i===n.UP&&e.altKey?(t.close(),e.preventDefault()):i===n.ENTER?(t.trigger("results:select",{}),e.preventDefault()):i===n.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):i===n.UP?(t.trigger("results:previous",{}),e.preventDefault()):i===n.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(i===n.ENTER||i===n.SPACE||i===n.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._syncSubtree=function(t,e){var i=!1,n=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var o=0;o<e.addedNodes.length;o++){var r=e.addedNodes[o];r.selected&&(i=!0)}else e.removedNodes&&e.removedNodes.length>0&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(t){n.trigger("selection:update",{data:t})})}},o.prototype.trigger=function(t,e){var i=o.__super__.trigger,n={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(void 0===e&&(e={}),t in n){var r=n[t],a={prevented:!1,name:t,args:e};if(i.call(this,r,a),a.prevented)return void(e.prevented=!0)}i.call(this,t,e)},o.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.trigger("query",{})},o.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var i=e[0];t.isArray(i)&&(i=t.map(i,function(t){return t.toString()})),this.$element.val(i).trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},o}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(t,e,i,n){if(null==t.fn.select2){var o=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var n=t.extend(!0,{},e);new i(t(this),n)}),this;if("string"==typeof e){var n,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=t(this).data("select2");null==i&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),n=i[e].apply(i,r)}),t.inArray(e,o)>-1?this:n}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=n),i}),{define:e.define,require:e.require}}(),i=e.require("jquery.select2");return t.fn.select2.amd=e,i}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self,t.Cropper=e())}(this,function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t){return r(t)||a(t)||s()}function r(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function a(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(t){return"number"==typeof t&&!dt(t)}function h(t){return void 0===t}function c(e){return"object"===t(e)&&null!==e}function u(t){if(!c(t))return!1;try{var e=t.constructor,i=e.prototype;return e&&i&&pt.call(i,"isPrototypeOf")}catch(t){return!1}}function d(t){return"function"==typeof t}function f(t){return Array.from?Array.from(t):gt.call(t)}function p(t,e){return t&&d(e)&&(Array.isArray(t)||l(t.length)?f(t).forEach(function(i,n){e.call(t,i,n,t)}):c(t)&&Object.keys(t).forEach(function(i){e.call(t,t[i],i,t)})),t}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return vt.test(t)?Math.round(t*e)/e:t}function m(t,e){var i=t.style;p(e,function(t,e){yt.test(e)&&l(t)&&(t="".concat(t,"px")),i[e]=t})}function v(t,e){return t.classList?t.classList.contains(e):t.className.indexOf(e)>-1}function y(t,e){if(e){if(l(t.length))return void p(t,function(t){y(t,e)});if(t.classList)return void t.classList.add(e);var i=t.className.trim();i?i.indexOf(e)<0&&(t.className="".concat(i," ").concat(e)):t.className=e}}function _(t,e){if(e)return l(t.length)?void p(t,function(t){_(t,e)}):t.classList?void t.classList.remove(e):void(t.className.indexOf(e)>=0&&(t.className=t.className.replace(e,"")))}function x(t,e,i){if(e)return l(t.length)?void p(t,function(t){x(t,e,i)}):void(i?y(t,e):_(t,e))}function w(t){return t.replace(_t,"$1-$2").toLowerCase()}function b(t,e){return c(t[e])?t[e]:t.dataset?t.dataset[e]:t.getAttribute("data-".concat(w(e)))}function S(t,e,i){c(i)?t[e]=i:t.dataset?t.dataset[e]=i:t.setAttribute("data-".concat(w(e)),i)}function D(t,e){if(c(t[e]))try{delete t[e]}catch(i){t[e]=void 0}else if(t.dataset)try{delete t.dataset[e]}catch(i){t.dataset[e]=void 0}else t.removeAttribute("data-".concat(w(e)))}function M(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;e.trim().split(xt).forEach(function(e){if(!wt){var r=t.listeners;r&&r[e]&&r[e][i]&&(o=r[e][i],delete r[e][i],0===Object.keys(r[e]).length&&delete r[e],0===Object.keys(r).length&&delete t.listeners)}t.removeEventListener(e,o,n)})}function C(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i;e.trim().split(xt).forEach(function(e){if(n.once&&!wt){var r=t.listeners,a=void 0===r?{}:r;o=function(){delete a[e][i],t.removeEventListener(e,o,n);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];i.apply(t,s)},a[e]||(a[e]={}),a[e][i]&&t.removeEventListener(e,a[e][i],n),a[e][i]=o,t.listeners=a}t.addEventListener(e,o,n)})}function T(t,e,i){var n;return d(Event)&&d(CustomEvent)?n=new CustomEvent(e,{detail:i,bubbles:!0,cancelable:!0}):(n=document.createEvent("CustomEvent"),n.initCustomEvent(e,!0,!0,i)),t.dispatchEvent(n)}function I(t){var e=t.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}function A(t){var e=t.match(St);return null!==e&&(e[1]!==bt.protocol||e[2]!==bt.hostname||e[3]!==bt.port)}function k(t){var e="timestamp=".concat((new Date).getTime());return t+(-1===t.indexOf("?")?"?":"&")+e}function E(t){var e=t.rotate,i=t.scaleX,n=t.scaleY,o=t.translateX,r=t.translateY,a=[];l(o)&&0!==o&&a.push("translateX(".concat(o,"px)")),l(r)&&0!==r&&a.push("translateY(".concat(r,"px)")),l(e)&&0!==e&&a.push("rotate(".concat(e,"deg)")),l(i)&&1!==i&&a.push("scaleX(".concat(i,")")),l(n)&&1!==n&&a.push("scaleY(".concat(n,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function L(t){var e=mt({},t),i=[];return p(t,function(t,n){delete e[n],p(e,function(e){var n=Math.abs(t.startX-e.startX),o=Math.abs(t.startY-e.startY),r=Math.abs(t.endX-e.endX),a=Math.abs(t.endY-e.endY),s=Math.sqrt(n*n+o*o),l=Math.sqrt(r*r+a*a),h=(l-s)/s;i.push(h)})}),i.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),i[0]}function O(t,e){var i=t.pageX,n=t.pageY,o={endX:i,endY:n};return e?o:mt({startX:i,startY:n},o)}function P(t){var e=0,i=0,n=0;return p(t,function(t){var o=t.startX,r=t.startY;e+=o,i+=r,n+=1}),e/=n,i/=n,{pageX:e,pageY:i}}function N(t){var e=t.aspectRatio,i=t.height,n=t.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",r=ft(n),a=ft(i);if(r&&a){var s=i*e;"contain"===o&&s>n||"cover"===o&&s<n?i=n/e:n=i*e}else r?i=n/e:a&&(n=i*e);return{width:n,height:i}}function R(t){var e=t.width,i=t.height,n=t.degree;if(90===(n=Math.abs(n)%180))return{width:i,height:e};var o=n%90*Math.PI/180,r=Math.sin(o),a=Math.cos(o),s=e*a+i*r,l=e*r+i*a;return n>90?{width:l,height:s}:{width:s,height:l}}function z(t,e,i,n){var r=e.aspectRatio,a=e.naturalWidth,s=e.naturalHeight,l=e.rotate,h=void 0===l?0:l,c=e.scaleX,u=void 0===c?1:c,d=e.scaleY,f=void 0===d?1:d,p=i.aspectRatio,m=i.naturalWidth,v=i.naturalHeight,y=n.fillColor,_=void 0===y?"transparent":y,x=n.imageSmoothingEnabled,w=void 0===x||x,b=n.imageSmoothingQuality,S=void 0===b?"low":b,D=n.maxWidth,M=void 0===D?1/0:D,C=n.maxHeight,T=void 0===C?1/0:C,I=n.minWidth,A=void 0===I?0:I,k=n.minHeight,E=void 0===k?0:k,L=document.createElement("canvas"),O=L.getContext("2d"),P=N({aspectRatio:p,width:M,height:T}),R=N({aspectRatio:p,width:A,height:E},"cover"),z=Math.min(P.width,Math.max(R.width,m)),B=Math.min(P.height,Math.max(R.height,v)),H=N({aspectRatio:r,width:M,height:T}),V=N({aspectRatio:r,width:A,height:E},"cover"),W=Math.min(H.width,Math.max(V.width,a)),F=Math.min(H.height,Math.max(V.height,s)),$=[-W/2,-F/2,W,F];return L.width=g(z),L.height=g(B),O.fillStyle=_,O.fillRect(0,0,z,B),O.save(),O.translate(z/2,B/2),O.rotate(h*Math.PI/180),O.scale(u,f),O.imageSmoothingEnabled=w,O.imageSmoothingQuality=S,O.drawImage.apply(O,[t].concat(o($.map(function(t){return Math.floor(g(t))})))),O.restore(),L}function B(t,e,i){var n="";i+=e;for(var o=e;o<i;o+=1)n+=Dt(t.getUint8(o));return n}function H(t){var e=t.replace(Mt,""),i=atob(e),n=new ArrayBuffer(i.length),o=new Uint8Array(n);return p(o,function(t,e){o[e]=i.charCodeAt(e)}),n}function V(t,e){for(var i=[],n=new Uint8Array(t);n.length>0;)i.push(Dt.apply(null,f(n.subarray(0,8192)))),n=n.subarray(8192)
;return"data:".concat(e,";base64,").concat(btoa(i.join("")))}function W(t){var e,i=new DataView(t);try{var n,o,r;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var a=i.byteLength,s=2;s+1<a;){if(255===i.getUint8(s)&&225===i.getUint8(s+1)){o=s;break}s+=1}if(o){var l=o+4,h=o+10;if("Exif"===B(i,l,4)){var c=i.getUint16(h);if(((n=18761===c)||19789===c)&&42===i.getUint16(h+2,n)){var u=i.getUint32(h+4,n);u>=8&&(r=h+u)}}}if(r){var d,f,p=i.getUint16(r,n);for(f=0;f<p;f+=1)if(d=r+12*f+2,274===i.getUint16(d,n)){d+=8,e=i.getUint16(d,n),i.setUint16(d,1,n);break}}}catch(t){e=1}return e}function F(t){var e=0,i=1,n=1;switch(t){case 2:i=-1;break;case 3:e=-180;break;case 4:n=-1;break;case 5:e=90,n=-1;break;case 6:e=90;break;case 7:e=90,i=-1;break;case 8:e=-90}return{rotate:e,scaleX:i,scaleY:n}}var $="undefined"!=typeof window,G=$?window:{},j=!!$&&"ontouchstart"in G.document.documentElement,Y=!!$&&"PointerEvent"in G,U="".concat("cropper","-crop"),q="".concat("cropper","-disabled"),Z="".concat("cropper","-hidden"),X="".concat("cropper","-hide"),K="".concat("cropper","-invisible"),Q="".concat("cropper","-modal"),J="".concat("cropper","-move"),tt="".concat("cropper","Action"),et="".concat("cropper","Preview"),it=j?"touchstart":"mousedown",nt=j?"touchmove":"mousemove",ot=j?"touchend touchcancel":"mouseup",rt=Y?"pointerdown":it,at=Y?"pointermove":nt,st=Y?"pointerup pointercancel":ot,lt=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,ht=/^data:image\/jpeg;base64,/,ct=/^img|canvas$/i,ut={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},dt=Number.isNaN||G.isNaN,ft=function(t){return t>0&&t<1/0},pt=Object.prototype.hasOwnProperty,gt=Array.prototype.slice,mt=Object.assign||function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return c(t)&&i.length>0&&i.forEach(function(e){c(e)&&Object.keys(e).forEach(function(i){t[i]=e[i]})}),t},vt=/\.\d*(?:0|9){12}\d*$/,yt=/^width|height|left|top|marginLeft|marginTop$/,_t=/([a-z\d])([A-Z])/g,xt=/\s\s*/,wt=function(){var t=!1;if($){var e=!1,i=function(){},n=Object.defineProperty({},"once",{get:function(){return t=!0,e},set:function(t){e=t}});G.addEventListener("test",i,n),G.removeEventListener("test",i,n)}return t}(),bt=G.location,St=/^(\w+:)\/\/([^:\/?#]*):?(\d*)/i,Dt=String.fromCharCode,Mt=/^data:.*,/,Ct={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.element,e=this.options,i=this.container,n=this.cropper;y(n,Z),_(t,Z);var o={width:Math.max(i.offsetWidth,Number(e.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(e.minContainerHeight)||100)};this.containerData=o,m(n,{width:o.width,height:o.height}),y(t,Z),_(n,Z)},initCanvas:function(){var t=this.containerData,e=this.imageData,i=this.options.viewMode,n=Math.abs(e.rotate)%180==90,o=n?e.naturalHeight:e.naturalWidth,r=n?e.naturalWidth:e.naturalHeight,a=o/r,s=t.width,l=t.height;t.height*a>t.width?3===i?s=t.height*a:l=t.width/a:3===i?l=t.width/a:s=t.height*a;var h={aspectRatio:a,naturalWidth:o,naturalHeight:r,width:s,height:l};h.left=(t.width-s)/2,h.top=(t.height-l)/2,h.oldLeft=h.left,h.oldTop=h.top,this.canvasData=h,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImageData=mt({},e),this.initialCanvasData=mt({},h)},limitCanvas:function(t,e){var i=this.options,n=this.containerData,o=this.canvasData,r=this.cropBoxData,a=i.viewMode,s=o.aspectRatio,l=this.cropped&&r;if(t){var h=Number(i.minCanvasWidth)||0,c=Number(i.minCanvasHeight)||0;a>1?(h=Math.max(h,n.width),c=Math.max(c,n.height),3===a&&(c*s>h?h=c*s:c=h/s)):a>0&&(h?h=Math.max(h,l?r.width:0):c?c=Math.max(c,l?r.height:0):l&&(h=r.width,c=r.height,c*s>h?h=c*s:c=h/s));var u=N({aspectRatio:s,width:h,height:c});h=u.width,c=u.height,o.minWidth=h,o.minHeight=c,o.maxWidth=1/0,o.maxHeight=1/0}if(e)if(a>(l?0:1)){var d=n.width-o.width,f=n.height-o.height;o.minLeft=Math.min(0,d),o.minTop=Math.min(0,f),o.maxLeft=Math.max(0,d),o.maxTop=Math.max(0,f),l&&this.limited&&(o.minLeft=Math.min(r.left,r.left+(r.width-o.width)),o.minTop=Math.min(r.top,r.top+(r.height-o.height)),o.maxLeft=r.left,o.maxTop=r.top,2===a&&(o.width>=n.width&&(o.minLeft=Math.min(0,d),o.maxLeft=Math.max(0,d)),o.height>=n.height&&(o.minTop=Math.min(0,f),o.maxTop=Math.max(0,f))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=n.width,o.maxTop=n.height},renderCanvas:function(t,e){var i=this.canvasData,n=this.imageData;if(e){var o=R({width:n.naturalWidth*Math.abs(n.scaleX||1),height:n.naturalHeight*Math.abs(n.scaleY||1),degree:n.rotate||0}),r=o.width,a=o.height,s=i.width*(r/i.naturalWidth),l=i.height*(a/i.naturalHeight);i.left-=(s-i.width)/2,i.top-=(l-i.height)/2,i.width=s,i.height=l,i.aspectRatio=r/a,i.naturalWidth=r,i.naturalHeight=a,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,m(this.canvas,mt({width:i.width,height:i.height},E({translateX:i.left,translateY:i.top}))),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvasData,i=this.imageData,n=i.naturalWidth*(e.width/e.naturalWidth),o=i.naturalHeight*(e.height/e.naturalHeight);mt(i,{width:n,height:o,left:(e.width-n)/2,top:(e.height-o)/2}),m(this.image,mt({width:i.width,height:i.height},E(mt({translateX:i.left,translateY:i.top},i)))),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvasData,i=t.aspectRatio||t.initialAspectRatio,n=Number(t.autoCropArea)||.8,o={width:e.width,height:e.height};i&&(e.height*i>e.width?o.height=o.width/i:o.width=o.height*i),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*n),o.height=Math.max(o.minHeight,o.height*n),o.left=e.left+(e.width-o.width)/2,o.top=e.top+(e.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=mt({},o)},limitCropBox:function(t,e){var i=this.options,n=this.containerData,o=this.canvasData,r=this.cropBoxData,a=this.limited,s=i.aspectRatio;if(t){var l=Number(i.minCropBoxWidth)||0,h=Number(i.minCropBoxHeight)||0,c=a?Math.min(n.width,o.width,o.width+o.left,n.width-o.left):n.width,u=a?Math.min(n.height,o.height,o.height+o.top,n.height-o.top):n.height;l=Math.min(l,n.width),h=Math.min(h,n.height),s&&(l&&h?h*s>l?h=l/s:l=h*s:l?h=l/s:h&&(l=h*s),u*s>c?u=c/s:c=u*s),r.minWidth=Math.min(l,c),r.minHeight=Math.min(h,u),r.maxWidth=c,r.maxHeight=u}e&&(a?(r.minLeft=Math.max(0,o.left),r.minTop=Math.max(0,o.top),r.maxLeft=Math.min(n.width,o.left+o.width)-r.width,r.maxTop=Math.min(n.height,o.top+o.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=n.width-r.width,r.maxTop=n.height-r.height))},renderCropBox:function(){var t=this.options,e=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,t.movable&&t.cropBoxMovable&&S(this.face,tt,i.width>=e.width&&i.height>=e.height?"move":"all"),m(this.cropBox,mt({width:i.width,height:i.height},E({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),T(this.element,"crop",this.getData())}},Tt={initPreview:function(){var t=this.crossOrigin,e=this.options.preview,i=t?this.crossOriginUrl:this.url,n=document.createElement("img");if(t&&(n.crossOrigin=t),n.src=i,this.viewBox.appendChild(n),this.viewBoxImage=n,e){var o=e;"string"==typeof e?o=this.element.ownerDocument.querySelectorAll(e):e.querySelector&&(o=[e]),this.previews=o,p(o,function(e){var n=document.createElement("img");S(e,et,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=i,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)})}},resetPreview:function(){p(this.previews,function(t){var e=b(t,et);m(t,{width:e.width,height:e.height}),t.innerHTML=e.html,D(t,et)})},preview:function(){var t=this.imageData,e=this.canvasData,i=this.cropBoxData,n=i.width,o=i.height,r=t.width,a=t.height,s=i.left-e.left-t.left,l=i.top-e.top-t.top;this.cropped&&!this.disabled&&(m(this.viewBoxImage,mt({width:r,height:a},E(mt({translateX:-s,translateY:-l},t)))),p(this.previews,function(e){var i=b(e,et),h=i.width,c=i.height,u=h,d=c,f=1;n&&(f=h/n,d=o*f),o&&d>c&&(f=c/o,u=n*f,d=c),m(e,{width:u,height:d}),m(e.getElementsByTagName("img")[0],mt({width:r*f,height:a*f},E(mt({translateX:-s*f,translateY:-l*f},t))))}))}},It={bind:function(){var t=this.element,e=this.options,i=this.cropper;d(e.cropstart)&&C(t,"cropstart",e.cropstart),d(e.cropmove)&&C(t,"cropmove",e.cropmove),d(e.cropend)&&C(t,"cropend",e.cropend),d(e.crop)&&C(t,"crop",e.crop),d(e.zoom)&&C(t,"zoom",e.zoom),C(i,rt,this.onCropStart=this.cropStart.bind(this)),e.zoomable&&e.zoomOnWheel&&C(i,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&C(i,"dblclick",this.onDblclick=this.dblclick.bind(this)),C(t.ownerDocument,at,this.onCropMove=this.cropMove.bind(this)),C(t.ownerDocument,st,this.onCropEnd=this.cropEnd.bind(this)),e.responsive&&C(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var t=this.element,e=this.options,i=this.cropper;d(e.cropstart)&&M(t,"cropstart",e.cropstart),d(e.cropmove)&&M(t,"cropmove",e.cropmove),d(e.cropend)&&M(t,"cropend",e.cropend),d(e.crop)&&M(t,"crop",e.crop),d(e.zoom)&&M(t,"zoom",e.zoom),M(i,rt,this.onCropStart),e.zoomable&&e.zoomOnWheel&&M(i,"wheel",this.onWheel,{passive:!1,capture:!0}),e.toggleDragModeOnDblclick&&M(i,"dblclick",this.onDblclick),M(t.ownerDocument,at,this.onCropMove),M(t.ownerDocument,st,this.onCropEnd),e.responsive&&M(window,"resize",this.onResize)}},At={resize:function(){var t=this.options,e=this.container,i=this.containerData,n=Number(t.minContainerWidth)||200,o=Number(t.minContainerHeight)||100;if(!(this.disabled||i.width<=n||i.height<=o)){var r=e.offsetWidth/i.width;if(1!==r||e.offsetHeight!==i.height){var a,s;t.restore&&(a=this.getCanvasData(),s=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(p(a,function(t,e){a[e]=t*r})),this.setCropBoxData(p(s,function(t,e){s[e]=t*r})))}}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(v(this.dragBox,U)?"move":"crop")},wheel:function(t){var e=this,i=Number(this.options.wheelZoomRatio)||.1,n=1;this.disabled||(t.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout(function(){e.wheeling=!1},50),t.deltaY?n=t.deltaY>0?1:-1:t.wheelDelta?n=-t.wheelDelta/120:t.detail&&(n=t.detail>0?1:-1),this.zoom(-n*i,t)))},cropStart:function(t){var e=t.buttons,i=t.button;if(!(this.disabled||l(e)&&1!==e||l(i)&&0!==i||t.ctrlKey)){var n,o=this.options,r=this.pointers;t.changedTouches?p(t.changedTouches,function(t){r[t.identifier]=O(t)}):r[t.pointerId||0]=O(t),n=Object.keys(r).length>1&&o.zoomable&&o.zoomOnTouch?"zoom":b(t.target,tt),lt.test(n)&&!1!==T(this.element,"cropstart",{originalEvent:t,action:n})&&(t.preventDefault(),this.action=n,this.cropping=!1,"crop"===n&&(this.cropping=!0,y(this.dragBox,Q)))}},cropMove:function(t){var e=this.action;if(!this.disabled&&e){var i=this.pointers;t.preventDefault(),!1!==T(this.element,"cropmove",{originalEvent:t,action:e})&&(t.changedTouches?p(t.changedTouches,function(t){mt(i[t.identifier]||{},O(t,!0))}):mt(i[t.pointerId||0]||{},O(t,!0)),this.change(t))}},cropEnd:function(t){if(!this.disabled){var e=this.action,i=this.pointers;t.changedTouches?p(t.changedTouches,function(t){delete i[t.identifier]}):delete i[t.pointerId||0],e&&(t.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,x(this.dragBox,Q,this.cropped&&this.options.modal)),T(this.element,"cropend",{originalEvent:t,action:e}))}}},kt={change:function(t){var e,i=this.options,n=this.canvasData,o=this.containerData,r=this.cropBoxData,a=this.pointers,s=this.action,l=i.aspectRatio,h=r.left,c=r.top,u=r.width,d=r.height,f=h+u,g=c+d,m=0,v=0,y=o.width,x=o.height,w=!0;!l&&t.shiftKey&&(l=u&&d?u/d:1),this.limited&&(m=r.minLeft,v=r.minTop,y=m+Math.min(o.width,n.width,n.left+n.width),x=v+Math.min(o.height,n.height,n.top+n.height));var b=a[Object.keys(a)[0]],S={x:b.endX-b.startX,y:b.endY-b.startY},D=function(t){switch(t){case"e":f+S.x>y&&(S.x=y-f);break;case"w":h+S.x<m&&(S.x=m-h);break;case"n":c+S.y<v&&(S.y=v-c);break;case"s":g+S.y>x&&(S.y=x-g)}};switch(s){case"all":h+=S.x,c+=S.y;break;case"e":if(S.x>=0&&(f>=y||l&&(c<=v||g>=x))){w=!1;break}D("e"),u+=S.x,u<0&&(s="w",u=-u,h-=u),l&&(d=u/l,c+=(r.height-d)/2);break;case"n":if(S.y<=0&&(c<=v||l&&(h<=m||f>=y))){w=!1;break}D("n"),d-=S.y,c+=S.y,d<0&&(s="s",d=-d,c-=d),l&&(u=d*l,h+=(r.width-u)/2);break;case"w":if(S.x<=0&&(h<=m||l&&(c<=v||g>=x))){w=!1;break}D("w"),u-=S.x,h+=S.x,u<0&&(s="e",u=-u,h-=u),l&&(d=u/l,c+=(r.height-d)/2);break;case"s":if(S.y>=0&&(g>=x||l&&(h<=m||f>=y))){w=!1;break}D("s"),d+=S.y,d<0&&(s="n",d=-d,c-=d),l&&(u=d*l,h+=(r.width-u)/2);break;case"ne":if(l){if(S.y<=0&&(c<=v||f>=y)){w=!1;break}D("n"),d-=S.y,c+=S.y,u=d*l}else D("n"),D("e"),S.x>=0?f<y?u+=S.x:S.y<=0&&c<=v&&(w=!1):u+=S.x,S.y<=0?c>v&&(d-=S.y,c+=S.y):(d-=S.y,c+=S.y);u<0&&d<0?(s="sw",d=-d,u=-u,c-=d,h-=u):u<0?(s="nw",u=-u,h-=u):d<0&&(s="se",d=-d,c-=d);break;case"nw":if(l){if(S.y<=0&&(c<=v||h<=m)){w=!1;break}D("n"),d-=S.y,c+=S.y,u=d*l,h+=r.width-u}else D("n"),D("w"),S.x<=0?h>m?(u-=S.x,h+=S.x):S.y<=0&&c<=v&&(w=!1):(u-=S.x,h+=S.x),S.y<=0?c>v&&(d-=S.y,c+=S.y):(d-=S.y,c+=S.y);u<0&&d<0?(s="se",d=-d,u=-u,c-=d,h-=u):u<0?(s="ne",u=-u,h-=u):d<0&&(s="sw",d=-d,c-=d);break;case"sw":if(l){if(S.x<=0&&(h<=m||g>=x)){w=!1;break}D("w"),u-=S.x,h+=S.x,d=u/l}else D("s"),D("w"),S.x<=0?h>m?(u-=S.x,h+=S.x):S.y>=0&&g>=x&&(w=!1):(u-=S.x,h+=S.x),S.y>=0?g<x&&(d+=S.y):d+=S.y;u<0&&d<0?(s="ne",d=-d,u=-u,c-=d,h-=u):u<0?(s="se",u=-u,h-=u):d<0&&(s="nw",d=-d,c-=d);break;case"se":if(l){if(S.x>=0&&(f>=y||g>=x)){w=!1;break}D("e"),u+=S.x,d=u/l}else D("s"),D("e"),S.x>=0?f<y?u+=S.x:S.y>=0&&g>=x&&(w=!1):u+=S.x,S.y>=0?g<x&&(d+=S.y):d+=S.y;u<0&&d<0?(s="nw",d=-d,u=-u,c-=d,h-=u):u<0?(s="sw",u=-u,h-=u):d<0&&(s="ne",d=-d,c-=d);break;case"move":this.move(S.x,S.y),w=!1;break;case"zoom":this.zoom(L(a),t),w=!1;break;case"crop":if(!S.x||!S.y){w=!1;break}e=I(this.cropper),h=b.startX-e.left,c=b.startY-e.top,u=r.minWidth,d=r.minHeight,S.x>0?s=S.y>0?"se":"ne":S.x<0&&(h-=u,s=S.y>0?"sw":"nw"),S.y<0&&(c-=d),this.cropped||(_(this.cropBox,Z),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}w&&(r.width=u,r.height=d,r.left=h,r.top=c,this.action=s,this.renderCropBox()),p(a,function(t){t.startX=t.endX,t.startY=t.endY})}},Et={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&y(this.dragBox,Q),_(this.cropBox,Z),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=mt({},this.initialImageData),this.canvasData=mt({},this.initialCanvasData),this.cropBoxData=mt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(mt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),_(this.dragBox,Q),y(this.cropBox,Z)),this},replace:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&t&&(this.isImg&&(this.element.src=t),e?(this.url=t,this.image.src=t,this.ready&&(this.viewBoxImage.src=t,p(this.previews,function(e){e.getElementsByTagName("img")[0].src=t}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(t))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,_(this.cropper,q)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,y(this.cropper,q)),this},destroy:function(){var t=this.element;return t.cropper?(t.cropper=void 0,this.isImg&&this.replaced&&(t.src=this.originalUrl),this.uncreate(),this):this},move:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=i.left,o=i.top;return this.moveTo(h(t)?t:n+Number(t),h(e)?e:o+Number(e))},moveTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.canvasData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(l(t)&&(i.left=t,n=!0),l(e)&&(i.top=e,n=!0),n&&this.renderCanvas(!0)),this},zoom:function(t,e){var i=this.canvasData;return t=Number(t),t=t<0?1/(1-t):1+t,this.zoomTo(i.width*t/i.naturalWidth,null,e)},zoomTo:function(t,e,i){var n=this.options,o=this.canvasData,r=o.width,a=o.height,s=o.naturalWidth,h=o.naturalHeight;if((t=Number(t))>=0&&this.ready&&!this.disabled&&n.zoomable){var c=s*t,d=h*t;if(!1===T(this.element,"zoom",{ratio:t,oldRatio:r/s,originalEvent:i}))return this;if(i){var f=this.pointers,p=I(this.cropper),g=f&&Object.keys(f).length?P(f):{pageX:i.pageX,pageY:i.pageY};o.left-=(c-r)*((g.pageX-p.left-o.left)/r),o.top-=(d-a)*((g.pageY-p.top-o.top)/a)}else u(e)&&l(e.x)&&l(e.y)?(o.left-=(c-r)*((e.x-o.left)/r),o.top-=(d-a)*((e.y-o.top)/a)):(o.left-=(c-r)/2,o.top-=(d-a)/2);o.width=c,o.height=d,this.renderCanvas(!0)}return this},rotate:function(t){return this.rotateTo((this.imageData.rotate||0)+Number(t))},rotateTo:function(t){return t=Number(t),l(t)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=t%360,this.renderCanvas(!0,!0)),this},scaleX:function(t){var e=this.imageData.scaleY;return this.scale(t,l(e)?e:1)},scaleY:function(t){var e=this.imageData.scaleX;return this.scale(l(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,i=this.imageData,n=!1;return t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(l(t)&&(i.scaleX=t,n=!0),l(e)&&(i.scaleY=e,n=!0),n&&this.renderCanvas(!0,!0)),this},getData:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,n=this.imageData,o=this.canvasData,r=this.cropBoxData;if(this.ready&&this.cropped){t={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height};var a=n.width/n.naturalWidth;if(p(t,function(e,i){t[i]=e/a}),e){var s=Math.round(t.y+t.height),l=Math.round(t.x+t.width);t.x=Math.round(t.x),t.y=Math.round(t.y),t.width=l-t.x,t.height=s-t.y}}else t={x:0,y:0,width:0,height:0};return i.rotatable&&(t.rotate=n.rotate||0),i.scalable&&(t.scaleX=n.scaleX||1,t.scaleY=n.scaleY||1),t},setData:function(t){var e=this.options,i=this.imageData,n=this.canvasData,o={};if(this.ready&&!this.disabled&&u(t)){var r=!1;e.rotatable&&l(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,r=!0),e.scalable&&(l(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,r=!0),l(t.scaleY)&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var a=i.width/i.naturalWidth;l(t.x)&&(o.left=t.x*a+n.left),l(t.y)&&(o.top=t.y*a+n.top),l(t.width)&&(o.width=t.width*a),l(t.height)&&(o.height=t.height*a),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?mt({},this.containerData):{}},getImageData:function(){return this.sized?mt({},this.imageData):{}},getCanvasData:function(){var t=this.canvasData,e={};return this.ready&&p(["left","top","width","height","naturalWidth","naturalHeight"],function(i){e[i]=t[i]}),e},setCanvasData:function(t){var e=this.canvasData,i=e.aspectRatio;return this.ready&&!this.disabled&&u(t)&&(l(t.left)&&(e.left=t.left),l(t.top)&&(e.top=t.top),l(t.width)?(e.width=t.width,e.height=t.width/i):l(t.height)&&(e.height=t.height,e.width=t.height*i),this.renderCanvas(!0)),this},getCropBoxData:function(){var t,e=this.cropBoxData;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(t){var e,i,n=this.cropBoxData,o=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&u(t)&&(l(t.left)&&(n.left=t.left),l(t.top)&&(n.top=t.top),l(t.width)&&t.width!==n.width&&(e=!0,n.width=t.width),l(t.height)&&t.height!==n.height&&(i=!0,n.height=t.height),o&&(e?n.height=n.width/o:i&&(n.width=n.height*o)),this.renderCropBox()),this},getCroppedCanvas:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var e=this.canvasData,i=z(this.image,this.imageData,e,t);if(!this.cropped)return i;var n=this.getData(),r=n.x,a=n.y,s=n.width,l=n.height,h=i.width/Math.floor(e.naturalWidth);1!==h&&(r*=h,a*=h,s*=h,l*=h);var c=s/l,u=N({aspectRatio:c,width:t.maxWidth||1/0,height:t.maxHeight||1/0}),d=N({aspectRatio:c,width:t.minWidth||0,height:t.minHeight||0},"cover"),f=N({aspectRatio:c,width:t.width||(1!==h?i.width:s),height:t.height||(1!==h?i.height:l)}),p=f.width,m=f.height;p=Math.min(u.width,Math.max(d.width,p)),m=Math.min(u.height,Math.max(d.height,m));var v=document.createElement("canvas"),y=v.getContext("2d");v.width=g(p),v.height=g(m),y.fillStyle=t.fillColor||"transparent",y.fillRect(0,0,p,m);var _=t.imageSmoothingEnabled,x=void 0===_||_,w=t.imageSmoothingQuality;y.imageSmoothingEnabled=x,w&&(y.imageSmoothingQuality=w);var b,S,D,M,C,T,I=i.width,A=i.height,k=r,E=a;k<=-s||k>I?(k=0,b=0,D=0,C=0):k<=0?(D=-k,k=0,b=Math.min(I,s+k),C=b):k<=I&&(D=0,b=Math.min(s,I-k),C=b),b<=0||E<=-l||E>A?(E=0,S=0,M=0,T=0):E<=0?(M=-E,E=0,S=Math.min(A,l+E),T=S):E<=A&&(M=0,S=Math.min(l,A-E),T=S);var L=[k,E,b,S];if(C>0&&T>0){var O=p/s;L.push(D*O,M*O,C*O,T*O)}return y.drawImage.apply(y,[i].concat(o(L.map(function(t){return Math.floor(g(t))})))),v},setAspectRatio:function(t){var e=this.options;return this.disabled||h(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(t){var e=this.options,i=this.dragBox,n=this.face;if(this.ready&&!this.disabled){var o="crop"===t,r=e.movable&&"move"===t;t=o||r?t:"none",e.dragMode=t,S(i,tt,t),x(i,U,o),x(i,J,r),e.cropBoxMovable||(S(n,tt,t),x(n,U,o),x(n,J,r))}return this}},Lt=G.Cropper,Ot=function(){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e(this,t),!i||!ct.test(i.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=i,this.options=mt({},ut,u(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return n(t,[{key:"init",value:function(){var t,e=this.element,i=e.tagName.toLowerCase();if(!e.cropper){if(e.cropper=this,"img"===i){if(this.isImg=!0,t=e.getAttribute("src")||"",this.originalUrl=t,!t)return;t=e.src}else"canvas"===i&&window.HTMLCanvasElement&&(t=e.toDataURL());this.load(t)}}},{key:"load",value:function(t){var e=this;if(t){this.url=t,this.imageData={};var i=this.element,n=this.options;if(n.rotatable||n.scalable||(n.checkOrientation=!1),!n.checkOrientation||!window.ArrayBuffer)return void this.clone();if(ht.test(t))return void this.read(H(t));var o=new XMLHttpRequest,r=this.clone.bind(this);this.reloading=!0,this.xhr=o,o.onabort=r,o.onerror=r,o.ontimeout=r,o.onprogress=function(){"image/jpeg"!==o.getResponseHeader("content-type")&&o.abort()},o.onload=function(){e.read(o.response)},o.onloadend=function(){e.reloading=!1,e.xhr=null},n.checkCrossOrigin&&A(t)&&i.crossOrigin&&(t=k(t)),o.open("GET",t),o.responseType="arraybuffer",o.withCredentials="use-credentials"===i.crossOrigin,o.send()}}},{key:"read",value:function(t){var e=this.options,i=this.imageData,n=W(t),o=0,r=1,a=1;if(n>1){this.url=V(t,"image/jpeg");var s=F(n);o=s.rotate,r=s.scaleX,a=s.scaleY}e.rotatable&&(i.rotate=o),e.scalable&&(i.scaleX=r,i.scaleY=a),this.clone()}},{key:"clone",value:function(){var t,e,i=this.element,n=this.url;this.options.checkCrossOrigin&&A(n)&&(t=i.crossOrigin,t?e=n:(t="anonymous",e=k(n))),this.crossOrigin=t,this.crossOriginUrl=e;var o=document.createElement("img");t&&(o.crossOrigin=t),o.src=e||n,this.image=o,o.onload=this.start.bind(this),o.onerror=this.stop.bind(this),y(o,X),i.parentNode.insertBefore(o,i.nextSibling)}},{key:"start",value:function(){var t=this,e=this.isImg?this.element:this.image;e.onload=null,e.onerror=null,this.sizing=!0;var i=G.navigator&&/^(?:.(?!chrome|android))*safari/i.test(G.navigator.userAgent),n=function(e,i){mt(t.imageData,{naturalWidth:e,naturalHeight:i,aspectRatio:e/i}),t.sizing=!1,t.sized=!0,t.build()};if(e.naturalWidth&&!i)return void n(e.naturalWidth,e.naturalHeight);var o=document.createElement("img"),r=document.body||document.documentElement;this.sizingImage=o,o.onload=function(){n(o.width,o.height),i||r.removeChild(o)},o.src=e.src,i||(o.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",r.appendChild(o))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var t=this.element,e=this.options,i=this.image,n=t.parentNode,o=document.createElement("div");o.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var r=o.querySelector(".".concat("cropper","-container")),a=r.querySelector(".".concat("cropper","-canvas")),s=r.querySelector(".".concat("cropper","-drag-box")),l=r.querySelector(".".concat("cropper","-crop-box")),h=l.querySelector(".".concat("cropper","-face"));this.container=n,this.cropper=r,this.canvas=a,this.dragBox=s,this.cropBox=l,this.viewBox=r.querySelector(".".concat("cropper","-view-box")),this.face=h,a.appendChild(i),y(t,Z),n.insertBefore(r,t.nextSibling),this.isImg||_(i,X),this.initPreview(),this.bind(),e.initialAspectRatio=Math.max(0,e.initialAspectRatio)||NaN,e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,y(l,Z),e.guides||y(l.getElementsByClassName("".concat("cropper","-dashed")),Z),e.center||y(l.getElementsByClassName("".concat("cropper","-center")),Z),e.background&&y(r,"".concat("cropper","-bg")),e.highlight||y(h,K),e.cropBoxMovable&&(y(h,J),S(h,tt,"all")),e.cropBoxResizable||(y(l.getElementsByClassName("".concat("cropper","-line")),Z),y(l.getElementsByClassName("".concat("cropper","-point")),Z)),this.render(),this.ready=!0,this.setDragMode(e.dragMode),e.autoCrop&&this.crop(),this.setData(e.data),d(e.ready)&&C(t,"ready",e.ready,{once:!0}),T(t,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),_(this.element,Z))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Lt,t}},{key:"setDefaults",value:function(t){mt(ut,u(t)&&t)}}]),t}();return mt(Ot.prototype,Ct,Tt,It,At,kt,Et),Ot});